!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:o})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=269)}([function(e,t){e.exports=React},function(e,t){e.exports=ReactRedux},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(8);t.changeBreakpointAction=function(){return{type:o.CHANGE_BREAKPOINT}},t.changeGuidesVisibilityAction=function(e){return{type:o.CHANGE_GUIDES_VISIBILITY,guidesVisibility:e}},t.changeColumnGutterAction=function(e){return{type:o.CHANGE_COLUMN_GUTTER,colGutter:e}},t.changeRowGuttersAction=function(e){return{type:o.CHANGE_ROW_GUTTERS,rowGutter:e}},t.changeTopFrameMarginAction=function(e){return{type:o.CHANGE_TOP_FRAME_MARGIN,topFrameMargin:e}},t.changeBottomFrameMarginAction=function(e){return{type:o.CHANGE_BOTTOM_FRAME_MARGIN,bottomFrameMargin:e}},t.changeFrameMarginAction=function(e){return{type:o.CHANGE_FRAME_MARGIN,frameMargin:e}},t.toggleSelectedElementIdAction=function(e){return{type:o.TOGGLE_SELECTED_ELEMENT,selectedElementId:e}},t.setSelectedElementsIdAction=function(e){return{type:o.SET_SELECTED_ELEMENTS,selectedElementsId:e}},t.shiftSelectedElementsIdAction=function(e){return{type:o.SHIFT_SELECTED_ELEMENTS,shiftElementId:e}},t.toggleSelectedRowGutterAction=function(e){return{type:o.TOGGLE_SELECTED_ROW_GUTTER,selectedRowGutter:e}},t.setSelectedRowGuttersAction=function(e){return{type:o.SET_SELECTED_ROW_GUTTERS,selectedRowGutters:e}},t.changeAlignOfSelectedElementsAction=function(e){return{type:o.CHANGE_ALIGN_OF_SELECTED_ELEMENTS,align:e}},t.setContentWrapperWidthAction=function(e){return{type:o.SET_CONTENT_WRAPPER_WIDTH,width:e}},t.setBackgroundColorAction=function(e){return{type:o.SET_BACKGROUND_COLOR,bgColor:e}},t.setHeaderHeightAction=function(e){return{type:o.SET_HEADER_HEIGHT,headerHeight:e}},t.startDndAction=function(e,t){return{type:o.START_DND,relid:e,event:t}},t.startResizeAction=function(e,t,n,r){return{type:o.START_RESIZE,relid:e,event:t,directionIsLeft:n,altKeyPressed:r}},t.setNoticeAction=function(e){return{type:o.SET_NOTICE,reason:e}},t.unsetNoticeAction=function(){return{type:o.UNSET_NOTICE}},t.insertRowAction=function(e){return{type:o.INSERT_ROW,rowIndex:e}},t.moveUpRowAction=function(e){return{type:o.MOVE_UP_ROW,rowIndex:e}},t.moveDownRowAction=function(e){return{type:o.MOVE_DOWN_ROW,rowIndex:e}},t.deleteRowAction=function(e){return{type:o.DELETE_ROW,rowIndex:e}},t.setRowAttr100vhAction=function(e,t){return{type:o.SET_ROW_ATTR_100vh,row:e,row100vh:t}},t.setRowAttrBgcolorAction=function(e,t){return{type:o.SET_ROW_ATTR_BGCOLOR,row:e,bgcolor:t}},t.changeElementSpaceAboveAction=function(e,t){return{type:o.CHANGE_ELEMENT_SPACE_ABOVE,relid:e,spaceabove:t}},t.changeElementSpaceBelowAction=function(e,t){return{type:o.CHANGE_ELEMENT_SPACE_BELOW,relid:e,spacebelow:t}},t.changeElementOffsetXAction=function(e,t){return{type:o.CHANGE_ELEMENT_OFFSET_X,relid:e,offsetx:t}},t.changeElementOffsetYAction=function(e,t){return{type:o.CHANGE_ELEMENT_OFFSET_Y,relid:e,offsety:t}},t.changeElementYvel=function(e,t){return{type:o.CHANGE_ELEMENT_YVEL,relid:e,yvel:t}},t.changeElementIsScrollToTop=function(e,t){return{type:o.CHANGE_IS_SCROLL_TO_TOP,relid:e,isscrolltotop:t}},t.changeElementLbOff=function(e,t){return{type:o.CHANGE_LB_OFF,relid:e,lightboxoff:t}},t.setAddElementsAction=function(e){return{type:o.SET_ADD_ELEMENTS,cont:e}},t.setElementContentAction=function(e,t){return{type:o.SET_ELEMENT_CONTENT,relid:e,cont:t}},t.setElementDoSyncAction=function(e){return{type:o.SET_ELEMENT_DO_SYNC,relid:e}},t.setElementDoNotSyncAction=function(e){return{type:o.SET_ELEMENT_DO_NOT_SYNC,relid:e}},t.maybeSyncElementAction=function(e){return{type:o.MAYBE_SYNC_ELEMENT,relid:e}},t.changeAddElementPositionAction=function(e,t,n,r,i){return{type:o.CHANGE_ADD_ELEMENT_POSITION,row:e,col:t,colspan:n,align:r,rowOffset:i}},t.addElementToContAction=function(e){return{type:o.ADD_ELEMENT_TO_CONT,cont:e}},t.deleteElementsAction=function(e){return{type:o.DELETE_ELEMENTS,relids:e}},t.openModalAddAction=function(e){return{type:o.OPEN_MODAL_ADD,elementType:e}},t.openModalEditAction=function(e,t){return{type:o.OPEN_MODAL_EDIT,relid:e,target:t}},t.closeModalAction=function(){return{type:o.CLOSE_MODAL}},t.deleteAddElements=function(){return{type:o.DELETE_ADD_ELEMENTS}},t.setTemplateAction=function(e,t){return void 0===t&&(t=null),{type:o.SET_TEMPLATE,templateDesktopJson:e,templatePhoneJson:t}},t.initRowAttrsAction=function(){return{type:o.INIT_ROW_ATTRS}},t.setRowAttrsAction=function(e,t){return{type:o.SET_ROW_ATTRS,row:e,cont:t}},t.openModalEditElementClassesHtmlIdAction=function(e){return{type:o.OPEN_MODAL_EDIT_ELEMENT_CLASSES_HTML_ID,relid:e}},t.openModalEditElementLinkImageAction=function(e){return{type:o.OPEN_MODAL_EDIT_ELEMENT_LINK_IMAGE,relid:e}},t.openModalEditRowClassesHtmlIdAction=function(e){return{type:o.OPEN_MODAL_EDIT_ROW_CLASSES_HTML_ID,row:e}},t.openModalEditRowBgVideoAction=function(e){return{type:o.OPEN_MODAL_EDIT_ROW_BG_VIDEO,row:e}},t.openModalEditRowBgImageAction=function(e){return{type:o.OPEN_MODAL_EDIT_ROW_BG_IMAGE,row:e}},t.openModalEditRowBgLink=function(e){return{type:o.OPEN_MODAL_EDIT_ROW_BG_LINK,row:e}},t.setGridderJsonFieldAction=function(e){return{type:o.SET_GRIDDER_JSON_FIELD,jsonField:e}},t.setPhoneGridderJsonFieldAction=function(e){return{type:o.SET_PHONE_GRIDDER_JSON_FIELD,jsonField:e}},t.createStackedPhoneLayoutAction=function(){return{type:o.CREATE_STACKED_PHONE_LAYOUT}},t.createEmptyPhoneLayoutAction=function(){return{type:o.CREATE_EMPTY_PHONE_LAYOUT}},t.createCopiedPhoneLayoutAction=function(){return{type:o.CREATE_COPIED_PHONE_LAYOUT}},t.deletePhoneLayoutAction=function(){return{type:o.DELETE_PHONE_LAYOUT}},t.updateElementsHeightAction=function(e){return{type:o.UPDATE_ELEMENTS_HEIGHT,elementsHeight:e}},t.updateRowsHeightAction=function(e){return{type:o.UPDATE_ROWS_HEIGHT,rowsHeight:e}},t.updateRowsTopAction=function(e){return{type:o.UPDATE_ROWS_TOP,rowsTop:e}},t.updateThumbnailsOfCategoryAction=function(e,t){return{type:o.UPDATE_THUMBNAILS_OF_CATEGORY,catId:e,posts:t}}},function(e,t){e.exports=Redux},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(18),r=n(5),i=n(6),s=n(7);function a(e){return"string"==typeof e&&e.startsWith(i.default.siteUrl)?e.slice(i.default.siteUrl.length):e}function l(e,t){for(var n=[],o=0,i=[e,t];o<i.length;o++){var s=i[o];if(null!==s)for(var a=0,l=s.cont;a<l.length;a++){var c=l[a];if(c.hasOwnProperty("relid")&&-1===n.indexOf(c.relid)&&n.push(c.relid),c.type===r.ElementTypeEnum.STACK)for(var u=0,d=c.cont;u<d.length;u++){var p=d[u];p.hasOwnProperty("relid")&&-1===n.indexOf(p.relid)&&n.push(p.relid)}}}return n}function c(e){for(var t=-1;;)if(t=Number(o.uniqueId()),-1===e.indexOf(t))return t}function u(e){return!!e&&-1!==["both","left"].indexOf(e)}function d(e){return!!e&&-1!==["both","right"].indexOf(e)}t.getRandomInt=function(e){return Math.floor(Math.random()*Math.floor(e))},t.calcRowCount=function(e){var t=0;if(e.rowGutters.length>0&&(t=e.rowGutters.length+1),e.rowAttrs.length>0&&(t=Math.max(e.rowAttrs.length,t)),e.cont.length>0){t=Math.max(1,t);for(var n=0,o=e.cont;n<o.length;n++){var r=o[n];t=Math.max(r.row,t)}}return t},t.getContImageURL=function(e){return a(e.full)},t.getRelativeSizes=function(e){var t={};t={full:a(e.full.url)};for(var n=0,o=r.SHORT_SIZES_ARRAY;n<o.length;n++){var i=o[n];e.hasOwnProperty(i)&&(t[i]=a(e[i].url))}return t},t.getRelativeURL=a,t.getStaticURL=function(e){return"string"!=typeof e||e.startsWith("http")||e.startsWith("mailto:")||e.startsWith("tel:")||e.startsWith("#")?e:i.default.siteUrl+e},t.sortElementFunc=function(e,t){return e.row<t.row?-1:e.row>t.row?1:e.col<t.col?-1:e.col>t.col?1:0},t.calcPushes=function(e,t){var n=0,o=0,i=0,s=0,a=0,l=0,c="";for(var u in e){o=e[u].row,c=e[u].type,s=e[u].col,a=e[u].colspan;var d=!1;null!==t[o]&&void 0!==t[o]&&!0===t[o].row100vh&&(d=!0),o!==i&&(n=0);var p=[r.ElementTypeEnum.TEXT];if(d&&-1!==p.indexOf(c)?l=s:(n>s&&(n=0),l=s-n,n=s+a),e[u].push=l,i=o,e[u].type===r.ElementTypeEnum.STACK)for(var h in e[u].cont)e[u].cont[h].push=e[u].cont[h].col}return e},t.processInstagramEmbeds=function(){setTimeout(function(){void 0!==window.instgrm&&window.instgrm.Embeds.process()},0)},t.getDesktopGridderJsonDefault=function(){var e=new Array;return e.push({}),{colCount:Number(i.default.gridderDefaults.colCount),colGutter:Number(i.default.gridderDefaults.colGutter),rowGutters:new Array,frameMargin:Number(i.default.gridderDefaults.frameMargin),topFrameMargin:Number(i.default.gridderDefaults.topFrameMargin),bottomFrameMargin:Number(i.default.gridderDefaults.bottomFrameMargin),rowAttrs:e,bgColor:null,cont:new Array}},t.getPhoneGridderJsonDefault=function(){var e=new Array;return e.push({}),{colCount:Number(i.default.gridderDefaults.phoneColCount),colGutter:Number(i.default.gridderDefaults.phoneColGutter),rowGutters:new Array,frameMargin:Number(i.default.gridderDefaults.phoneFrame),topFrameMargin:Number(i.default.gridderDefaults.phoneTopFrame),bottomFrameMargin:Number(i.default.gridderDefaults.phoneBottomFrame),rowAttrs:e,bgColor:null,cont:new Array}},t.initRelids=function(e,t){for(var n=l(e,t),o=0,i=[e,t];o<i.length;o++){var s=i[o];if(null!==s)for(var a=0,u=s.cont;a<u.length;a++){var d=u[a];if(d.hasOwnProperty("relid")||(d.relid=c(n),n.push(d.relid)),d.type===r.ElementTypeEnum.STACK)for(var p=0,h=s.cont;p<h.length;p++)h[p],d.hasOwnProperty("relid")||(d.relid=c(n),n.push(d.relid))}}},t.getRelids=l,t.createUniqueId=c,t.trunc=function(e,t,n){void 0===n&&(n=!0);var o=e.length>t,r=o?e.substr(0,t-1):e;return r=n&&o?r.substr(0,r.lastIndexOf(" ")):r,o?r+"&hellip;":r},t.preventEnter=function(e){13===e.keyCode&&e.preventDefault()},t.isGif=function(e){return".gif"===e.substr(e.length-4)},t.showJsonInvalidError=function(e,t){jQuery("#wpwrap .wrap .updated.error").remove(),jQuery("#wpwrap .wrap").prepend(String()+'<div class="updated error"><p>Your '+t+' Layout\'s JSON was invalidated. Click "Restore last data" to restore your last layout data.</p><p>Please copy the following text and send it to <a href="mailto:'+s.default.supportEmail+'">'+s.default.supportEmail+'</a> with a short description of what you did before this error happened.</p><p>If you like you can create a new layout in the empty Gridder below but then your old layout will be lost for sure.</p><textarea style="width: 100%; height: 200px;" onclick="this.focus();this.select()">'+o.escape(e)+'</textarea><a id="restore-last-data" style="margin-bottom:5px;" class="button button-primary button-large">Restore last data</a></div>'),jQuery("html,body").scrollTop(0),jQuery("#restore-last-data").on("click",function(){jQuery(this).attr("disabled","disabled");var e={action:"get_gridder_revision",id:i.default.id,screen_base:i.default.screenBase};jQuery.post(i.default.ajaxUrl,e,function(e){jQuery("#wpwrap .wrap .updated.error").remove(),setTimeout(function(){document.location.reload()},0)})})},t.precisionRound=function(e,t){var n=Math.pow(10,t);return Math.round(e*n)/n},t.isFrameOverflowLeft=u,t.isFrameOverflowRight=d,t.mergeFrameOverflowLeft=function(e,t){return d(e)?t?"both":"right":t?"left":""},t.mergeFrameOverflowRight=function(e,t){return u(e)?t?"both":"left":t?"right":""},t.checkNewAdditionalElements=function(e,t){return!!(e.additionalElements&&t.additionalElements&&e.additionalElements instanceof Array&&t.additionalElements instanceof Array&&0===t.additionalElements.length&&e.additionalElements.length>0)}},function(e,t,n){"use strict";function o(e){if(!(e instanceof Array))return new Array;for(var t=new Array,n=0,o=e;n<o.length;n++){var r=o[n];t.push(Number(r))}return t}function r(e){if(!(e instanceof Array))return new Array;for(var t=new Array,n=0,o=e;n<o.length;n++){var r=o[n];t.push(i(r))}return t}function i(e){if(!(e instanceof Object))return{};var t={};return e.hasOwnProperty("bgcolor")&&""!==String(e.bgcolor)&&(t.bgcolor=String(e.bgcolor)),e.hasOwnProperty("bgvideo")&&null!==e.bgvideo&&(t.bgvideo=a(e.bgvideo)),e.hasOwnProperty("bgimage")&&null!==e.bgimage&&(t.bgimage=s(e.bgimage)),e.hasOwnProperty("row100vh")&&(t.row100vh=Boolean(e.row100vh)),e.hasOwnProperty("html_id")&&""!==String(e.html_id)&&(t.html_id=String(e.html_id)),e.hasOwnProperty("classes")&&""!==String(e.classes)&&(t.classes=String(e.classes)),e.hasOwnProperty("link")&&(t.link=b(e.link)),t}function s(e){if(!(e instanceof Object))return null;var t=e;return e.hasOwnProperty("attid")&&(t.attid=Number(e.attid)),e.hasOwnProperty("url")&&(t.url=String(e.url)),e.hasOwnProperty("sizes")&&(t.sizes=h(e.sizes)),t}function a(e){if(!(e instanceof Object))return null;var t=e;return e.hasOwnProperty("mp4")&&(t.mp4=String(e.mp4)),e.hasOwnProperty("mp4Ar")&&(t.mp4Ar=Number(e.mp4Ar)),e.hasOwnProperty("filename")&&(t.filename=String(e.filename)),e.hasOwnProperty("image")&&(t.image=p(e.image)),e.hasOwnProperty("imageAr")&&null!==e.imageAr&&(t.imageAr=Number(e.imageAr)),t}var l,c;function u(e){if(!(e instanceof Array))return new Array;for(var t=new Array,n=0,o=e;n<o.length;n++){var r=o[n];t.push(d(r))}return t}function d(e){if(!(e instanceof Object))return null;var t=e;return e.hasOwnProperty("type")&&(e.type===l.IMAGE&&e.hasOwnProperty("postid")?t.type=l.POST_THUMBNAIL:e.type===l.PROJECT?t.type=l.POST_THUMBNAIL:t.type=e.type),e.hasOwnProperty("cont")&&t.type===l.STACK&&(t.cont=u(e.cont)),e.hasOwnProperty("align")&&(t.align=String(e.align)),e.hasOwnProperty("row")&&(t.row=Number(e.row)),e.hasOwnProperty("col")&&(t.col=Number(e.col)),e.hasOwnProperty("colspan")&&(t.colspan=Number(e.colspan)),e.hasOwnProperty("frameOverflow")&&-1!==["right","left","both"].indexOf(e.frameOverflow)&&(t.frameOverflow=e.frameOverflow),e.hasOwnProperty("offsetx")&&(t.offsetx=Number(e.offsetx)),e.hasOwnProperty("offsety")&&(t.offsety=Number(e.offsety)),e.hasOwnProperty("spaceabove")&&(t.spaceabove=Number(e.spaceabove)),e.hasOwnProperty("spacebelow")&&(t.spacebelow=Number(e.spacebelow)),e.hasOwnProperty("push")&&(t.push=Number(e.push)),e.hasOwnProperty("relid")&&(t.relid=Number(e.relid)),e.hasOwnProperty("attid")&&(t.attid=Number(e.attid)),e.hasOwnProperty("sizes")&&(t.sizes=p(e.sizes)),e.hasOwnProperty("w")&&(t.w=Number(e.w)),e.hasOwnProperty("h")&&(t.h=Number(e.h)),e.hasOwnProperty("classes")&&(t.classes=String(e.classes)),e.hasOwnProperty("html_id")&&(t.html_id=String(e.html_id)),e.hasOwnProperty("imagelink")&&(t.imagelink=b(e.imagelink)),e.hasOwnProperty("caption")&&(t.caption=String(e.caption)),e.hasOwnProperty("iframe")&&(t.iframe=String(e.iframe)),e.hasOwnProperty("url")&&(t.url=String(e.url)),e.hasOwnProperty("mp4")&&(t.mp4=String(e.mp4)),e.hasOwnProperty("filename")&&(t.filename=String(e.filename)),e.hasOwnProperty("imgar")&&(t.imgar=Number(e.imgar)),e.hasOwnProperty("loop")&&(t.loop=Boolean(e.loop)),e.hasOwnProperty("mute")&&(t.mute=Boolean(e.mute)),e.hasOwnProperty("autoplay")&&(t.autoplay=Boolean(e.autoplay)),e.hasOwnProperty("controls")&&(t.controls=Boolean(e.controls)),e.hasOwnProperty("playicon")&&(t.playicon=Boolean(e.playicon)),e.hasOwnProperty("dosync")&&(t.dosync=Boolean(e.dosync)),e.hasOwnProperty("ar")&&(t.ar=Number(e.ar)),e.hasOwnProperty("alt")&&(t.alt=String(e.alt)),e.hasOwnProperty("yvel")&&(t.yvel=Number(e.yvel)),e.hasOwnProperty("playpauseonclick")&&(t.playpauseonclick=Boolean(e.playpauseonclick)),e.hasOwnProperty("title")&&(t.title=String(e.title)),e.hasOwnProperty("postid")&&(t.postid=Number(e.postid)),e.hasOwnProperty("link")&&(t.link=String(e.link)),e.hasOwnProperty("descr")&&(t.descr=String(e.descr)),e.hasOwnProperty("mo_sizes")&&(t.mo_sizes=g(e.mo_sizes)),e.hasOwnProperty("mo_w")&&(t.mo_w=Number(e.mo_w)),e.hasOwnProperty("mo_h")&&(t.mo_h=Number(e.mo_h)),e.hasOwnProperty("video_url")&&(t.video_url=String(e.video_url)),e.hasOwnProperty("video_w")&&(t.video_w=Number(e.video_w)),e.hasOwnProperty("video_h")&&(t.video_h=Number(e.video_h)),e.hasOwnProperty("config")&&(e.type===l.THUMBNAIL_GRID&&(t.config=_(e.config)),e.type===l.ELEMENT_GRID&&(t.config=v(e.config))),e.hasOwnProperty("isscrolltotop")&&(t.isscrolltotop=Boolean(e.isscrolltotop)),e.hasOwnProperty("carousel_options")&&(t.carousel_options=O(e.carousel_options)),e.hasOwnProperty("carousel")&&t.type===l.CAROUSEL&&(t.carousel=u(e.carousel)),e.hasOwnProperty("useAltButtons")&&(t.useAltButtons=Boolean(e.useAltButtons)),e.hasOwnProperty("lightbox_caption")&&(t.lightbox_caption=String(e.lightbox_caption)),e.hasOwnProperty("lightboxoff")&&(t.lightboxoff=Boolean(e.lightboxoff)),t}function p(e){return e instanceof Object?e.hasOwnProperty("full")?g(e):void 0:null}function h(e){return e instanceof Object?e.full instanceof Object?f(e):m(e):null}function f(e){if(!(e instanceof Object))return null;for(var n=e,o=0,r=t.SHORT_SIZES_ARRAY;o<r.length;o++){var i=r[o];e.hasOwnProperty(i)&&(n[i]=E(e[i]))}return e.hasOwnProperty("full")&&(n.full=E(e.full)),n}function m(e){if(!(e instanceof Object))return null;var t=e;return e.hasOwnProperty("thumbnail")&&(t.thumbnail=y(e.thumbnail)),e.hasOwnProperty("medium")&&(t.medium=y(e.medium)),e.hasOwnProperty("full")&&(t.full=y(e.full)),e.hasOwnProperty("large")&&(t.large=y(e.large)),t}function g(e){if(!(e instanceof Object))return null;for(var n=e,o=0,r=t.SHORT_SIZES_ARRAY;o<r.length;o++){var i=r[o];e.hasOwnProperty(i)&&(n[i]=String(e[i]))}return e.hasOwnProperty("full")&&(n.full=String(e.full)),n}function y(e){if(!(e instanceof Object))return null;var t=e;return e.hasOwnProperty("height")&&(t.height=Number(e.height)),e.hasOwnProperty("width")&&(t.width=Number(e.width)),e.hasOwnProperty("url")&&(t.url=String(e.url)),e.hasOwnProperty("orientation")&&(t.orientation=String(e.orientation)),t}function E(e){if(!(e instanceof Object))return null;var t=e;return e.hasOwnProperty("url")&&(t.url=String(e.url)),e.hasOwnProperty("w")&&(t.w=Number(e.w)),e.hasOwnProperty("h")&&(t.h=Number(e.h)),t}function b(e){if(!(e instanceof Object))return null;var t=e;return e.hasOwnProperty("url")&&(t.url=String(e.url)),e.hasOwnProperty("id")&&(t.id=Number(e.id)),e.hasOwnProperty("type")&&(t.type=String(e.type)),e.hasOwnProperty("newtab")&&(t.newtab=Boolean(e.newtab)),e.hasOwnProperty("catid")&&(Array.isArray(e.catid)?t.catid=e.catid:"string"==typeof e.catid&&(t.catid=Number(e.catid))),e.hasOwnProperty("title")&&(t.title=String(e.title)),t}function _(e){if(!(e instanceof Object))return null;var t=e;return e.hasOwnProperty("desktop")&&(t.desktop=w(e.desktop)),e.hasOwnProperty("tablet")&&(t.tablet=w(e.tablet)),e.hasOwnProperty("phone")&&(t.phone=w(e.phone)),e.hasOwnProperty("layoutType")&&(t.layoutType=String(e.layoutType)),e.hasOwnProperty("cat_id")&&(t.cat_id=Number(e.cat_id)),t}function v(e){if(!(e instanceof Object))return null;var t=e;if(e.hasOwnProperty("desktop")&&(t.desktop=w(e.desktop)),e.hasOwnProperty("tablet")&&(t.tablet=w(e.tablet)),e.hasOwnProperty("phone")&&(t.phone=w(e.phone)),e.hasOwnProperty("layoutType")&&(t.layoutType=String(e.layoutType)),e.hasOwnProperty("elements")){var n=[];if(e.elements instanceof Array)for(var o=0,r=e.elements;o<r.length;o++){var i=r[o];n.push(d(i))}t.elements=n}return t}function w(e){if(!(e instanceof Object))return null;var t=e;return e.hasOwnProperty("colCount")&&(t.colCount=Number(e.colCount)),e.hasOwnProperty("colGutter")&&(t.colGutter=Number(e.colGutter)),e.hasOwnProperty("rowGutter")&&(t.rowGutter=Number(e.rowGutter)),t}function O(e){if(!(e instanceof Object))return null;var t=e;return e.hasOwnProperty("random")&&(t.random=Boolean(e.random)),e.hasOwnProperty("autoplay")&&(t.autoplay=Boolean(e.autoplay)),e.hasOwnProperty("showMultipleSlides")&&(t.showMultipleSlides=Boolean(e.showMultipleSlides)),!e.hasOwnProperty("size")||e.size!==c.ASPECT_RATIO_OF_FIRST_ELEMENT&&e.size!==c.USE_CUSTOM_ASPECT_RATIO&&e.size!==c.FIXED_HEIGHT?e.hasOwnProperty("customAspectRatio")&&Boolean(e.customAspectRatio)?t.size=c.USE_CUSTOM_ASPECT_RATIO:t.size=c.ASPECT_RATIO_OF_FIRST_ELEMENT:t.size=e.size,delete t.customAspectRatio,e.hasOwnProperty("customAspectRatioW")&&(t.customAspectRatioW=Number(e.customAspectRatioW)),e.hasOwnProperty("customAspectRatioH")&&(t.customAspectRatioH=Number(e.customAspectRatioH)),e.hasOwnProperty("fixedHeight")&&(t.fixedHeight=String(e.fixedHeight)),e.hasOwnProperty("slidesWidth")&&(t.slidesWidth=String(e.slidesWidth)),e.hasOwnProperty("transition")&&(t.transition=String(e.transition)),t}Object.defineProperty(t,"__esModule",{value:!0}),t.castJsonFieldType=function(e){if(!(e instanceof Object))return null;var t={};return e.hasOwnProperty("colCount")&&(t.colCount=Number(e.colCount)),e.hasOwnProperty("colGutter")&&(t.colGutter=Number(e.colGutter)),e.hasOwnProperty("rowGutters")&&(t.rowGutters=o(e.rowGutters)),e.hasOwnProperty("frameMargin")&&(t.frameMargin=Number(e.frameMargin)),e.hasOwnProperty("topFrameMargin")&&(t.topFrameMargin=Number(e.topFrameMargin)),e.hasOwnProperty("bottomFrameMargin")&&(t.bottomFrameMargin=Number(e.bottomFrameMargin)),e.hasOwnProperty("rowAttrs")&&(t.rowAttrs=r(e.rowAttrs)),e.hasOwnProperty("bgColor")&&(null===e.bgColor?t.bgColor=null:t.bgColor=String(e.bgColor)),e.hasOwnProperty("cont")&&(t.cont=u(e.cont)),t},t.castRowGutters=o,t.castRowAttrs=r,t.castRowAttr=i,t.castBgImage=s,t.castBgVideo=a,function(e){e.TEXT="text",e.IMAGE="img",e.HTML5VIDEO="html5video",e.YOUTUBE_VIMEO_VIDEO="video",e.POST_THUMBNAIL="postThumbnail",e.ELEMENT_GRID="elementgrid",e.THUMBNAIL_GRID="thumbnailgrid",e.EMBED="embed",e.HORIZONTAL_LINE="hr",e.HTML="html",e.STACK="stack",e.SHORTCODE="shortcode",e.CAROUSEL="carousel",e.PROJECT="project"}(l=t.ElementTypeEnum||(t.ElementTypeEnum={})),t.castCont=u,t.castElement=d,t.castSizes=p,t.castBgSizes=h,t.castLTBgSizes=f,t.castFullSizes=m,t.SHORT_SIZES_ARRAY=["_4096","_3840","_3200","_2560","_1920","_1280","_1024","_768","_512","_265"],t.castShortSizes=g,t.castImageSize=y,t.castLTBgSize=E,t.castLink=b,t.castThumbnailGridConfig=_,t.castElementGridConfig=v,t.castGridConfigLayout=w,function(e){e.ASPECT_RATIO_OF_FIRST_ELEMENT="aspectRatioOfFirstElement",e.USE_CUSTOM_ASPECT_RATIO="useCustomAspectRatio",e.FIXED_HEIGHT="fixedHeight"}(c=t.CarouselOptionsSizeEnum||(t.CarouselOptionsSizeEnum={})),function(e){e.FADE="fading",e.SLIDE="sliding",e.NONE="immediate"}(t.CarouselOptionsTransitionEnum||(t.CarouselOptionsTransitionEnum={})),t.castCarouselOptions=O,function(e){e.CAPTION="caption",e.LIGHTBOX_CAPTION="lightbox_caption",e.CONT="cont"}(t.ElementAttributeTargetEnum||(t.ElementAttributeTargetEnum={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=passedData},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={throttleResize:100,throttleMouseMove:10,throttleScroll:50,throttleDrag:50,debounceHandleChangeUrl:200,backgroundColor:{columnsMiddle:"#ccfcca",columnsInsertable:"#96ffff",columnsNotInsertable:"#ff9696",contextMenuRow100hv:"#e6e6e6"},noticeShowTimeout:5e3,noticeAnimateTimeout:350,smallRowHeight:75,emptyRowHeight:.2,minPhoneWidth:200,textFormatParentClass:" lay-textformat-parent ",supportEmail:"info@laytheme.com",website:"http://laytheme.com",postName:"Project"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EXAMPLE="EXAMPLE",t.REDUX_INIT="@@redux/INIT",t.CHANGE_BREAKPOINT="CHANGE_BREAKPOINT",t.CHANGE_COLUMN_COUNT="CHANGE_COLUMN_COUNT",t.CHANGE_COLUMN_GUTTER="CHANGE_COLUMN_GUTTER",t.CHANGE_ROW_GUTTERS="CHANGE_ROW_GUTTERS",t.CHANGE_TOP_FRAME_MARGIN="CHANGE_TOP_FRAME_MARGIN",t.CHANGE_BOTTOM_FRAME_MARGIN="CHANGE_BOTTOM_FRAME_MARGIN",t.CHANGE_FRAME_MARGIN="CHANGE_FRAME_MARGIN",t.CHANGE_GUIDES_VISIBILITY="CHANGE_GUIDES_VISIBILITY",t.SET_NOTICE="SET_NOTICE",t.UNSET_NOTICE="UNSET_NOTICE",t.CHANGE_ALIGN_OF_SELECTED_ELEMENTS="CHANGE_ALIGN_OF_SELECTED_ELEMENTS",t.SET_HEADER_HEIGHT="SET_HEADER_HEIGHT",t.SET_BACKGROUND_COLOR="SET_BACKGROUND_COLOR",t.UPDATE_ELEMENTS_HEIGHT="UPDATE_ELEMENTS_HEIGHT",t.UPDATE_ROWS_HEIGHT="UPDATE_ROWS_HEIGHT",t.UPDATE_ROWS_TOP="UPDATE_ROWS_TOP",t.SET_CONTENT_WRAPPER_WIDTH="SET_CONTENT_WRAPPER_WIDTH",t.INSERT_ROW="INSERT_ROW",t.MOVE_UP_ROW="MOVE_UP_ROW",t.MOVE_DOWN_ROW="MOVE_DOWN_ROW",t.DELETE_ROW="DELETE_ROW",t.INIT_ROW_ATTRS="INIT_ROW_ATTRS",t.SET_ROW_ATTRS="SET_ROW_ATTRS",t.OPEN_MODAL_EDIT_ROW_CLASSES_HTML_ID="OPEN_MODAL_EDIT_ROW_CLASSES_HTML_ID",t.SET_ROW_ATTR_100vh="SET_ROW_ATTR_100vh",t.SET_ROW_ATTR_BGCOLOR="SET_ROW_ATTR_BGCOLOR",t.OPEN_MODAL_EDIT_ROW_BG_VIDEO="OPEN_MODAL_EDIT_ROW_BG_VIDEO",t.OPEN_MODAL_EDIT_ROW_BG_IMAGE="OPEN_MODAL_EDIT_ROW_BG_IMAGE",t.OPEN_MODAL_EDIT_ROW_BG_LINK="OPEN_MODAL_EDIT_ROW_BG_LINK",t.START_DND="START_DND",t.MOVE_DND="MOVE_DND",t.END_DND="END_DND",t.START_RESIZE="START_RESIZE",t.MOVE_RESIZE="MOVE_RESIZE",t.END_RESIZE="END_RESIZE",t.TOGGLE_SELECTED_ELEMENT="TOGGLE_SELECTED_ELEMENT",t.SET_SELECTED_ELEMENTS="SET_SELECTED_ELEMENTS",t.TOGGLE_SELECTED_ROW_GUTTER="TOGGLE_SELECTED_ROW_GUTTER",t.SET_SELECTED_ROW_GUTTERS="SET_SELECTED_ROW_GUTTERS",t.SHIFT_SELECTED_ELEMENTS="SHIFT_SELECTED_ELEMENTS",t.CHANGE_ELEMENT_SPACE_ABOVE="CHANGE_ELEMENT_SPACE_ABOVE",t.CHANGE_ELEMENT_SPACE_BELOW="CHANGE_ELEMENT_SPACE_BELOW",t.CHANGE_ELEMENT_OFFSET_X="CHANGE_ELEMENT_OFFSET_X",t.CHANGE_ELEMENT_OFFSET_Y="CHANGE_ELEMENT_OFFSET_Y",t.CHANGE_ELEMENT_YVEL="CHANGE_ELEMENT_YVEL",t.CHANGE_IS_SCROLL_TO_TOP="CHANGE_IS_SCROLL_TO_TOP",t.CHANGE_LIGHTBOX_CAPTION="CHANGE_LIGHTBOX_CAPTION",t.CHANGE_LB_OFF="CHANGE_LB_OFF",t.SET_ADD_ELEMENTS="SET_ADD_ELEMENTS",t.DELETE_ADD_ELEMENTS="DELETE_ADD_ELEMENTS",t.CHANGE_ADD_ELEMENT_POSITION="CHANGE_ADD_ELEMENT_POSITION",t.ADD_ELEMENT_TO_CONT="ADD_ELEMENT_TO_CONT",t.DELETE_ELEMENTS="DELETE_ELEMENTS",t.OPEN_MODAL_ADD="OPEN_MODAL_ADD",t.CLOSE_MODAL="CLOSE_MODAL",t.SET_ELEMENT_CONTENT="SET_ELEMENT_CONTENT",t.SET_ELEMENT_DO_SYNC="SET_ELEMENT_DO_SYNC",t.SET_ELEMENT_DO_NOT_SYNC="SET_ELEMENT_DO_NOT_SYNC",t.MAYBE_SYNC_ELEMENT="MAYBE_SYNC_ELEMENT",t.OPEN_MODAL_EDIT="OPEN_MODAL_EDIT",t.OPEN_MODAL_EDIT_ELEMENT_CLASSES_HTML_ID="OPEN_MODAL_EDIT_ELEMENT_CLASSES_HTML_ID",t.OPEN_MODAL_EDIT_ELEMENT_LINK_IMAGE="OPEN_MODAL_EDIT_ELEMENT_LINK_IMAGE",t.SET_TEMPLATE="SET_TEMPLATE",t.SET_GRIDDER_JSON_FIELD="SET_GRIDDER_JSON_FIELD",t.SET_PHONE_GRIDDER_JSON_FIELD="SET_PHONE_GRIDDER_JSON_FIELD",t.CREATE_STACKED_PHONE_LAYOUT="CREATE_STACKED_PHONE_LAYOUT",t.CREATE_EMPTY_PHONE_LAYOUT="CREATE_EMPTY_PHONE_LAYOUT",t.CREATE_COPIED_PHONE_LAYOUT="CREATE_COPIED_PHONE_LAYOUT",t.DELETE_PHONE_LAYOUT="DELETE_PHONE_LAYOUT",t.UPDATE_THUMBNAILS_OF_CATEGORY="UPDATE_THUMBNAILS_OF_CATEGORY"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=jQuery},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(5),r=n(2),i=n(15),s=n(241),a=n(16);t.deleteElements=function(e){return function(t,n){var a=n();t(r.deleteElementsAction(e)),t(i.updateRowsHeight());var l=!1,c="desktop"===a.currentLayout?a.phone_gridder_json_field:a.gridder_json_field;if(null!==c)for(var u=0,d=c.cont;u<d.length;u++){var p=d[u];if(-1===e.indexOf(p.relid)||void 0!==p.dosync&&!p.dosync){if(p.type===o.ElementTypeEnum.STACK)for(var h=0,f=p.cont;h<f.length;h++){var m=f[h];if(-1!==e.indexOf(m.relid)&&(void 0===m.dosync||m.dosync)){l=!0;break}}}else l=!0;if(!0===l)break}l&&t(s.setNoticeElementsDeletedFromOtherLayoutToo())}},t.setElementContent=function(e,t){return function(n,o){n(r.setElementContentAction(e,t)),n(r.maybeSyncElementAction(e))}},t.syncElement=function(e){return function(t,n){t(r.setElementDoSyncAction(e)),t(r.maybeSyncElementAction(e))}},t.addElementToCont=function(e){return function(t,n){var o=n();null!==o.addElementPosition&&!1===o.addElementPosition.droppable&&t(r.setNoticeAction(a.default.cannotPutElementThere)),t(r.addElementToContAction(e))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(6);function i(e,t,n,o,r){return s(e,t,n,o,r)-o}function s(e,t,n,r,i){var s=100+r;return l(o.FRAME,t)?s-=u(2*i,e):s-=2*i,s/=n}function a(e,t){if("desktop"===t)switch(e){case o.ROW_GUTTER:return r.default.gridderDefaults.rowGutterMu;case o.TOP_FRAME:return r.default.gridderDefaults.topFrameMu;case o.FRAME:return r.default.gridderDefaults.frameMu;case o.BOTTOM_FRAME:return r.default.gridderDefaults.bottomFrameMu}return"%"}function l(e,t){return"px"===a(e,t)}function c(e,t){return e*t/100}function u(e,t){return 100*e/t}!function(e){e[e.ROW_GUTTER=0]="ROW_GUTTER",e[e.TOP_FRAME=1]="TOP_FRAME",e[e.FRAME=2]="FRAME",e[e.BOTTOM_FRAME=3]="BOTTOM_FRAME"}(o=t.MeasureUnitEnum||(t.MeasureUnitEnum={})),t.getColInPx=function(e,t,n,o,r){return c(i(e,t,n,o,r),e)},t.getColInPct=i,t.getColAndGutterInPx=function(e,t,n,o,r){return c(s(e,t,n,o,r),e)},t.getColAndGutterInPct=s,t.getMuOf=a,t.isMuInPx=l,t.getMeasureInPx=function(e,t,n,o){return l(e,o)?t:c(t,n)},t.getMeasureInPct=function(e,t,n,o){return l(e,o)?u(t,n):t},t.getPctMeasureInPx=c,t.getPxMeasureInPct=u,t.getMeasure=function(e,t){if("desktop"===t)switch(e){case o.ROW_GUTTER:return Number(r.default.gridderDefaults.rowGutter);case o.TOP_FRAME:return Number(r.default.gridderDefaults.topFrameMargin);case o.FRAME:return Number(r.default.gridderDefaults.frameMargin);case o.BOTTOM_FRAME:return Number(r.default.gridderDefaults.bottomFrameMargin)}switch(e){case o.ROW_GUTTER:return Number(r.default.gridderDefaults.phoneRowGutter);case o.TOP_FRAME:return Number(r.default.gridderDefaults.phoneTopFrame);case o.FRAME:return Number(r.default.gridderDefaults.phoneFrame);case o.BOTTOM_FRAME:return Number(r.default.gridderDefaults.phoneBottomFrame)}}},function(e,t){var n=Array.isArray;e.exports=n},function(e,t,n){var o=n(60),r="object"==typeof self&&self&&self.Object===Object&&self,i=o||r||Function("return this")();e.exports=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(20),r={qtransActive:function(){return!!o.default.qTranslateConfig},getTextOfActiveDefaultOrOtherLangFromEncodedString:function(e){if("string"==typeof e&&r.qtransActive()){var t=o.default.qtranxj_split(e),n=t[o.default.qTranslateConfig.activeLanguage];if(""===n&&(n=t[o.default.qTranslateConfig.default_language]),""===n)for(var i in t)if(""!==t[i]){n=t[i];break}return n}return e},putActiveLangStringIntoEncodedString:function(e,t){if("string"==typeof e&&"string"==typeof t&&r.qtransActive()){var n=o.default.qtranxj_split(t);n[o.default.qTranslateConfig.activeLanguage]=e;var i="";for(var s in n)i+="[:"+s+"]"+n[s];return i+="[:]"}return e}};t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),r=n(7),i=n(11);function s(e,t){return function(n,r){var i=r();if(void 0===i.rowsHeight[e]||t!==i.rowsHeight[e]){var s=Object.assign([],i.rowsHeight);s[e]=t,n(o.updateRowsHeightAction(s)),n(a())}}}function a(){return function(e,t){for(var n=t(),r=[],s=0,a=i.getMeasureInPx(i.MeasureUnitEnum.TOP_FRAME,n.json_field.topFrameMargin,n.contentWrapperWidth,n.currentLayout);s<n.rowCount;s++){r[s]=a,a+=i.getMeasureInPx(i.MeasureUnitEnum.ROW_GUTTER,n.json_field.rowGutters[s],n.contentWrapperWidth,n.currentLayout)+n.rowsHeight[s]}e(o.updateRowsTopAction(r))}}t.updateElementHeight=function(e,t){return function(n,r){var i=r();if(void 0===i.elementsHeight[e]||i.elementsHeight[e]!==t){var a=Object.assign([],i.elementsHeight);a[e]=t,n(o.updateElementsHeightAction(a))}for(var l=-99,c=0,u=i.json_field.cont;c<u.length;c++)if((f=u[c]).relid===e){l=f.row;break}var d=t;void 0!==i.json_field.rowAttrs[l]&&null!==i.json_field.rowAttrs[l]&&i.json_field.rowAttrs[l].row100vh&&window.innerHeight>d&&(d=window.innerHeight);for(var p=0,h=i.json_field.cont;p<h.length;p++){var f;(f=h[p]).row===l&&null!==i.elementsHeight[f.relid]&&i.elementsHeight[f.relid]>d&&(d=i.elementsHeight[f.relid])}void 0!==i.rowsHeight[l]&&i.rowsHeight[l]===d||n(s(l,d))}},t.updateRowsHeight=function(){return function(e,t){for(var n=t(),i=[],s=0,l=n.json_field.cont;s<l.length;s++){var c=l[s];(void 0===i[c.row]||i[c.row]<n.elementsHeight[c.relid])&&(i[c.row]=n.elementsHeight[c.relid])}for(var u=0;u<n.rowCount;u++)void 0!==n.json_field.rowAttrs[u]&&null!==n.json_field.rowAttrs[u]&&n.json_field.rowAttrs[u].row100vh&&(window.innerHeight>i[u]||void 0===i[u])&&(i[u]=window.innerHeight),void 0===i[u]&&(i[u]=n.contentWrapperWidth*r.default.emptyRowHeight);e(o.updateRowsHeightAction(i)),e(a())}},t.updateRowHeight=s,t.updateRowsTop=a},function(e,t,n){"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.colCountMin=0]="colCountMin",e[e.colCountMax=1]="colCountMax",e[e.colGutterMax=2]="colGutterMax",e[e.frameMarginMax=3]="frameMarginMax",e[e.elementsDeletedFromPhoneLayoutToo=4]="elementsDeletedFromPhoneLayoutToo",e[e.elementsDeletedFromDesktopLayoutToo=5]="elementsDeletedFromDesktopLayoutToo",e[e.pressPlusMinusToChangeSize=6]="pressPlusMinusToChangeSize",e[e.fileIsNotAnImage=7]="fileIsNotAnImage",e[e.rowHasElementsInSameColumns=8]="rowHasElementsInSameColumns",e[e.cannotPutElementThere=9]="cannotPutElementThere",e[e.cannotSwitchLayoutWhileInsertingSyncedElement=10]="cannotSwitchLayoutWhileInsertingSyncedElement"}(o=t.noticeTypes||(t.noticeTypes={})),t.default=o,t.noticeTexts={},t.noticeTexts[o.colCountMax]="Reached max Column Count.",t.noticeTexts[o.colCountMin]="Free right columns to decrease column count.",t.noticeTexts[o.colGutterMax]="Column Gutter got too big.",t.noticeTexts[o.frameMarginMax]="Frame got too big.",t.noticeTexts[o.elementsDeletedFromPhoneLayoutToo]="Element(s) deleted from phone layout too",t.noticeTexts[o.elementsDeletedFromDesktopLayoutToo]="Element(s) deleted from desktop layout too",t.noticeTexts[o.pressPlusMinusToChangeSize]='Press the keys "+" or "-" to change the size',t.noticeTexts[o.fileIsNotAnImage]="File is not an image.",t.noticeTexts[o.rowHasElementsInSameColumns]="Please move your elements so they don't occupy the same columns as other elements",t.noticeTexts[o.cannotPutElementThere]="Can't put element there.",t.noticeTexts[o.cannotSwitchLayoutWhileInsertingSyncedElement]="Can't switch to other Layout while inserting synced Element."},function(e,t,n){var o=n(176),r=n(170);e.exports=function(e,t){var n=r(e,t);return o(n)?n:void 0}},function(e,t){e.exports=_},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(6),r=n(8),i=n(5),s=n(2),a=n(15),l=n(16);t.changeColumnCount=function(e){return function(t,n){var i=n(),a=i.json_field.colCount<e;if(!a){a=!0;for(var c=0,u=i.json_field.cont;c<u.length;c++){var d=u[c];if(e<d.col+d.colspan){a=!1;break}}}if(a){var p=100;"px"===o.default.gridderDefaults.frameMu||(p-=2*i.json_field.frameMargin),t((p=Math.floor(p/i.json_field.colGutter)+1)>=e?{type:r.CHANGE_COLUMN_COUNT,colCount:e}:s.setNoticeAction(l.default.colCountMax))}else t(s.setNoticeAction(l.default.colCountMin))}},t.changeColumnGutter=function(e){return function(t,n){var o=n(),r=100;r-=2*o.json_field.frameMargin,t((r/=Math.max(1,o.json_field.colCount-1))>e?s.changeColumnGutterAction(e):s.setNoticeAction(l.default.colGutterMax))}},t.changeTopFrameMargin=function(e){return function(t,n){t(s.changeTopFrameMarginAction(e)),t(a.updateRowsTop())}},t.changeBottomFrameMargin=function(e){return function(t,n){t(s.changeBottomFrameMarginAction(e))}},t.changeFrameMargin=function(e){return function(t,n){var r=n(),i=100-(r.json_field.colCount-1)*r.json_field.colGutter;i/=2,"desktop"===r.currentLayout&&"px"!==o.default.gridderDefaults.frameMu&&i>e?t(s.changeFrameMarginAction(e)):"phone"===r.currentLayout&&i>e?t(s.changeFrameMarginAction(e)):t(s.setNoticeAction(l.default.frameMarginMax))}},t.changeRowGutters=function(e){return function(t,n){t(s.changeRowGuttersAction(e)),t(a.updateRowsTop())}},t.changeBreakpoint=function(){return function(e,t){var n=t();if("desktop"===n.currentLayout&&null===n.phone_gridder_json_field)e(s.openModalAddAction("createPhoneLayout"));else{if(null!==n.addElements&&0!==n.addElements.length&&-1!==n.addElements[0].relid){var o=n.phone_gridder_json_field,r=!1;"desktop"!==n.currentLayout&&(o=n.gridder_json_field);for(var c=0,u=o.cont;c<u.length;c++){var d=u[c];if(d.relid===n.addElements[0].relid)r=!0;else if(d.type===i.ElementTypeEnum.STACK)for(var p=0,h=d.cont;p<h.length;p++)if(h[p].relid===n.addElements[0].relid){r=!0;break}if(r)return void e(s.setNoticeAction(l.default.cannotSwitchLayoutWhileInsertingSyncedElement))}}e(s.changeBreakpointAction()),e(a.updateRowsHeight())}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=window},function(e,t,n){var o=n(26),r=n(23),i="[object Symbol]";e.exports=function(e){return"symbol"==typeof e||r(e)&&o(e)==i}},function(e,t,n){var o=n(61),r=n(38);e.exports=function(e){return null!=e&&r(e.length)&&!o(e)}},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t,n){var o=n(13).Symbol;e.exports=o},function(e,t,n){var o=n(25),r=n(174),i=n(173),s="[object Null]",a="[object Undefined]",l=o?o.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?a:s:l&&l in Object(e)?r(e):i(e)}},function(e,t){e.exports=function(e){return e}},function(e,t,n){var o=n(21),r=1/0;e.exports=function(e){if("string"==typeof e||o(e))return e;var t=e+"";return"0"==t&&1/e==-r?"-0":t}},function(e,t,n){var o=n(141),r=n(135),i=n(22);e.exports=function(e){return i(e)?o(e):r(e)}},function(e,t,n){var o=n(161);e.exports=function(e,t){var n=e.__data__;return o(t)?n["string"==typeof t?"string":"hash"]:n.map}},function(e,t,n){var o=n(17)(Object,"create");e.exports=o},function(e,t,n){var o=n(43);e.exports=function(e,t){for(var n=e.length;n--;)if(o(e[n][0],t))return n;return-1}},function(e,t,n){var o=n(186),r=n(185),i=n(184),s=n(183),a=n(182);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}l.prototype.clear=o,l.prototype.delete=r,l.prototype.get=i,l.prototype.has=s,l.prototype.set=a,e.exports=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.arrayMove=function(e,t,n){var o=e.slice(0);if(n>=o.length)for(var r=n-o.length;1+r--;)o.push(void 0);return o.splice(n,0,o.splice(t,1)[0]),o},t.omit=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return Object.keys(e).reduce(function(t,o){return-1===n.indexOf(o)&&(t[o]=e[o]),t},{})},t.closest=function(e,t){for(;e;){if(t(e))return e;e=e.parentNode}},t.limit=function(e,t,n){if(n<e)return e;if(n>t)return t;return n},t.getElementMargin=function(e){var t=window.getComputedStyle(e);return{top:o(t.marginTop),right:o(t.marginRight),bottom:o(t.marginBottom),left:o(t.marginLeft)}},t.provideDisplayName=function(e,t){var n=t.displayName||t.name;return n?e+"("+n+")":e};t.events={start:["touchstart","mousedown"],move:["touchmove","mousemove"],end:["touchend","touchcancel","mouseup"]},t.vendorPrefix=function(){if("undefined"==typeof window||"undefined"==typeof document)return"";var e=window.getComputedStyle(document.documentElement,"")||["-moz-hidden-iframe"],t=(Array.prototype.slice.call(e).join("").match(/-(moz|webkit|ms)-/)||""===e.OLink&&["","o"])[1];switch(t){case"ms":return"ms";default:return t&&t.length?t[0].toUpperCase()+t.substr(1):""}}();function o(e){return"px"===e.substr(-2)?parseFloat(e):0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=wp},function(e,t){e.exports=ReactDOM},function(e,t,n){var o=n(12),r=n(21),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;e.exports=function(e,t){if(o(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!r(e))||s.test(e)||!i.test(e)||null!=t&&e in Object(t)}},function(e,t){var n=9007199254740991;e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=n}},function(e,t){var n=9007199254740991,o=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var r=typeof e;return!!(t=null==t?n:t)&&("number"==r||"symbol"!=r&&o.test(e))&&e>-1&&e%1==0&&e<t}},function(e,t,n){var o=n(139),r=n(23),i=Object.prototype,s=i.hasOwnProperty,a=i.propertyIsEnumerable,l=o(function(){return arguments}())?o:function(e){return r(e)&&s.call(e,"callee")&&!a.call(e,"callee")};e.exports=l},function(e,t,n){var o=n(169),r=n(162),i=n(160),s=n(159),a=n(158);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}l.prototype.clear=o,l.prototype.delete=r,l.prototype.get=i,l.prototype.has=s,l.prototype.set=a,e.exports=l},function(e,t,n){var o=n(17)(n(13),"Map");e.exports=o},function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t,n){var o=n(188),r=n(125),i=n(27),s=n(12),a=n(115);e.exports=function(e){return"function"==typeof e?e:null==e?i:"object"==typeof e?s(e)?r(e[0],e[1]):o(e):a(e)}},function(e,t,n){"use strict";e.exports=function(e,t,n,o,r,i,s,a){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,o,r,i,s,a],u=0;(l=new Error(t.replace(/%s/g,function(){return c[u++]}))).name="Invariant Violation"}throw l.framesToPop=1,l}}},function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),s=n(4),a=n(6),l=n(14),c=n(7),u=["above-image","titlewrap-on-image","below-image"],d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){var e,t=[null,null,null],n=l.default.getTextOfActiveDefaultOrOtherLangFromEncodedString(this.props.cont.title);for(var o in t){var r=[];switch(Number(o)){case 0:"above-image"===a.default.pt_position&&r.push(i.createElement("span",{className:"title "+a.default.pt_textformat,dangerouslySetInnerHTML:{__html:n}}));break;case 1:if(-1!==a.default.pt_position.indexOf("on-image")&&r.push(i.createElement("span",{className:"title "+a.default.pt_textformat,dangerouslySetInnerHTML:{__html:n}})),"on-image"===a.default.pd_position&&a.default.activateProjectDescription){var d=l.default.getTextOfActiveDefaultOrOtherLangFromEncodedString(this.props.cont.descr);r.push(i.createElement("span",{className:"descr",dangerouslySetInnerHTML:{__html:d}}))}break;case 2:if(-1!==a.default.pt_position.indexOf("below-image")&&r.push(i.createElement("span",{className:"title "+a.default.pt_textformat,dangerouslySetInnerHTML:{__html:n}})),"below-image"===a.default.pd_position&&a.default.activateProjectDescription){d=l.default.getTextOfActiveDefaultOrOtherLangFromEncodedString(this.props.cont.descr);r.push(i.createElement("span",{className:"descr",dangerouslySetInnerHTML:{__html:d}}))}}0!==r.length&&(t[o]=i.createElement("div",{className:c.default.textFormatParentClass+a.default.pt_position+" "+u[o]},r))}return e=this.props.cont.sizes.hasOwnProperty("_512")?this.props.cont.sizes._512:this.props.cont.sizes.full,i.createElement("div",{className:"thumbnail-wrap"},i.createElement("div",{className:"thumb"},t[0],i.createElement("div",{className:"thumb-rel"},t[1],i.createElement("div",{className:"ph",style:{paddingBottom:100*this.props.cont.ar+"%"}},i.createElement("img",{src:s.getStaticURL(e),alt:"",draggable:!1}))),t[2]))},t}(i.Component);t.default=d},function(e,t){e.exports=function(e,t){for(var n=-1,o=null==e?0:e.length,r=Array(o);++n<o;)r[n]=t(e[n],n,e);return r}},function(e,t,n){var o=n(12),r=n(37),i=n(123),s=n(120);e.exports=function(e,t){return o(e)?e:r(e,t)?[e]:i(s(e))}},function(e,t,n){var o=n(48),r=n(28);e.exports=function(e,t){for(var n=0,i=(t=o(t,e)).length;null!=e&&n<i;)e=e[r(t[n++])];return n&&n==i?e:void 0}},function(e,t){e.exports=function(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}}},function(e,t,n){var o=n(24);e.exports=function(e){return e==e&&!o(e)}},function(e,t){e.exports=function(e){return function(t){return e(t)}}},function(e,t,n){var o=n(137),r=n(52),i=n(136),s=i&&i.isTypedArray,a=s?r(s):o;e.exports=a},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){(function(e){var o=n(13),r=n(138),i="object"==typeof t&&t&&!t.nodeType&&t,s=i&&"object"==typeof e&&e&&!e.nodeType&&e,a=s&&s.exports===i?o.Buffer:void 0,l=(a?a.isBuffer:void 0)||r;e.exports=l}).call(this,n(54)(e))},function(e,t){e.exports=function(e,t){for(var n=-1,o=t.length,r=e.length;++n<o;)e[r+n]=t[n];return e}},function(e,t,n){var o=n(156),r=n(153),i=n(152),s=1,a=2;e.exports=function(e,t,n,l,c,u){var d=n&s,p=e.length,h=t.length;if(p!=h&&!(d&&h>p))return!1;var f=u.get(e);if(f&&u.get(t))return f==t;var m=-1,g=!0,y=n&a?new o:void 0;for(u.set(e,t),u.set(t,e);++m<p;){var E=e[m],b=t[m];if(l)var _=d?l(b,E,m,t,e,u):l(E,b,m,e,t,u);if(void 0!==_){if(_)continue;g=!1;break}if(y){if(!r(t,function(e,t){if(!i(y,t)&&(E===e||c(E,e,n,l,u)))return y.push(t)})){g=!1;break}}else if(E!==b&&!c(E,b,n,l,u)){g=!1;break}}return u.delete(e),u.delete(t),g}},function(e,t,n){var o=n(157),r=n(23);e.exports=function e(t,n,i,s,a){return t===n||(null==t||null==n||!r(t)&&!r(n)?t!=t&&n!=n:o(t,n,i,s,e,a))}},function(e,t){var n=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return n.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n(175))},function(e,t,n){var o=n(26),r=n(24),i="[object AsyncFunction]",s="[object Function]",a="[object GeneratorFunction]",l="[object Proxy]";e.exports=function(e){if(!r(e))return!1;var t=o(e);return t==s||t==a||t==i||t==l}},function(e,t,n){var o=n(33),r=n(181),i=n(180),s=n(179),a=n(178),l=n(177);function c(e){var t=this.__data__=new o(e);this.size=t.size}c.prototype.clear=r,c.prototype.delete=i,c.prototype.get=s,c.prototype.has=a,c.prototype.set=l,e.exports=c},function(e,t,n){e.exports=n(195)()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.arrayMove=t.sortableHandle=t.sortableElement=t.sortableContainer=t.SortableHandle=t.SortableElement=t.SortableContainer=void 0;var o=n(34);Object.defineProperty(t,"arrayMove",{enumerable:!0,get:function(){return o.arrayMove}});var r=a(n(196)),i=a(n(85)),s=a(n(84));function a(e){return e&&e.__esModule?e:{default:e}}t.SortableContainer=r.default,t.SortableElement=i.default,t.SortableHandle=s.default,t.sortableContainer=r.default,t.sortableElement=i.default,t.sortableHandle=s.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),r=n(19);t.createStackedPhoneLayout=function(){return function(e,t){e(o.createStackedPhoneLayoutAction()),e(r.changeBreakpoint())}},t.createEmptyPhoneLayout=function(){return function(e,t){e(o.createEmptyPhoneLayoutAction()),e(r.changeBreakpoint())}},t.createCopiedPhoneLayout=function(){return function(e,t){e(o.createCopiedPhoneLayoutAction()),e(r.changeBreakpoint())}},t.deletePhoneLayout=function(){return function(e,t){"desktop"!==t().currentLayout&&e(r.changeBreakpoint()),e(o.deletePhoneLayoutAction())}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(5),r=n(2),i=n(15),s=n(10),a=n(16);t.setRowAttr100vh=function(e,t){return function(n,o){if(t)n(r.setRowAttr100vhAction(e,t)),n(i.updateRowsHeight());else{for(var s=[],l=0,c=o().json_field.cont;l<c.length;l++){var u=c[l];e===u.row&&s.push(u)}for(var d=!1,p=0,h=s;p<h.length;p++){for(var f=h[p],m=0,g=s;m<g.length;m++){var y=g[m];if(f.relid!==y.relid&&f.colspan+f.col>y.col&&y.colspan+y.col>f.col){d=!0;break}}if(d)break}d?n(r.setNoticeAction(a.default.rowHasElementsInSameColumns)):(n(r.setRowAttr100vhAction(e,t)),n(i.updateRowsHeight()))}}},t.insertIntoOtherLayout=function(e){return function(t,n){for(var s=[],a=0,l=n().json_field.cont;a<l.length;a++){var c=l[a];if(c.type===o.ElementTypeEnum.STACK)for(var u=0,d=c.cont;u<d.length;u++){var p=d[u];-1!==e.indexOf(p.relid)&&(t(r.setElementDoSyncAction(p.relid)),s.push(JSON.parse(JSON.stringify(p))))}else-1!==e.indexOf(c.relid)&&(t(r.setElementDoSyncAction(c.relid)),s.push(JSON.parse(JSON.stringify(c))))}if(0!==s.length){for(var h in s)delete s[h].dosync,delete s[h].align,delete s[h].row,delete s[h].col,delete s[h].colspan,delete s[h].offsetx,delete s[h].offsety,delete s[h].spaceabove,delete s[h].spacebelow,delete s[h].yvel,delete s[h].push;t(r.setAddElementsAction(s)),t(r.changeBreakpointAction()),t(i.updateRowsHeight())}}},t.setElementsDoSync=function(e,t){return function(n,o){for(var i=0,a=e;i<a.length;i++){var l=a[i];n(t?s.syncElement(l):r.setElementDoNotSyncAction(l))}}},t.toggleElementDoSync=function(e){return function(t,n){for(var i=n(),a=!0,l=!1,c=0,u=i.json_field.cont;c<u.length;c++)if((b=u[c]).type===o.ElementTypeEnum.STACK){if(e===b.relid)return;for(var d=0,p=b.cont;d<p.length;d++){var h=p[d];if(e===h.relid){a=void 0===(f=h.dosync)||f;break}}}else if(e===b.relid){a=void 0===(m=b.dosync)||m;break}var f,m,g="desktop"===i.currentLayout?i.phone_gridder_json_field:i.gridder_json_field;if(null!==g)for(var y=0,E=g.cont;y<E.length;y++){var b;if((b=E[y]).type===o.ElementTypeEnum.STACK){for(var _=0,v=b.cont;_<v.length;_++)if((h=v[_]).relid===e){l=!0;break}}else b.relid===e&&(l=!0);if(l=!0)break}t(l&&!a?s.syncElement(e):r.setElementDoNotSyncAction(e))}}},function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(t){var n=e.call(this,t)||this;return n.handleClickBind=function(e){clearTimeout(n.timeout),2===e.button&&"click"===e.type||!1!==n.blockClick||n.handleClick(e),n.blockClick=!0,setTimeout(function(){n.blockClick=!1},500)},n.handleScrollBind=function(e){return n.handleScroll(e)},n.state={posX:t.posX+1,posY:t.posY},n}return r(t,e),t.prototype.componentWillReceiveProps=function(e){this.setState({posX:e.posX+1,posY:e.posY})},t.prototype.componentDidMount=function(){this.blockClick=!1,window.addEventListener("click",this.handleClickBind),window.addEventListener("contextmenu",this.handleClickBind),window.addEventListener("scroll",this.handleScrollBind),this.updatePosition()},t.prototype.componentDidUpdate=function(){this.updatePosition()},t.prototype.updatePosition=function(){var e=this.state.posY,t=this.state.posX;window.innerHeight-this.domElement.getBoundingClientRect().height-e<3&&(e=window.innerHeight-this.domElement.getBoundingClientRect().height-3),window.innerWidth-this.domElement.getBoundingClientRect().width-t<3&&(t=window.innerWidth-this.domElement.getBoundingClientRect().width-3),e===this.state.posY&&t===this.state.posX||this.setState({posY:e,posX:t})},t.prototype.componentWillUnmount=function(){window.removeEventListener("click",this.handleClickBind),window.removeEventListener("contextmenu",this.handleClickBind),window.removeEventListener("scroll",this.handleScrollBind)},t}(n(0).Component);t.default=i},function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),s=n(9),a=n(69),l=n(5),c=n(73),u=n(72),d=n(74),p=n(46),h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.msnry=null,t}return r(t,e),t.prototype.componentDidMount=function(){this.componentDidUpdate()},t.prototype.componentWillReceiveProps=function(e){"masonry"!==e.cont.config.layoutType&&this.destroyMasonry()},t.prototype.componentDidUpdate=function(){var e=this;setTimeout(function(){var t=e.props.cont.config,n=e.props.currentLayout,o=t[n].colCount,r=(100+t[n].colGutter)/o;r-=t[n].colGutter,r+="%";var i=t[n].colGutter+"%";switch(t.layoutType){case"masonry":setTimeout(function(){return e.updateMasonry()},0);break;default:e.destroyMasonry(),s.default(e.domElement).find(".element-wrap").css({"margin-right":i}),s.default(e.domElement).find(".element-wrap:nth-child("+o+"n)").css({"margin-right":0})}s.default(e.domElement).find(".element-wrap").css({width:r,"margin-bottom":t[n].rowGutter+"%"})},0)},t.prototype.destroyMasonry=function(){null!==this.msnry&&(this.msnry.destroy(),this.msnry=null)},t.prototype.updateMasonry=function(){var e=this,t={itemSelector:".element-wrap",columnWidth:".lay-elementgrid-col-sizer",gutter:".lay-elementgrid-gutter-sizer",percentPosition:!0,transitionDuration:0};null===this.msnry?(this.msnry=new a.default(this.domElement,t),this.msnry.on("layoutComplete",function(){return setTimeout(function(){return e.updateElementHeight()},0)})):this.msnry.layout(t),this.msnry.reloadItems(),setTimeout(function(){e.domElement&&0===e.domElement.offsetHeight&&e.updateMasonry()},500)},t.prototype.updateElementHeight=function(){this.props.hasOwnProperty("updateElementHeight")&&this.props.updateElementHeight()},t.prototype.getElement=function(e){var t=[];switch(e.type){case l.ElementTypeEnum.IMAGE:t.push(i.createElement(c.default,{cont:e})),e.hasOwnProperty("caption")&&t.push(i.createElement(d.default,{text:e.caption}));break;case l.ElementTypeEnum.HTML5VIDEO:t.push(i.createElement(u.default,{cont:e})),e.hasOwnProperty("caption")&&t.push(i.createElement(d.default,{text:e.caption}));break;case l.ElementTypeEnum.TEXT:t.push(i.createElement(d.default,{text:e.cont}));break;case l.ElementTypeEnum.POST_THUMBNAIL:t.push(i.createElement(p.default,{cont:e}))}return i.createElement("div",{className:"element-wrap"},t)},t.prototype.render=function(){var e=this,t=this.props.cont.config,n=this.props.currentLayout,o=t[n].colCount,r=(100+t[n].colGutter)/o;r-=t[n].colGutter,r+="%";var s=t[n].colGutter+"%",a=[],l=null;if(null!==this.props.cont.config.elements)if("masonry"===t.layoutType)l=[i.createElement("div",{className:"lay-elementgrid-gutter-sizer",style:{width:s}}),i.createElement("div",{className:"lay-elementgrid-col-sizer",style:{width:r}})],a=this.props.cont.config.elements.map(this.getElement);else for(var c=0;c<this.props.cont.config.elements.length;c+=o){var u=this.props.cont.config.elements.slice(c,c+o).map(this.getElement);a.push(i.createElement("div",{key:c+9e3,className:"elementgrid-row "+t.layoutType},u))}return i.createElement("div",{className:"elements-collection-region",style:{marginBottom:-t[n].rowGutter+"%"}},i.createElement("div",{ref:function(t){e.domElement=t},className:"elements-collection"},a,l))},t}(i.Component);t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=Masonry},function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),s=n(1),a=n(3),l=n(2),c=n(9),u=n(6),d=n(46),p=n(69),h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.msnry=null,t}return r(t,e),t.prototype.componentDidMount=function(){this.componentDidUpdate()},t.prototype.componentWillReceiveProps=function(e){this.props.cont.config.cat_id!==e.cont.config.cat_id&&(this.destroyMasonry(),this.setState({posts:null})),"masonry"!==e.cont.config.layoutType&&this.destroyMasonry()},t.prototype.componentDidUpdate=function(){var e=this,t=this.props.cont.config.cat_id;this.props.thumbnailGridPosts[this.props.cont.config.cat_id]||c.default.ajax({url:u.default.ajaxUrl,data:{action:"get_thumbnails_for_thumbnailgrid",catId:t},type:"GET",dataType:"json",success:function(n){e.props.updateThumbnailsOfCategory(t,n)}}),setTimeout(function(){var t=e.props.cont.config,n=e.props.currentLayout,o=t[n].colCount,r=100/o-t[n].colGutter;r+=t[n].colGutter/t[n].colCount,r+="%";var i=t[n].colGutter+"%";switch(t.layoutType){case"masonry":setTimeout(function(){return e.updateMasonry()},0);break;default:e.destroyMasonry(),c.default(e.domElement).find(".thumbnail-wrap").css({"margin-right":i}),c.default(e.domElement).find(".thumbnail-wrap:nth-child("+o+"n)").css({"margin-right":0})}c.default(e.domElement).find(".thumbnail-wrap").css({width:r,"margin-bottom":t[n].rowGutter+"%"}),setTimeout(function(){return e.updateElementHeight()},0)},0)},t.prototype.destroyMasonry=function(){null!==this.msnry&&(this.msnry.destroy(),this.msnry=null)},t.prototype.updateMasonry=function(){var e=this,t={itemSelector:".thumbnail-wrap",columnWidth:".lay-thumbnailgrid-col-sizer",gutter:".lay-thumbnailgrid-gutter-sizer",percentPosition:!0,transitionDuration:0};null===this.msnry?(this.msnry=new p.default(this.domElement,t),this.msnry.on("layoutComplete",function(){return setTimeout(function(){return e.updateElementHeight()},0)})):this.msnry.layout(t),this.msnry.reloadItems(),setTimeout(function(){e.domElement&&0===e.domElement.offsetHeight&&e.updateMasonry()},500)},t.prototype.updateElementHeight=function(){this.props.hasOwnProperty("updateElementHeight")&&this.props.updateElementHeight()},t.prototype.render=function(){var e=this,t=this.props.cont.config,n=this.props.currentLayout,o=t[n].colCount,r=(100+t[n].colGutter)/o;r-=t[n].colGutter,r+="%";var s=t[n].colGutter+"%",a=[],l=null,c=this.props.thumbnailGridPosts[this.props.cont.config.cat_id];if(c)if("masonry"===t.layoutType)l=[i.createElement("div",{className:"lay-thumbnailgrid-gutter-sizer",style:{width:s}}),i.createElement("div",{className:"lay-thumbnailgrid-col-sizer",style:{width:r}})],a=c.map(function(t,n){return i.createElement(d.default,{key:e.props.cont.config.cat_id+"-"+n,cont:t})});else for(var u=0;u<c.length;u+=o){var p=c.slice(u,u+o).map(function(e,t){return i.createElement(d.default,{cont:e})});a.push(i.createElement("div",{key:u+9e3,className:"thumbnailgrid-row "+t.layoutType},p))}return i.createElement("div",{className:"thumbs-collection-region",style:{marginBottom:-t[n].rowGutter+"%"}},i.createElement("div",{ref:function(t){e.domElement=t},className:"thumb-collection"},a,l))},t}(i.Component);t.default=s.connect(function(e,t){return{thumbnailGridPosts:e.thumbnailGridPosts}},function(e){return{updateThumbnailsOfCategory:a.bindActionCreators(l.updateThumbnailsOfCategoryAction,e)}})(h)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.slidesWidthRegex=/^(\s*([1-9][0-9]*px)|(([1-9][0-9]*%)(\s-\s[1-9][0-9]*px)?)|(^$)\s*)$/},function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),s=n(4),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){var e={paddingBottom:void 0!==this.props.cont.h?this.props.cont.h/this.props.cont.w*100+"%":100*this.props.cont.ar+"%",backgroundImage:"url("+s.getStaticURL(this.props.cont.cont)+")"};return i.createElement("div",{className:"placeholder",style:e})},t}(i.Component);t.default=a},function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),s=n(4),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){var e,t="";this.props.hasOwnProperty("alt")&&(t=this.props.alt),e=this.props.cont.cont;var n;return!s.isGif(e)&&this.props.cont.sizes.hasOwnProperty("_512")&&(e=this.props.cont.sizes._512),n=100*this.props.cont.ar+"%",i.createElement("div",{className:"ph",style:{paddingBottom:n}},i.createElement("img",{src:s.getStaticURL(e),alt:t,draggable:!1}))},t}(i.Component);t.default=a},function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),s=n(14),a=n(7),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){var e=this.props.text.trim();return""===e?i.createElement("p",null,"empty text"):(e=s.default.getTextOfActiveDefaultOrOtherLangFromEncodedString(e),i.createElement("div",{className:"text "+a.default.textFormatParentClass,dangerouslySetInnerHTML:{__html:e}}))},t}(i.Component);t.default=l},function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),s=n(1),a=n(3),l=n(18),c=n(7),u=n(4),d=n(11),p=n(5),h=n(15),f=n(76),m=n(74),g=n(73),y=n(72),E=n(224),b=n(223),_=n(221),v=n(220),w=n(219),O=n(46),C=n(218),A=n(70),T=n(68),S=function(e){function t(t){var n=e.call(this,t)||this;n.onResizeThrottle=l.throttle(n.onResize.bind(n),c.default.throttleResize);var o=100;return t.hasOwnProperty("width")&&t.width.endsWith("%")&&(o=Number(t.width.substr(0,t.width.length-1))),n.state={width:o},n}return r(t,e),t.prototype.componentDidMount=function(){window.addEventListener("resize",this.onResizeThrottle),this.onResizeThrottle()},t.prototype.getSnapshotBeforeUpdate=function(e,t){},t.prototype.componentDidUpdate=function(e,t){this.onResizeThrottle()},t.prototype.componentWillReceiveProps=function(e){if(e.hasOwnProperty("width")&&e.width.endsWith("%")){var t=Number(e.width.substr(0,e.width.length-1));t!==this.state.width&&this.setState({width:t})}},t.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.onResizeThrottle)},t.prototype.onResize=function(){this.updateElementHeight()},t.prototype.updateElementHeight=function(){null!==this.domElement&&this.props.updateElementHeight(this.props.cont.relid,this.domElement.offsetHeight)},t.prototype.render=function(){var e=this,t=this.props.cont,n=t.type,o=t.offsetx,r=t.offsety,s=t.spaceabove,a=t.spacebelow,l=t.caption,c=this.getElement();console.log(this.getWidth()),console.log("hello");var u={width:this.getWidth(),marginLeft:o+"%",marginTop:r+"%",paddingTop:s+"%",paddingBottom:a+"%",zIndex:this.props.index};return null!==this.props.x&&null!==this.props.y?(u.left=this.props.x+"px",u.top=this.props.y+"px",u.pointerEvents="none"):(u.left=this.getLeft()+"%",u.top=this.getTop()+"%"),i.createElement("div",{className:"element",ref:function(t){e.domElement=t},"data-type":n,style:u},null!==c&&c,void 0!==l&&""!==l&&i.createElement(f.default,{caption:l}))},t.prototype.getLeft=function(){var e=this.props.cont.col*d.getColAndGutterInPct(this.props.contentWrapperWidth,this.props.currentLayout,this.props.colCount,this.props.colGutter,this.props.frameMargin);return u.isFrameOverflowLeft(this.props.cont.frameOverflow)||(e+=d.getMeasureInPct(d.MeasureUnitEnum.FRAME,this.props.frameMargin,this.props.contentWrapperWidth,this.props.currentLayout)),e},t.prototype.getWidth=function(){var e=this.props.cont.colspan,t=Number(this.props.colGutter),n=e*d.getColAndGutterInPct(this.props.contentWrapperWidth,this.props.currentLayout,this.props.colCount,t,this.props.frameMargin)-t;if(this.props.cont.frameOverflow){var o=d.getMeasureInPct(d.MeasureUnitEnum.FRAME,this.props.frameMargin,this.props.contentWrapperWidth,this.props.currentLayout);u.isFrameOverflowLeft(this.props.cont.frameOverflow)&&(n+=o),u.isFrameOverflowRight(this.props.cont.frameOverflow)&&(n+=o)}return 100!==this.state.width&&(n=n*this.state.width/100),console.log(n),n+"%"},t.prototype.getTop=function(){var e=this.props.rowTop;if(void 0===e&&(e=0),!0===this.props.insideStack)return e;switch(this.props.cont.align){case"middle":e+=(this.props.rowHeight-this.props.elementHeight)/2;break;case"bottom":e+=this.props.rowHeight-this.props.elementHeight}return Math.round(e)},t.prototype.getElement=function(e){switch(void 0===e&&(e="100%"),this.props.cont.type){case p.ElementTypeEnum.TEXT:return i.createElement(m.default,{text:this.props.cont.cont});case p.ElementTypeEnum.THUMBNAIL_GRID:return i.createElement(A.default,{cont:this.props.cont,currentLayout:this.props.currentLayout,updateElementHeight:this.updateElementHeight.bind(this)});case p.ElementTypeEnum.ELEMENT_GRID:return i.createElement(T.default,{cont:this.props.cont,currentLayout:this.props.currentLayout,updateElementHeight:this.updateElementHeight.bind(this)});case p.ElementTypeEnum.POST_THUMBNAIL:return i.createElement(O.default,{cont:this.props.cont});case p.ElementTypeEnum.CAROUSEL:return i.createElement(C.default,{cont:this.props.cont});case p.ElementTypeEnum.IMAGE:return i.createElement(g.default,{cont:this.props.cont});case p.ElementTypeEnum.YOUTUBE_VIMEO_VIDEO:case p.ElementTypeEnum.HTML5VIDEO:return i.createElement(y.default,{cont:this.props.cont});case p.ElementTypeEnum.EMBED:return i.createElement(E.default,{cont:this.props.cont.cont,h:this.props.cont.h,w:this.props.cont.w});case p.ElementTypeEnum.HTML:return i.createElement(b.default,{cont:this.props.cont.cont});case p.ElementTypeEnum.SHORTCODE:return i.createElement(v.default,{cont:this.props.cont.cont});case p.ElementTypeEnum.STACK:var t=0;switch(t=this.props.rowHeight-this.props.elementHeight,this.props.cont.align){case"top":t=0;break;case"middle":t/=2}return i.createElement(w.default,{offsetInRow:t,width:e,hideContextMenuElement:this.props.hideContextMenuElement,showContextMenuElement:this.props.showContextMenuElement,cont:this.props.cont});case p.ElementTypeEnum.HORIZONTAL_LINE:return i.createElement(_.default,null)}return null},t}(i.Component);t.Element=S,t.default=s.connect(function(e,t){return{selectedElementsId:e.selectedElementsId,frameMargin:e.json_field.frameMargin,colGutter:e.json_field.colGutter,colCount:e.json_field.colCount,rowTop:e.rowsTop[t.cont.row],rowHeight:e.rowsHeight[t.cont.row],elementHeight:e.elementsHeight[t.cont.relid],resize:e.resize,currentLayout:e.currentLayout,contentWrapperWidth:e.contentWrapperWidth}},function(e){return{updateElementHeight:a.bindActionCreators(h.updateElementHeight,e)}})(S)},function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),s=n(14),a=n(7),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){var e=this,t=s.default.getTextOfActiveDefaultOrOtherLangFromEncodedString(this.props.caption);return i.createElement("div",{className:"caption "+a.default.textFormatParentClass,onDoubleClick:function(t){return e.props.onDoubleClick(t)},dangerouslySetInnerHTML:{__html:t}})},t}(i.Component);t.default=l},function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),s=n(1),a=n(3),l=n(7),c=n(20),u=n(5),d=n(2),p=n(227),h=n(226),f=n(15),m=n(225),g=n(76),y=n(75),E=n(4),b=n(11),_=function(e){function t(t){var n=e.call(this,t)||this;n.onKeyDownBind=function(e){return n.onKeyDown(e)},n.onKeyUpBind=function(e){return n.onKeyUp(e)},n.altKeyPressed=!1,n.drag=m.default(function(e){n.props.moveDnd(e)},l.default.throttleDrag),n.dragResizeThrottled=m.default(function(e){n.props.moveResize(e),n.updateElementHeight()},l.default.throttleDrag);var o=100;return t.hasOwnProperty("width")&&t.width.endsWith("%")&&(o=Number(t.width.substr(0,t.width.length-1))),n.state={isMouseOver:!1,width:o},n.blockClick=!1,n}return r(t,e),t.prototype.render=function(){var e=this,t=this.props.cont,n=t.type,o=t.offsetx,r=t.offsety,s=t.spaceabove,a=t.spacebelow,l=t.caption,c=t.h,d=t.w,p=(t.ar,t.postid,this.getWidth()),h=this.getElement(p);100!==this.state.width&&(s=100*s/this.state.width,a=100*a/this.state.width),void 0===o&&(o=0),void 0===r&&(r=0);var f={left:0,top:0,width:p,transform:"translate3d("+(this.getLeft()+this.props.contentWrapperWidth/100*o)+"px, "+(this.getTop()+this.props.contentWrapperWidth/100*r)+"px, 0)",paddingTop:s+"%",paddingBottom:a+"%",zIndex:this.props.index},m=null;if(n===u.ElementTypeEnum.TEXT){var y={opacity:0};this.state.isMouseOver&&(y.opacity=1),m=i.createElement("button",{type:"button",style:y,className:"btn btn-default btn-xs clone-text",onClick:function(){return e.onClickClone()}})}var E=null,b={};switch(n){case u.ElementTypeEnum.EMBED:this.props.cont.hasOwnProperty("w")&&this.props.cont.hasOwnProperty("h")&&0!==this.props.cont.w&&0!==this.props.cont.h&&(b.height="initial",b.paddingBottom=100*c/d+"%");case u.ElementTypeEnum.TEXT:E=i.createElement("div",{className:"click-stopper",style:b})}var _="element moveable";return this.props.selectedElementsId.indexOf(this.props.cont.relid)>=0&&(_+=" selected"),i.createElement("div",{className:_,onContextMenu:function(t){return e.handleContext(t)},onDragStart:function(t){return e.dragStart(t)},onDragOver:function(e){return e.preventDefault()},onDrag:function(t){return e.drag(t)},onDragEnd:function(t){return e.dragEnd(t)},onMouseEnter:function(t){return e.onMouseEnter()},onMouseLeave:function(t){return e.onMouseLeave()},ref:function(t){e.domElement=t},onClick:function(t){return e.handleOnClick(t)},onDoubleClick:function(t){return e.onDoubleClick(t)},draggable:!0,"data-type":n,style:f},m,E,null!==h&&h,this.getGrab(),void 0!==l&&""!==l&&i.createElement(g.default,{onDoubleClick:function(t){return e.onDoubleClick(t,!0)},caption:l}))},t.prototype.dragStart=function(e){e.stopPropagation(),e.dataTransfer.setData("application/x-moz-node",e.target,0),e.dataTransfer.effectAllowed="move",this.props.startDnd(this.props.cont.relid,e),e.target.style.opacity=.5},t.prototype.dragEnd=function(e){e.preventDefault(),this.props.endDnd(e),e.target.style.opacity=""},t.prototype.dragResizeStart=function(e,t){void 0===t&&(t=!0),e.stopPropagation(),e.dataTransfer.setData("application/x-moz-node",e.target,0),this.props.startResize(this.props.cont.relid,e,t,this.altKeyPressed)},t.prototype.dragResize=function(e){e.stopPropagation(),this.dragResizeThrottled(e)},t.prototype.dragResizeEnd=function(e){this.props.endResize(e),this.updateElementHeight()},t.prototype.onClickClone=function(){this.props.setAddElements([{type:this.props.cont.type,cont:this.props.cont.cont}])},t.prototype.handleOnClick=function(e){e.stopPropagation(),!1===this.blockClick&&(this.props.hideContextMenuElement(),e.metaKey?this.props.toggleSelectedElementId(this.props.cont.relid):e.shiftKey?0===this.props.selectedElementsId.length?this.props.setSelectedElementsId([this.props.cont.relid]):this.props.shiftSelectedElementsId(this.props.cont.relid):this.props.selectedElementsId.indexOf(this.props.cont.relid)>=0&&1===this.props.selectedElementsId.length?this.props.setSelectedElementsId([]):this.props.setSelectedElementsId([this.props.cont.relid]))},t.prototype.handleContext=function(e){var t=this;if(clearTimeout(this.timeout),!1===this.blockClick){var n=e.clientX,o=e.clientY;this.props.showContextMenuElement(this.props.cont.relid,n,o)}e.preventDefault(),e.stopPropagation(),this.blockClick=!0,setTimeout(function(){t.blockClick=!1},500)},t.prototype.onDoubleClick=function(e,t){void 0===t&&(t=!1),this.props.cont.type!==u.ElementTypeEnum.HORIZONTAL_LINE&&this.props.cont.type!==u.ElementTypeEnum.STACK&&(e.stopPropagation(),this.props.hideContextMenuElement(),this.props.setSelectedElementsId([]),t?this.props.openModalEditAction(this.props.cont.relid,u.ElementAttributeTargetEnum.CAPTION):this.props.openModalEditAction(this.props.cont.relid))},t.prototype.getFrameMarginInPercent=function(){return b.getMeasureInPct(b.MeasureUnitEnum.FRAME,this.props.frameMargin,this.props.contentWrapperWidth,this.props.currentLayout)},t.prototype.getLeft=function(){var e=this.props.cont.col;if(null!==this.props.resize&&this.props.resize.relid===this.props.cont.relid&&-1!==this.props.resize.left)return this.props.resize.left;var t=e*((100-2*this.getFrameMarginInPercent()+this.props.colGutter)/this.props.colCount);return 100!==this.state.width||E.isFrameOverflowLeft(this.props.cont.frameOverflow)||(t+=this.getFrameMarginInPercent()),this.props.contentWrapperWidth/100*t},t.prototype.getWidth=function(){var e=this.props.cont.colspan,t=Number(this.props.colGutter);if(null!==this.props.resize&&this.props.resize.relid===this.props.cont.relid&&-1!==this.props.resize.width)return this.props.resize.width+"px";var n=e*((100-2*this.getFrameMarginInPercent()+t)/this.props.colCount)-t;return this.props.cont.frameOverflow&&(E.isFrameOverflowLeft(this.props.cont.frameOverflow)&&(n+=this.getFrameMarginInPercent()),E.isFrameOverflowRight(this.props.cont.frameOverflow)&&(n+=this.getFrameMarginInPercent())),100!==this.state.width&&(n=100*n/this.state.width),n+"%"},t.prototype.componentDidMount=function(){e.prototype.componentDidMount.apply(this),c.default.addEventListener("keydown",this.onKeyDownBind),c.default.addEventListener("keyup",this.onKeyUpBind)},t.prototype.componentWillUnmount=function(){e.prototype.componentWillUnmount.apply(this),c.default.removeEventListener("keydown",this.onKeyDownBind),c.default.removeEventListener("keyup",this.onKeyUpBind)},t.prototype.onKeyDown=function(e){18===e.keyCode&&(this.altKeyPressed=!0)},t.prototype.onKeyUp=function(e){18===e.keyCode&&(this.altKeyPressed=!1)},t.prototype.onMouseLeave=function(){this.props.cont.type===u.ElementTypeEnum.TEXT&&this.setState({isMouseOver:!1})},t.prototype.onMouseEnter=function(){this.props.cont.type===u.ElementTypeEnum.TEXT&&this.setState({isMouseOver:!0})},t.prototype.getGrab=function(){var e=this,t=[];switch(this.props.cont.type){case u.ElementTypeEnum.HORIZONTAL_LINE:return[i.createElement("span",{key:1,className:"grab grab-left",onDragStart:function(t){return e.dragResizeStart(t)},onDrag:function(t){e.dragResize(t)},onDragEnd:function(t){return e.dragResizeEnd(t)},draggable:!0}),i.createElement("div",{key:2,className:"drag hr-drag-handle"}),i.createElement("span",{key:3,className:"grab grab-right",onDragStart:function(t){return e.dragResizeStart(t,!1)},onDrag:function(t){e.dragResize(t)},onDragEnd:function(t){return e.dragResizeEnd(t)},draggable:!0})];case u.ElementTypeEnum.STACK:t=[i.createElement("div",{key:3,className:"drag stack-drag-handle"})];default:return[i.createElement("span",{key:1,className:"grab grab-top-left",onDragStart:function(t){return e.dragResizeStart(t)},onDrag:function(t){e.dragResize(t)},onDragEnd:function(t){return e.dragResizeEnd(t)},draggable:!0}),i.createElement("span",{key:2,className:"grab grab-bottom-left",onDragStart:function(t){return e.dragResizeStart(t)},onDrag:function(t){e.dragResize(t)},onDragEnd:function(t){return e.dragResizeEnd(t)},draggable:!0})].concat(t,i.createElement("div",{className:"selected-frame"}),[i.createElement("span",{key:4,className:"grab grab-top-right",onDragStart:function(t){return e.dragResizeStart(t,!1)},onDrag:function(t){e.dragResize(t)},onDragEnd:function(t){return e.dragResizeEnd(t)},draggable:!0}),i.createElement("span",{key:5,className:"grab grab-bottom-right",onDragStart:function(t){return e.dragResizeStart(t,!1)},onDrag:function(t){e.dragResize(t)},onDragEnd:function(t){return e.dragResizeEnd(t)},draggable:!0})])}},t}(y.Element);t.default=s.connect(function(e,t){return{colCount:e.json_field.colCount,colGutter:e.json_field.colGutter,elementHeight:e.elementsHeight[t.cont.relid],frameMargin:e.json_field.frameMargin,resize:e.resize,rowHeight:e.rowsHeight[t.cont.row],rowTop:e.rowsTop[t.cont.row],selectedElementsId:e.selectedElementsId,currentLayout:e.currentLayout,contentWrapperWidth:e.contentWrapperWidth,elementCount:e.json_field.cont.length,insideStack:t.insideStack}},function(e){return{toggleSelectedElementId:a.bindActionCreators(d.toggleSelectedElementIdAction,e),setSelectedElementsId:a.bindActionCreators(d.setSelectedElementsIdAction,e),shiftSelectedElementsId:a.bindActionCreators(d.shiftSelectedElementsIdAction,e),setSelectedRowGutters:a.bindActionCreators(d.setSelectedRowGuttersAction,e),updateElementHeight:a.bindActionCreators(f.updateElementHeight,e),startDnd:a.bindActionCreators(d.startDndAction,e),moveDnd:a.bindActionCreators(p.moveDnd,e),endDnd:a.bindActionCreators(p.endDnd,e),startResize:a.bindActionCreators(d.startResizeAction,e),moveResize:a.bindActionCreators(h.moveResize,e),endResize:a.bindActionCreators(h.endResize,e),setAddElements:a.bindActionCreators(d.setAddElementsAction,e),openModalEditAction:a.bindActionCreators(d.openModalEditAction,e)}})(_)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),r=n(15),i=n(10);t.insertRow=function(e){return function(t,n){t(o.insertRowAction(e)),t(r.updateRowsHeight())}},t.moveUpRow=function(e){return function(t,n){t(o.moveUpRowAction(e)),t(r.updateRowsHeight())}},t.moveDownRow=function(e){return function(t,n){t(o.moveDownRowAction(e)),t(r.updateRowsHeight())}},t.deleteRow=function(e){return function(t,n){for(var s=[],a=0,l=n().json_field.cont;a<l.length;a++){var c=l[a];c.row===e&&s.push(c.relid)}t(i.deleteElements(s)),t(o.deleteRowAction(e)),t(r.updateRowsHeight())}}},function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),s=n(4),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.componentDidMount=function(){var e=tinymce.get("lay_project_description").selection.getNode(),t={};"a"!==e.nodeName.toLowerCase()||""===e.getAttribute("href")||e.getAttribute("href").startsWith("#")||(t.imagelink={url:s.getRelativeURL(e.getAttribute("href")),id:Number(e.getAttribute("data-id")),type:e.getAttribute("data-type"),title:e.getAttribute("data-title"),newtab:"_blank"===e.getAttribute("target")},t.relid=0),this.props.setAdditionalModal({type:"linkText",cont:t})},t.prototype.componentWillReceiveProps=function(e){var t=this;if(s.checkNewAdditionalElements(e,this.props)){if(e.additionalElements[0]){var n=tinymce.get("lay_project_description");tinymce.isIE&&n.selection.moveToBookmark(n.windowManager.bookmark);var o={href:s.getStaticURL(e.additionalElements[0].imagelink.url),"data-type":e.additionalElements[0].imagelink.type,"data-id":e.additionalElements[0].imagelink.id,"data-title":e.additionalElements[0].imagelink.title,target:e.additionalElements[0].imagelink.newtab?"_blank":""},r=n.dom.getParent(n.selection.getNode(),"a");r?n.dom.setAttribs(r,o):n.execCommand("mceInsertLink",!1,o)}this.props.clearAdditionalElement(),setTimeout(function(){return t.props.closeModal()},0)}},t.prototype.render=function(){return null},t}(i.Component);t.default=a},function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),s=n(64),a=n(5),l=n(6),c=n(4),u=n(68),d=n(7),p=n(14),h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.doubleClicked=!1,t}return r(t,e),t.prototype.getContent=function(){if(this.props.value.type===a.ElementTypeEnum.TEXT)return i.createElement("div",{className:"elementgrid-text-slide",dangerouslySetInnerHTML:{__html:this.props.value.cont}});var e="";return e=void 0===this.props.value.sizes||void 0===this.props.value.sizes._512?this.props.value.cont:this.props.value.sizes._512,i.createElement("img",{draggable:!1,src:c.getStaticURL(e),alt:""})},t.prototype.getOrientation=function(){return void 0!==this.props.value.orientation?this.props.value.orientation:null},t.prototype.getCaptionClassName=function(){return this.props.value.type===a.ElementTypeEnum.POST_THUMBNAIL||void 0!==this.props.value.caption&&""!==this.props.value.caption.trim()?" show-caption":""},t.prototype.handleClick=function(e){var t=this,n=e.metaKey,o=e.shiftKey;e.stopPropagation(),setTimeout(function(){t.doubleClicked||t.props.selectSlide(n,o)},200)},t.prototype.handleDoubleClick=function(e){var t=this;e.stopPropagation(),e.preventDefault(),this.props.editSlide(),this.doubleClicked=!0,setTimeout(function(){t.doubleClicked=!1},200)},t.prototype.handleDoubleClickOnCaption=function(e){var t=this;switch(this.props.value.type){case a.ElementTypeEnum.TEXT:case a.ElementTypeEnum.POST_THUMBNAIL:return this.handleDoubleClick(e)}e.stopPropagation(),e.preventDefault(),this.props.editCaptionOfSlide(),this.doubleClicked=!0,setTimeout(function(){t.doubleClicked=!1},200)},t.prototype.handleClickDelete=function(e){e.stopPropagation(),e.preventDefault(),this.props.deleteSlide()},t.prototype.render=function(){var e=this,t="lay-elementgrid-slide-parent";this.props.selected&&(t+=" selected");var n=this.props.value.caption;return this.props.value.type===a.ElementTypeEnum.POST_THUMBNAIL&&(n=this.props.value.title),n=p.default.getTextOfActiveDefaultOrOtherLangFromEncodedString(n),i.createElement("div",{className:"lay-elementgrid-slide-dragcontainer",onDoubleClick:function(t){return e.handleDoubleClick(t)},onClick:function(t){return e.handleClick(t)}},i.createElement("div",{className:t,"data-type":this.props.value.type},i.createElement("button",{className:"lay-custom-delete-button",onClick:function(t){return e.handleClickDelete(t)}},""),i.createElement("div",{className:"type-indicator"}),i.createElement("div",{className:"lay-elementgrid-slide","data-orientation":this.props.value.orientation},this.getContent(),i.createElement("div",{className:"elementgrid-slide-caption"+this.getCaptionClassName(),dangerouslySetInnerHTML:{__html:n},onDoubleClick:function(t){return e.handleDoubleClickOnCaption(t)}}))))},t}(i.Component),f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){var e=this,t=[],n=function(n){var r=s.SortableElement(h);t.push(i.createElement(r,{key:"order-item-"+n,index:Number(n),value:o.props.items[Number(n)],selected:-1!==o.props.selectedSlides.indexOf(Number(n)),selectSlide:function(t,o){return e.props.selectSlide(Number(n),t,o)},deleteSlide:function(){return e.props.deleteSlide(Number(n))},editSlide:function(){return e.props.editSlide(a.ElementAttributeTargetEnum.CONT,Number(n))},editCaptionOfSlide:function(){return e.props.editSlide(a.ElementAttributeTargetEnum.CAPTION,Number(n))}}))},o=this;for(var r in this.props.items)n(r);return i.createElement("div",{className:"lay-elementgrid-slides-wrap"},t)},t}(i.Component),m={desktop:{colCount:4,colGutter:1,rowGutter:1},tablet:{colCount:2,colGutter:1,rowGutter:1},phone:{colCount:1,colGutter:1,rowGutter:1},layoutType:"masonry",elements:[]},g=function(e){function t(t){var n=e.call(this,t)||this;return n.onKeyDownBind=function(e){return n.onKeyDown(e)},null===t.cont?n.state={config:m,currentLayout:"desktop",editSlide:null,selectedSlides:[]}:n.state=Object.assign({currentLayout:"desktop",editSlide:null,selectedSlides:[]},t.cont),n}return r(t,e),t.prototype.componentDidMount=function(){window.addEventListener("keydown",this.onKeyDownBind)},t.prototype.componentWillUnmount=function(){window.removeEventListener("keydown",this.onKeyDownBind)},t.prototype.handleClickClose=function(){this.props.closeModal()},t.prototype.handleClickOk=function(){var e={type:a.ElementTypeEnum.ELEMENT_GRID,config:this.state.config};null===this.props.cont?this.props.setAddElements([e]):this.props.setElementContent(this.props.cont.relid,e)},t.prototype.handleClickDevice=function(e){this.setState({currentLayout:e})},t.prototype.handleChangeLayoutType=function(e){this.setState({config:Object.assign({},this.state.config,{layoutType:e.target.value})})},t.prototype.handleChangeColCount=function(e){var t=Number(e.target.value);if(t>0&&t<16){var n=Object.assign({},this.state.config[this.state.currentLayout],{colCount:t}),o={};o[this.state.currentLayout]=n,this.setState({config:Object.assign({},this.state.config,o)})}},t.prototype.handleChangeColGutter=function(e){var t=Number(e.target.value);if(t>=0&&t<=100){var n=Object.assign({},this.state.config[this.state.currentLayout],{colGutter:t}),o={};o[this.state.currentLayout]=n,this.setState({config:Object.assign({},this.state.config,o)})}},t.prototype.handleChangeRowGutter=function(e){var t=Number(e.target.value);if(t>=0&&t<=100){var n=Object.assign({},this.state.config[this.state.currentLayout],{rowGutter:t}),o={};o[this.state.currentLayout]=n,this.setState({config:Object.assign({},this.state.config,o)})}},t.prototype.handleAddElementModal=function(e){this.setState({selectedSlides:[]}),this.props.setAdditionalModal({type:e,cont:null})},t.prototype.componentWillReceiveProps=function(e){if(c.checkNewAdditionalElements(e,this.props)){if(e.additionalElements[0]){var t=Object.assign({},this.state.config),n=Object.assign([],t.elements);null===this.state.editSlide?n=e.additionalElements.concat(n):e.additionalElements.length>0&&Object.assign(n[this.state.editSlide],e.additionalElements[0]),t.elements=n,this.setState({config:t,editSlide:null})}this.props.clearAdditionalElement()}},t.prototype.handleEditElementModal=function(e,t){if(void 0===e&&(e=a.ElementAttributeTargetEnum.CONT),void 0===t&&(t=null),null===t&&0!==this.state.selectedSlides.length&&(t=this.state.selectedSlides[0]),null!==t&&this.state.config.elements.length>t){var n=this.state.config.elements[t].type;e!==a.ElementAttributeTargetEnum.CONT&&(n=a.ElementTypeEnum.TEXT),this.props.setAdditionalModal({type:n,cont:this.state.config.elements[t],target:e}),this.setState({selectedSlides:[],editSlide:t})}},t.prototype.onSortEnd=function(e,t){if(e.oldIndex!==e.newIndex){var n=Object.assign({},this.state.config),o=Object.assign([],n.elements);n.elements=s.arrayMove(o,e.oldIndex,e.newIndex),this.setState({config:n,selectedSlides:[]})}},t.prototype.selectSlide=function(e,t,n){var o=Object.assign([],this.state.selectedSlides),r=o.indexOf(e);if(t)-1===r?o.push(e):o.splice(r,1);else if(n)if(0===o.length)o=[e];else{o.push(e),o.sort(function(e,t){return e-t});var i=o[0],s=o[o.length-1];o=[];for(var a=i;a<=s;a++)o.push(a)}else o=-1!==r&&1===o.length?[]:[e];this.setState({selectedSlides:o})},t.prototype.deleteSlide=function(e){var t=Object.assign({},this.state.config),n=Object.assign([],t.elements);n.splice(e,1),t.elements=n,this.setState({config:t,selectedSlides:[]})},t.prototype.onKeyDown=function(e){if((8===e.keyCode||46===e.keyCode)&&0!==this.state.selectedSlides.length){var t=Object.assign({},this.state.config),n=Object.assign([],t.elements),o=Object.assign([],this.state.selectedSlides);(o=o.filter(function(e,t,n){return n.indexOf(e)===t})).sort(function(e,t){return t-e}),o.forEach(function(e){n.splice(e,1)}),t.elements=n,this.setState({config:t,selectedSlides:[]})}},t.prototype.render=function(){var e=this,t="Add Element Grid";null!==this.props.cont&&(t="Edit Element Grid");var n=["preview-desktop","preview-tablet","preview-phone"];switch(this.state.currentLayout){case"desktop":n[0]+=" active";break;case"tablet":n[1]+=" active";break;case"phone":n[2]+=" active"}for(var o=[],r=1;r<16;r++)o.push(i.createElement("option",{value:r},r));var c=s.SortableContainer(f),p=!0,h=!0,m=!0;if(1===this.state.selectedSlides.length&&this.state.config.elements.length>this.state.selectedSlides[0])switch(p=!1,this.state.config.elements[this.state.selectedSlides[0]].type){case a.ElementTypeEnum.IMAGE:m=!1;case a.ElementTypeEnum.HTML5VIDEO:h=!1}var g=null;return l.default.lightboxActiveHere&&(g=i.createElement("button",{type:"button",className:"btn btn-default elementgrid-edit-lightbox-caption-btn",onClick:function(){return e.handleEditElementModal(a.ElementAttributeTargetEnum.LIGHTBOX_CAPTION)},disabled:m},"Edit Lightbox Caption")),i.createElement("div",{className:"panel panel-default"},i.createElement("div",{className:"panel-heading"},i.createElement("h3",{className:"panel-title"},t),i.createElement("button",{type:"button",className:"close close-modal-btn",onClick:function(){return e.handleClickClose()}},i.createElement("span",{"aria-hidden":"true"},""),i.createElement("span",{className:"sr-only"},"Close"))),i.createElement("div",{className:"panel-body"},i.createElement("div",{className:"elementgrid-top-controls-wrap"},i.createElement("div",{className:"elementgrid-control-wrap"},i.createElement("label",null,"Layout Type"),i.createElement("select",{value:this.state.config.layoutType,onChange:function(t){return e.handleChangeLayoutType(t)},className:"layout-type-thumbgrid"},i.createElement("option",{value:"masonry"},"Masonry"),i.createElement("option",{value:"top-aligned"},"Top aligned"),i.createElement("option",{value:"middle-aligned"},"Middle aligned"),i.createElement("option",{value:"bottom-aligned"},"Bottom aligned"))),i.createElement("div",{className:"elementgrid-control-wrap"},i.createElement("label",null,"Elements per Row"),i.createElement("select",{value:this.state.config[this.state.currentLayout].colCount,onChange:function(t){return e.handleChangeColCount(t)},className:"column-count-thumbgrid"},o)),i.createElement("div",{className:"elementgrid-control-wrap"},i.createElement("label",null,"Column Gutter"),i.createElement("input",{type:"number",min:"0",max:"100",step:"0.1",className:"column-gutter-thumbgrid",value:this.state.config[this.state.currentLayout].colGutter,onChange:function(t){return e.handleChangeColGutter(t)}}),"%"),i.createElement("div",{className:"elementgrid-control-wrap"},i.createElement("label",null,"Row Gutter"),i.createElement("input",{type:"number",min:"0",max:"100",step:"0.1",className:"row-gutter-thumbgrid",value:this.state.config[this.state.currentLayout].rowGutter,onChange:function(t){return e.handleChangeRowGutter(t)}}),"%"),i.createElement("div",{className:"gridder-header-linebreak-elementgrid"}),i.createElement("div",{className:"elementgrid-control-wrap btn-group btn-group-sm",role:"group"},i.createElement("button",{type:"button",className:"btn btn-default elementgrid-add-images-btn",onClick:function(){return e.handleAddElementModal(a.ElementTypeEnum.IMAGE)}},i.createElement("span",{className:"lay-icon lay-icon-plus"})," Image"),i.createElement("button",{type:"button",className:"btn btn-default elementgrid-add-video-btn",onClick:function(){return e.handleAddElementModal(a.ElementTypeEnum.HTML5VIDEO)}},i.createElement("span",{className:"lay-icon lay-icon-plus"})," HTML5 Video"),i.createElement("button",{type:"button",className:"btn btn-default elementgrid-add-text-btn",onClick:function(){return e.handleAddElementModal(a.ElementTypeEnum.TEXT)}},i.createElement("span",{className:"lay-icon lay-icon-plus"})," Text"),i.createElement("button",{type:"button",className:"btn btn-default elementgrid-add-projects-btn",onClick:function(){return e.handleAddElementModal(a.ElementTypeEnum.POST_THUMBNAIL)}},i.createElement("span",{className:"lay-icon lay-icon-plus"})," ",d.default.postName," Thumbnail")),i.createElement("div",{className:"elementgrid-edit-control-wrap btn-group btn-group-sm",role:"group"},i.createElement("button",{type:"button",className:"btn btn-default elementgrid-edit-slide-btn",onClick:function(){return e.handleEditElementModal()},disabled:p},"Edit"),i.createElement("button",{type:"button",className:"btn btn-default elementgrid-edit-caption-btn",onClick:function(){return e.handleEditElementModal(a.ElementAttributeTargetEnum.CAPTION)},disabled:h},"Edit Caption"),g)),i.createElement("div",{className:"elementgrid-content-region"},i.createElement("div",{className:"elementgrid-edit-container"},i.createElement("div",{className:"elementgrid-edit-order"},i.createElement(c,{items:this.state.config.elements,onSortEnd:this.onSortEnd.bind(this),axis:"xy",distance:15,selectedSlides:this.state.selectedSlides,selectSlide:this.selectSlide.bind(this),deleteSlide:this.deleteSlide.bind(this),editSlide:this.handleEditElementModal.bind(this)}))),i.createElement("div",{className:"elementgrid-preview "+this.state.currentLayout+"-preview"},0!==this.state.config.elements.length&&i.createElement(u.default,{cont:this.state,currentLayout:this.state.currentLayout}),0===this.state.config.elements.length&&i.createElement("div",{className:"elementgrid-empty"},"Add Elements using the buttons on the top left.")))),i.createElement("div",{className:"panel-footer clearfix"},i.createElement("button",{type:"button",className:"btn btn-default btn-lg add-elementgrid-btn",onClick:function(){return e.handleClickOk()},disabled:0===this.state.config.elements.length},"Ok"),i.createElement("div",{className:"devices"},i.createElement("button",{type:"button",className:n[0],onClick:function(){return e.handleClickDevice("desktop")}}),i.createElement("button",{type:"button",className:n[1],onClick:function(){return e.handleClickDevice("tablet")}}),i.createElement("button",{type:"button",className:n[2],onClick:function(){return e.handleClickDevice("phone")}}))))},t}(i.Component);t.default=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=Sortable},function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),s=n(1),a=n(3),l=n(5),c=n(2),u=n(10),d=n(6),p=n(70),h=n(81),f=n(7),m=n(14),g={desktop:{colCount:4,colGutter:1,rowGutter:1},tablet:{colCount:2,colGutter:1,rowGutter:1},phone:{colCount:1,colGutter:1,rowGutter:1},layoutType:"masonry",cat_id:void 0!==d.default.categories[0]?d.default.categories[0].cat_ID:1},y=function(e){function t(t){var n=e.call(this,t)||this;return null===t.cont?n.state={config:g,currentLayout:"desktop",sortedPosts:null}:n.state=Object.assign({currentLayout:"desktop",sortedPosts:null},t.cont),n}return r(t,e),t.prototype.componentDidMount=function(){this.loadOrderListForThumbnailgrid()},t.prototype.loadOrderListForThumbnailgrid=function(){var e=this;jQuery.ajax({url:d.default.ajaxUrl,data:{action:"get_order_list_for_thumbnailgrid",catId:this.state.config.cat_id},type:"GET",dataType:"json",success:function(t){e.setState({sortedPosts:t})}})},t.prototype.componentDidUpdate=function(e,t){null===t.sortedPosts&&null!==this.state.sortedPosts&&this.initSortable(),t.config.cat_id!==this.state.config.cat_id&&(this.loadOrderListForThumbnailgrid(),this.initSortable())},t.prototype.initSortable=function(){var e=this,t=this.state.config.cat_id;void 0!==this.sortable&&this.sortable.destroy(),this.sortable=new h.default(this.sortedPostsDomElement,{onUpdate:function(){var n=[];jQuery(e.sortedPostsDomElement).find(".thumb-postid").each(function(){n.push(Number(jQuery(this).attr("data-id")))}),jQuery.ajax({url:d.default.ajaxUrl,data:{action:"thumbgrid_save_project_order",project_order:{termid:t,ids:n}},type:"POST",dataType:"json",success:function(){jQuery.ajax({url:d.default.ajaxUrl,data:{action:"get_thumbnails_for_thumbnailgrid",catId:t},type:"GET",dataType:"json",success:function(n){e.props.updateThumbnailsOfCategory(t,n)}})}})}})},t.prototype.handleClickClose=function(){this.props.closeModal()},t.prototype.handleClickOk=function(){var e={type:l.ElementTypeEnum.THUMBNAIL_GRID,config:this.state.config};null===this.props.cont?this.props.setAddElements([e]):this.props.setElementContent(this.props.cont.relid,e)},t.prototype.handleClickDevice=function(e){this.setState({currentLayout:e})},t.prototype.handleChangeCategory=function(e){this.setState({config:Object.assign({},this.state.config,{cat_id:Number(e.target.value)})})},t.prototype.handleChangeLayoutType=function(e){this.setState({config:Object.assign({},this.state.config,{layoutType:e.target.value})})},t.prototype.handleChangeColCount=function(e){var t=Number(e.target.value);if(t>0&&t<16){var n=Object.assign({},this.state.config[this.state.currentLayout],{colCount:t}),o={};o[this.state.currentLayout]=n,this.setState({config:Object.assign({},this.state.config,o)})}},t.prototype.handleChangeColGutter=function(e){var t=Number(e.target.value);if(t>=0&&t<=100){var n=Object.assign({},this.state.config[this.state.currentLayout],{colGutter:t}),o={};o[this.state.currentLayout]=n,this.setState({config:Object.assign({},this.state.config,o)})}},t.prototype.handleChangeRowGutter=function(e){var t=Number(e.target.value);if(t>=0&&t<=100){var n=Object.assign({},this.state.config[this.state.currentLayout],{rowGutter:t}),o={};o[this.state.currentLayout]=n,this.setState({config:Object.assign({},this.state.config,o)})}},t.prototype.render=function(){var e=this,t="Add "+f.default.postName+" Thumbnail Grid";null!==this.props.cont&&(t="Edit "+f.default.postName+" Thumbnail Grid");for(var n=[],o=0,r=d.default.categories;o<r.length;o++){var s=r[o];n.push(i.createElement("option",{value:s.cat_ID},s.cat_name))}var a=["preview-desktop","preview-tablet","preview-phone"];switch(this.state.currentLayout){case"desktop":a[0]+=" active";break;case"tablet":a[1]+=" active";break;case"phone":a[2]+=" active"}for(var l=[],c=1;c<16;c++)l.push(i.createElement("option",{value:c},c));var u=[];return null!==this.state.sortedPosts&&(u=this.state.sortedPosts.map(function(e){return i.createElement("li",{className:"item","data-id":e.post_id},i.createElement("img",{src:e.src}),m.default.getTextOfActiveDefaultOrOtherLangFromEncodedString(e.title),i.createElement("input",{className:"thumb-postid",type:"hidden","data-id":e.post_id}))})),i.createElement("div",{className:"panel panel-default"},i.createElement("div",{className:"panel-heading"},i.createElement("h3",{className:"panel-title"},t),i.createElement("button",{type:"button",className:"close close-modal-btn",onClick:function(){return e.handleClickClose()}},i.createElement("span",{"aria-hidden":"true"},""),i.createElement("span",{className:"sr-only"},"Close"))),i.createElement("div",{className:"panel-body"},i.createElement("div",{className:"thumbnailgrid-top-controls-wrap"},i.createElement("div",{className:"thumbnailgrid-control-wrap"},i.createElement("label",null,"Category"),i.createElement("select",{className:"thumbnailgrid-category-select",value:this.state.config.cat_id,onChange:function(t){return e.handleChangeCategory(t)}},n)),i.createElement("div",{className:"thumbnailgrid-control-wrap"},i.createElement("label",null,"Layout Type"),i.createElement("select",{value:this.state.config.layoutType,onChange:function(t){return e.handleChangeLayoutType(t)},className:"layout-type-thumbgrid"},i.createElement("option",{value:"masonry"},"Masonry"),i.createElement("option",{value:"top-aligned"},"Top aligned"),i.createElement("option",{value:"middle-aligned"},"Middle aligned"),i.createElement("option",{value:"bottom-aligned"},"Bottom aligned"))),i.createElement("div",{className:"thumbnailgrid-control-wrap thumbnailgrid-responsive-control"},i.createElement("label",null,"Thumbnails per row"),i.createElement("select",{value:this.state.config[this.state.currentLayout].colCount,onChange:function(t){return e.handleChangeColCount(t)},className:"column-count-thumbgrid"},l)),i.createElement("div",{className:"thumbnailgrid-control-wrap thumbnailgrid-responsive-control"},i.createElement("label",null,"Column Gutter"),i.createElement("input",{type:"number",min:"0",max:"100",step:"0.1",className:"column-gutter-thumbgrid",value:this.state.config[this.state.currentLayout].colGutter,onChange:function(t){return e.handleChangeColGutter(t)}}),"%"),i.createElement("div",{className:"thumbnailgrid-control-wrap thumbnailgrid-responsive-control"},i.createElement("label",null,"Row Gutter"),i.createElement("input",{type:"number",min:"0",max:"100",step:"0.1",className:"row-gutter-thumbgrid",value:this.state.config[this.state.currentLayout].rowGutter,onChange:function(t){return e.handleChangeRowGutter(t)}}),"%"),i.createElement("div",{className:"sortable-region"},i.createElement("div",{className:"thumbnailgrid-order-wrap"},i.createElement("label",null,f.default.postName," Order"),i.createElement("div",{className:"ul-region"},i.createElement("ul",{ref:function(t){e.sortedPostsDomElement=t},className:"lay-thumbnailgrid-item-order"},u))))),i.createElement("div",{id:"thumbnailgrid-content-region"},this.props.thumbnailGridPosts[this.state.config.cat_id]&&0===this.props.thumbnailGridPosts[this.state.config.cat_id].length&&i.createElement("div",{className:"thumbnailgrid-empty"},"This category contains no projects."),i.createElement("div",{className:"thumbnailgrid-scrollable-container"},i.createElement("div",{className:"lay-thumbnailgrid-item-wrap "+this.state.currentLayout+"-preview"},i.createElement(p.default,{cont:this.state,currentLayout:this.state.currentLayout}))))),i.createElement("div",{className:"panel-footer clearfix"},i.createElement("button",{type:"button",className:"btn btn-default btn-lg add-thumbnailgrid-btn",onClick:function(){return e.handleClickOk()}},"Ok"),i.createElement("div",{className:"devices"},i.createElement("button",{type:"button",className:a[0],onClick:function(){return e.handleClickDevice("desktop")}}),i.createElement("button",{type:"button",className:a[1],onClick:function(){return e.handleClickDevice("tablet")}}),i.createElement("button",{type:"button",className:a[2],onClick:function(){return e.handleClickDevice("phone")}}))))},t}(i.Component);t.default=s.connect(function(e,t){return{thumbnailGridPosts:e.thumbnailGridPosts}},function(e){return{setAddElements:a.bindActionCreators(c.setAddElementsAction,e),setElementContent:a.bindActionCreators(u.setElementContent,e),closeModal:a.bindActionCreators(c.closeModalAction,e),updateThumbnailsOfCategory:a.bindActionCreators(c.updateThumbnailsOfCategoryAction,e)}})(y)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),void 0===window.carouselPassedData&&(window.carouselPassedData={showArrowButtons:!0,transition:"sliding",loop:!0}),t.default=carouselPassedData},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();t.default=function(e){var t,n,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{withRef:!1};return n=t=function(t){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),r(n,[{key:"componentDidMount",value:function(){var e=(0,a.findDOMNode)(this);e.sortableHandle=!0}},{key:"getWrappedInstance",value:function(){return(0,l.default)(u.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableHandle() call"),this.refs.wrappedInstance}},{key:"render",value:function(){var t=u.withRef?"wrappedInstance":null;return s.default.createElement(e,o({ref:t},this.props))}}]),n}(i.Component),t.displayName=(0,c.provideDisplayName)("sortableHandle",e),n};var i=n(0),s=u(i),a=n(36),l=u(n(45)),c=n(34);function u(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();t.default=function(e){var t,n,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{withRef:!1};return n=t=function(t){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),r(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.collection,n=e.disabled,o=e.index;n||this.setDraggable(t,o)}},{key:"componentWillReceiveProps",value:function(e){if(this.props.index!==e.index&&this.node&&(this.node.sortableInfo.index=e.index),this.props.disabled!==e.disabled){var t=e.collection,n=e.disabled,o=e.index;n?this.removeDraggable(t):this.setDraggable(t,o)}else this.props.collection!==e.collection&&(this.removeDraggable(this.props.collection),this.setDraggable(e.collection,e.index))}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.collection,n=e.disabled;n||this.removeDraggable(t)}},{key:"setDraggable",value:function(e,t){var n=this.node=(0,l.findDOMNode)(this);n.sortableInfo={index:t,collection:e,manager:this.context.manager},this.ref={node:n},this.context.manager.add(e,this.ref)}},{key:"removeDraggable",value:function(e){this.context.manager.remove(e,this.ref)}},{key:"getWrappedInstance",value:function(){return(0,c.default)(d.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableElement() call"),this.refs.wrappedInstance}},{key:"render",value:function(){var t=d.withRef?"wrappedInstance":null;return s.default.createElement(e,o({ref:t},(0,u.omit)(this.props,"collection","disabled","index")))}}]),n}(i.Component),t.displayName=(0,u.provideDisplayName)("sortableElement",e),t.contextTypes={manager:a.default.object.isRequired},t.propTypes={index:a.default.number.isRequired,collection:a.default.oneOfType([a.default.number,a.default.string]),disabled:a.default.bool},t.defaultProps={collection:0},n};var i=n(0),s=d(i),a=d(n(63)),l=n(36),c=d(n(45)),u=n(34);function d(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){var o=n(43),r=n(22),i=n(39),s=n(24);e.exports=function(e,t,n){if(!s(n))return!1;var a=typeof t;return!!("number"==a?r(n)&&i(t,n.length):"string"==a&&t in n)&&o(n[t],e)}},function(e,t){var n=800,o=16,r=Date.now;e.exports=function(e){var t=0,i=0;return function(){var s=r(),a=o-(s-i);if(i=s,a>0){if(++t>=n)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}},function(e,t,n){var o=n(17),r=function(){try{var e=o(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=r},function(e,t){e.exports=function(e){return function(){return e}}},function(e,t,n){var o=n(89),r=n(88),i=n(27),s=r?function(e,t){return r(e,"toString",{configurable:!0,enumerable:!1,value:o(t),writable:!0})}:i;e.exports=s},function(e,t,n){var o=n(90),r=n(87)(o);e.exports=r},function(e,t){e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},function(e,t,n){var o=n(92),r=Math.max;e.exports=function(e,t,n){return t=r(void 0===t?e.length-1:t,0),function(){for(var i=arguments,s=-1,a=r(i.length-t,0),l=Array(a);++s<a;)l[s]=i[t+s];s=-1;for(var c=Array(t+1);++s<t;)c[s]=i[s];return c[t]=n(l),o(e,this,c)}}},function(e,t,n){var o=n(27),r=n(93),i=n(91);e.exports=function(e,t){return i(r(e,t,o),e+"")}},function(e,t,n){var o=n(21);e.exports=function(e,t){if(e!==t){var n=void 0!==e,r=null===e,i=e==e,s=o(e),a=void 0!==t,l=null===t,c=t==t,u=o(t);if(!l&&!u&&!s&&e>t||s&&a&&c&&!l&&!u||r&&a&&c||!n&&c||!i)return 1;if(!r&&!s&&!u&&e<t||u&&n&&i&&!r&&!s||l&&n&&i||!a&&i||!c)return-1}return 0}},function(e,t,n){var o=n(95);e.exports=function(e,t,n){for(var r=-1,i=e.criteria,s=t.criteria,a=i.length,l=n.length;++r<a;){var c=o(i[r],s[r]);if(c)return r>=l?c:c*("desc"==n[r]?-1:1)}return e.index-t.index}},function(e,t){e.exports=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}},function(e,t,n){var o=n(22);e.exports=function(e,t){return function(n,r){if(null==n)return n;if(!o(n))return e(n,r);for(var i=n.length,s=t?i:-1,a=Object(n);(t?s--:++s<i)&&!1!==r(a[s],s,a););return n}}},function(e,t){e.exports=function(e){return function(t,n,o){for(var r=-1,i=Object(t),s=o(t),a=s.length;a--;){var l=s[e?a:++r];if(!1===n(i[l],l,i))break}return t}}},function(e,t,n){var o=n(99)();e.exports=o},function(e,t,n){var o=n(100),r=n(29);e.exports=function(e,t){return e&&o(e,t,r)}},function(e,t,n){var o=n(101),r=n(98)(o);e.exports=r},function(e,t,n){var o=n(102),r=n(22);e.exports=function(e,t){var n=-1,i=r(e)?Array(e.length):[];return o(e,function(e,o,r){i[++n]=t(e,o,r)}),i}},function(e,t,n){var o=n(47),r=n(44),i=n(103),s=n(97),a=n(52),l=n(96),c=n(27);e.exports=function(e,t,n){var u=-1;t=o(t.length?t:[c],a(r));var d=i(e,function(e,n,r){return{criteria:o(t,function(t){return t(e)}),index:++u,value:e}});return s(d,function(e,t){return l(e,t,n)})}},function(e,t,n){var o=n(25),r=n(40),i=n(12),s=o?o.isConcatSpreadable:void 0;e.exports=function(e){return i(e)||r(e)||!!(s&&e&&e[s])}},function(e,t,n){var o=n(56),r=n(105);e.exports=function e(t,n,i,s,a){var l=-1,c=t.length;for(i||(i=r),a||(a=[]);++l<c;){var u=t[l];n>0&&i(u)?n>1?e(u,n-1,i,s,a):o(a,u):s||(a[a.length]=u)}return a}},function(e,t,n){var o=n(106),r=n(104),i=n(94),s=n(86),a=i(function(e,t){if(null==e)return[];var n=t.length;return n>1&&s(e,t[0],t[1])?t=[]:n>2&&s(t[0],t[1],t[2])&&(t=[t[0]]),r(e,o(t,1),[])});e.exports=a},function(e,t,n){var o=n(24),r=n(21),i=NaN,s=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,c=/^0o[0-7]+$/i,u=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(r(e))return i;if(o(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=o(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(s,"");var n=l.test(e);return n||c.test(e)?u(e.slice(2),n?2:8):a.test(e)?i:+e}},function(e,t,n){var o=n(108),r=1/0,i=1.7976931348623157e308;e.exports=function(e){return e?(e=o(e))===r||e===-r?(e<0?-1:1)*i:e==e?e:0:0===e?e:0}},function(e,t,n){var o=n(109);e.exports=function(e){var t=o(e),n=t%1;return t==t?n?t-n:t:0}},function(e,t){e.exports=function(e,t,n,o){for(var r=e.length,i=n+(o?1:-1);o?i--:++i<r;)if(t(e[i],i,e))return i;return-1}},function(e,t,n){var o=n(111),r=n(44),i=n(110),s=Math.max;e.exports=function(e,t,n){var a=null==e?0:e.length;if(!a)return-1;var l=null==n?0:i(n);return l<0&&(l=s(a+l,0)),o(e,r(t,3),l)}},function(e,t,n){var o=n(49);e.exports=function(e){return function(t){return o(t,e)}}},function(e,t){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},function(e,t,n){var o=n(114),r=n(113),i=n(37),s=n(28);e.exports=function(e){return i(e)?o(s(e)):r(e)}},function(e,t,n){var o=n(48),r=n(40),i=n(12),s=n(39),a=n(38),l=n(28);e.exports=function(e,t,n){for(var c=-1,u=(t=o(t,e)).length,d=!1;++c<u;){var p=l(t[c]);if(!(d=null!=e&&n(e,p)))break;e=e[p]}return d||++c!=u?d:!!(u=null==e?0:e.length)&&a(u)&&s(p,u)&&(i(e)||r(e))}},function(e,t){e.exports=function(e,t){return null!=e&&t in Object(e)}},function(e,t,n){var o=n(117),r=n(116);e.exports=function(e,t){return null!=e&&r(e,t,o)}},function(e,t,n){var o=n(25),r=n(47),i=n(12),s=n(21),a=1/0,l=o?o.prototype:void 0,c=l?l.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(i(t))return r(t,e)+"";if(s(t))return c?c.call(t):"";var n=t+"";return"0"==n&&1/t==-a?"-0":n}},function(e,t,n){var o=n(119);e.exports=function(e){return null==e?"":o(e)}},function(e,t,n){var o=n(41),r="Expected a function";function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(r);var n=function(){var o=arguments,r=t?t.apply(this,o):o[0],i=n.cache;if(i.has(r))return i.get(r);var s=e.apply(this,o);return n.cache=i.set(r,s)||i,s};return n.cache=new(i.Cache||o),n}i.Cache=o,e.exports=i},function(e,t,n){var o=n(121),r=500;e.exports=function(e){var t=o(e,function(e){return n.size===r&&n.clear(),e}),n=t.cache;return t}},function(e,t,n){var o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,i=n(122)(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(o,function(e,n,o,i){t.push(o?i.replace(r,"$1"):n||e)}),t});e.exports=i},function(e,t,n){var o=n(49);e.exports=function(e,t,n){var r=null==e?void 0:o(e,t);return void 0===r?n:r}},function(e,t,n){var o=n(58),r=n(124),i=n(118),s=n(37),a=n(51),l=n(50),c=n(28),u=1,d=2;e.exports=function(e,t){return s(e)&&a(t)?l(c(e),t):function(n){var s=r(n,e);return void 0===s&&s===t?i(n,e):o(t,s,u|d)}}},function(e,t,n){var o=n(51),r=n(29);e.exports=function(e){for(var t=r(e),n=t.length;n--;){var i=t[n],s=e[i];t[n]=[i,s,o(s)]}return t}},function(e,t,n){var o=n(17)(n(13),"WeakMap");e.exports=o},function(e,t,n){var o=n(17)(n(13),"Set");e.exports=o},function(e,t,n){var o=n(17)(n(13),"Promise");e.exports=o},function(e,t,n){var o=n(17)(n(13),"DataView");e.exports=o},function(e,t,n){var o=n(130),r=n(42),i=n(129),s=n(128),a=n(127),l=n(26),c=n(59),u=c(o),d=c(r),p=c(i),h=c(s),f=c(a),m=l;(o&&"[object DataView]"!=m(new o(new ArrayBuffer(1)))||r&&"[object Map]"!=m(new r)||i&&"[object Promise]"!=m(i.resolve())||s&&"[object Set]"!=m(new s)||a&&"[object WeakMap]"!=m(new a))&&(m=function(e){var t=l(e),n="[object Object]"==t?e.constructor:void 0,o=n?c(n):"";if(o)switch(o){case u:return"[object DataView]";case d:return"[object Map]";case p:return"[object Promise]";case h:return"[object Set]";case f:return"[object WeakMap]"}return t}),e.exports=m},function(e,t){e.exports=function(e,t){return function(n){return e(t(n))}}},function(e,t,n){var o=n(132)(Object.keys,Object);e.exports=o},function(e,t){var n=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}},function(e,t,n){var o=n(134),r=n(133),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!o(e))return r(e);var t=[];for(var n in Object(e))i.call(e,n)&&"constructor"!=n&&t.push(n);return t}},function(e,t,n){(function(e){var o=n(60),r="object"==typeof t&&t&&!t.nodeType&&t,i=r&&"object"==typeof e&&e&&!e.nodeType&&e,s=i&&i.exports===r&&o.process,a=function(){try{return s&&s.binding&&s.binding("util")}catch(e){}}();e.exports=a}).call(this,n(54)(e))},function(e,t,n){var o=n(26),r=n(38),i=n(23),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1,e.exports=function(e){return i(e)&&r(e.length)&&!!s[o(e)]}},function(e,t){e.exports=function(){return!1}},function(e,t,n){var o=n(26),r=n(23),i="[object Arguments]";e.exports=function(e){return r(e)&&o(e)==i}},function(e,t){e.exports=function(e,t){for(var n=-1,o=Array(e);++n<e;)o[n]=t(n);return o}},function(e,t,n){var o=n(140),r=n(40),i=n(12),s=n(55),a=n(39),l=n(53),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=i(e),u=!n&&r(e),d=!n&&!u&&s(e),p=!n&&!u&&!d&&l(e),h=n||u||d||p,f=h?o(e.length,String):[],m=f.length;for(var g in e)!t&&!c.call(e,g)||h&&("length"==g||d&&("offset"==g||"parent"==g)||p&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||a(g,m))||f.push(g);return f}},function(e,t){e.exports=function(){return[]}},function(e,t){e.exports=function(e,t){for(var n=-1,o=null==e?0:e.length,r=0,i=[];++n<o;){var s=e[n];t(s,n,e)&&(i[r++]=s)}return i}},function(e,t,n){var o=n(143),r=n(142),i=Object.prototype.propertyIsEnumerable,s=Object.getOwnPropertySymbols,a=s?function(e){return null==e?[]:(e=Object(e),o(s(e),function(t){return i.call(e,t)}))}:r;e.exports=a},function(e,t,n){var o=n(56),r=n(12);e.exports=function(e,t,n){var i=t(e);return r(e)?i:o(i,n(e))}},function(e,t,n){var o=n(145),r=n(144),i=n(29);e.exports=function(e){return o(e,i,r)}},function(e,t,n){var o=n(146),r=1,i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,s,a,l){var c=n&r,u=o(e),d=u.length;if(d!=o(t).length&&!c)return!1;for(var p=d;p--;){var h=u[p];if(!(c?h in t:i.call(t,h)))return!1}var f=l.get(e);if(f&&l.get(t))return f==t;var m=!0;l.set(e,t),l.set(t,e);for(var g=c;++p<d;){var y=e[h=u[p]],E=t[h];if(s)var b=c?s(E,y,h,t,e,l):s(y,E,h,e,t,l);if(!(void 0===b?y===E||a(y,E,n,s,l):b)){m=!1;break}g||(g="constructor"==h)}if(m&&!g){var _=e.constructor,v=t.constructor;_!=v&&"constructor"in e&&"constructor"in t&&!("function"==typeof _&&_ instanceof _&&"function"==typeof v&&v instanceof v)&&(m=!1)}return l.delete(e),l.delete(t),m}},function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}},function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e,o){n[++t]=[o,e]}),n}},function(e,t,n){var o=n(13).Uint8Array;e.exports=o},function(e,t,n){var o=n(25),r=n(150),i=n(43),s=n(57),a=n(149),l=n(148),c=1,u=2,d="[object Boolean]",p="[object Date]",h="[object Error]",f="[object Map]",m="[object Number]",g="[object RegExp]",y="[object Set]",E="[object String]",b="[object Symbol]",_="[object ArrayBuffer]",v="[object DataView]",w=o?o.prototype:void 0,O=w?w.valueOf:void 0;e.exports=function(e,t,n,o,w,C,A){switch(n){case v:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case _:return!(e.byteLength!=t.byteLength||!C(new r(e),new r(t)));case d:case p:case m:return i(+e,+t);case h:return e.name==t.name&&e.message==t.message;case g:case E:return e==t+"";case f:var T=a;case y:var S=o&c;if(T||(T=l),e.size!=t.size&&!S)return!1;var N=A.get(e);if(N)return N==t;o|=u,A.set(e,t);var k=s(T(e),T(t),o,w,C,A);return A.delete(e),k;case b:if(O)return O.call(e)==O.call(t)}return!1}},function(e,t){e.exports=function(e,t){return e.has(t)}},function(e,t){e.exports=function(e,t){for(var n=-1,o=null==e?0:e.length;++n<o;)if(t(e[n],n,e))return!0;return!1}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t){var n="__lodash_hash_undefined__";e.exports=function(e){return this.__data__.set(e,n),this}},function(e,t,n){var o=n(41),r=n(155),i=n(154);function s(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new o;++t<n;)this.add(e[t])}s.prototype.add=s.prototype.push=r,s.prototype.has=i,e.exports=s},function(e,t,n){var o=n(62),r=n(57),i=n(151),s=n(147),a=n(131),l=n(12),c=n(55),u=n(53),d=1,p="[object Arguments]",h="[object Array]",f="[object Object]",m=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,g,y,E){var b=l(e),_=l(t),v=b?h:a(e),w=_?h:a(t),O=(v=v==p?f:v)==f,C=(w=w==p?f:w)==f,A=v==w;if(A&&c(e)){if(!c(t))return!1;b=!0,O=!1}if(A&&!O)return E||(E=new o),b||u(e)?r(e,t,n,g,y,E):i(e,t,v,n,g,y,E);if(!(n&d)){var T=O&&m.call(e,"__wrapped__"),S=C&&m.call(t,"__wrapped__");if(T||S){var N=T?e.value():e,k=S?t.value():t;return E||(E=new o),y(N,k,n,g,E)}}return!!A&&(E||(E=new o),s(e,t,n,g,y,E))}},function(e,t,n){var o=n(30);e.exports=function(e,t){var n=o(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}},function(e,t,n){var o=n(30);e.exports=function(e){return o(this,e).has(e)}},function(e,t,n){var o=n(30);e.exports=function(e){return o(this,e).get(e)}},function(e,t){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},function(e,t,n){var o=n(30);e.exports=function(e){var t=o(this,e).delete(e);return this.size-=t?1:0,t}},function(e,t,n){var o=n(31),r="__lodash_hash_undefined__";e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=o&&void 0===t?r:t,this}},function(e,t,n){var o=n(31),r=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return o?void 0!==t[e]:r.call(t,e)}},function(e,t,n){var o=n(31),r="__lodash_hash_undefined__",i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(o){var n=t[e];return n===r?void 0:n}return i.call(t,e)?t[e]:void 0}},function(e,t){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},function(e,t,n){var o=n(31);e.exports=function(){this.__data__=o?o(null):{},this.size=0}},function(e,t,n){var o=n(167),r=n(166),i=n(165),s=n(164),a=n(163);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}l.prototype.clear=o,l.prototype.delete=r,l.prototype.get=i,l.prototype.has=s,l.prototype.set=a,e.exports=l},function(e,t,n){var o=n(168),r=n(33),i=n(42);e.exports=function(){this.size=0,this.__data__={hash:new o,map:new(i||r),string:new o}}},function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t,n){var o=n(13)["__core-js_shared__"];e.exports=o},function(e,t,n){var o,r=n(171),i=(o=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||""))?"Symbol(src)_1."+o:"";e.exports=function(e){return!!i&&i in e}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t,n){var o=n(25),r=Object.prototype,i=r.hasOwnProperty,s=r.toString,a=o?o.toStringTag:void 0;e.exports=function(e){var t=i.call(e,a),n=e[a];try{e[a]=void 0;var o=!0}catch(e){}var r=s.call(e);return o&&(t?e[a]=n:delete e[a]),r}},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var o=n(61),r=n(172),i=n(24),s=n(59),a=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,u=l.toString,d=c.hasOwnProperty,p=RegExp("^"+u.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!i(e)||r(e))&&(o(e)?p:a).test(s(e))}},function(e,t,n){var o=n(33),r=n(42),i=n(41),s=200;e.exports=function(e,t){var n=this.__data__;if(n instanceof o){var a=n.__data__;if(!r||a.length<s-1)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new i(a)}return n.set(e,t),this.size=n.size,this}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t){e.exports=function(e){return this.__data__.get(e)}},function(e,t){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},function(e,t,n){var o=n(33);e.exports=function(){this.__data__=new o,this.size=0}},function(e,t,n){var o=n(32);e.exports=function(e,t){var n=this.__data__,r=o(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}},function(e,t,n){var o=n(32);e.exports=function(e){return o(this.__data__,e)>-1}},function(e,t,n){var o=n(32);e.exports=function(e){var t=this.__data__,n=o(t,e);return n<0?void 0:t[n][1]}},function(e,t,n){var o=n(32),r=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=o(t,e);return!(n<0||(n==t.length-1?t.pop():r.call(t,n,1),--this.size,0))}},function(e,t){e.exports=function(){this.__data__=[],this.size=0}},function(e,t,n){var o=n(62),r=n(58),i=1,s=2;e.exports=function(e,t,n,a){var l=n.length,c=l,u=!a;if(null==e)return!c;for(e=Object(e);l--;){var d=n[l];if(u&&d[2]?d[1]!==e[d[0]]:!(d[0]in e))return!1}for(;++l<c;){var p=(d=n[l])[0],h=e[p],f=d[1];if(u&&d[2]){if(void 0===h&&!(p in e))return!1}else{var m=new o;if(a)var g=a(h,f,p,e,t,m);if(!(void 0===g?r(f,h,i|s,a,m):g))return!1}}return!0}},function(e,t,n){var o=n(187),r=n(126),i=n(50);e.exports=function(e){var t=r(e);return 1==t.length&&t[0][2]?i(t[0][0],t[0][1]):function(n){return n===e||o(n,e,t)}}},function(e,t,n){var o=n(44),r=n(22),i=n(29);e.exports=function(e){return function(t,n,s){var a=Object(t);if(!r(t)){var l=o(n,3);t=i(t),n=function(e){return l(a[e],e,a)}}var c=e(t,n,s);return c>-1?a[l?t[c]:c]:void 0}}},function(e,t,n){var o=n(189)(n(112));e.exports=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=s(n(190)),i=s(n(107));function s(e){return e&&e.__esModule?e:{default:e}}var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.refs={}}return o(e,[{key:"add",value:function(e,t){this.refs[e]||(this.refs[e]=[]),this.refs[e].push(t)}},{key:"remove",value:function(e,t){var n=this.getIndex(e,t);-1!==n&&this.refs[e].splice(n,1)}},{key:"isActive",value:function(){return this.active}},{key:"getActive",value:function(){var e=this;return(0,r.default)(this.refs[this.active.collection],function(t){return t.node.sortableInfo.index==e.active.index})}},{key:"getIndex",value:function(e,t){return this.refs[e].indexOf(t)}},{key:"getOrderedRefs",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.active.collection;return(0,i.default)(this.refs[e],function(e){return e.node.sortableInfo.index})}}]),e}();t.default=a},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";var o=function(e){};e.exports=function(e,t,n,r,i,s,a,l){if(o(t),!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,i,s,a,l],d=0;(c=new Error(t.replace(/%s/g,function(){return u[d++]}))).name="Invariant Violation"}throw c.framesToPop=1,c}}},function(e,t,n){"use strict";function o(e){return function(){return e}}var r=function(){};r.thatReturns=o,r.thatReturnsFalse=o(!1),r.thatReturnsTrue=o(!0),r.thatReturnsNull=o(null),r.thatReturnsThis=function(){return this},r.thatReturnsArgument=function(e){return e},e.exports=r},function(e,t,n){"use strict";var o=n(194),r=n(193),i=n(192);e.exports=function(){function e(e,t,n,o,s,a){a!==i&&r(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t};return n.checkPropTypes=o,n.PropTypes=n,n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],o=!0,r=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(o=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{!o&&a.return&&a.return()}finally{if(r)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();t.default=function(e){var t,n,h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{withRef:!1};return n=t=function(t){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.handleStart=function(e){var n=t.props,o=n.distance,r=n.shouldCancelStart;if(2===e.button||r(e))return!1;t._touched=!0,t._pos={x:e.pageX,y:e.pageY};var i=(0,p.closest)(e.target,function(e){return null!=e.sortableInfo});if(i&&i.sortableInfo&&t.nodeIsChild(i)&&!t.state.sorting){var s=t.props.useDragHandle,a=i.sortableInfo,l=a.index,c=a.collection;if(s&&!(0,p.closest)(e.target,function(e){return null!=e.sortableHandle}))return;t.manager.active={index:l,collection:c},"a"===e.target.tagName.toLowerCase()&&e.preventDefault(),o||(0===t.props.pressDelay?t.handlePress(e):t.pressTimer=setTimeout(function(){return t.handlePress(e)},t.props.pressDelay))}},t.nodeIsChild=function(e){return e.sortableInfo.manager===t.manager},t.handleMove=function(e){var n=t.props,o=n.distance,r=n.pressThreshold;if(!t.state.sorting&&t._touched){t._delta={x:t._pos.x-e.pageX,y:t._pos.y-e.pageY};var i=Math.abs(t._delta.x)+Math.abs(t._delta.y);o||r&&!(r&&i>=r)?o&&i>=o&&t.manager.isActive()&&t.handlePress(e):(clearTimeout(t.cancelTimer),t.cancelTimer=setTimeout(t.cancel,0))}},t.handleEnd=function(){var e=t.props.distance;t._touched=!1,e||t.cancel()},t.cancel=function(){t.state.sorting||(clearTimeout(t.pressTimer),t.manager.active=null)},t.handlePress=function(e){var n=t.manager.getActive();if(n){var o=t.props,r=o.axis,i=o.getHelperDimensions,s=o.helperClass,a=o.hideSortableGhost,l=o.onSortStart,c=o.useWindowAsScrollContainer,u=n.node,d=n.collection,h=u.sortableInfo.index,m=(0,p.getElementMargin)(u),g=t.container.getBoundingClientRect(),y=i({index:h,node:u,collection:d});t.node=u,t.margin=m,t.width=y.width,t.height=y.height,t.marginOffset={x:t.margin.left+t.margin.right,y:Math.max(t.margin.top,t.margin.bottom)},t.boundingClientRect=u.getBoundingClientRect(),t.containerBoundingRect=g,t.index=h,t.newIndex=h,t.axis={x:r.indexOf("x")>=0,y:r.indexOf("y")>=0},t.offsetEdge=t.getEdgeOffset(u),t.initialOffset=t.getOffset(e),t.initialScroll={top:t.scrollContainer.scrollTop,left:t.scrollContainer.scrollLeft},t.initialWindowScroll={top:window.pageYOffset,left:window.pageXOffset};var E,b=u.querySelectorAll("input, textarea, select"),_=u.cloneNode(!0),v=[].concat(f(_.querySelectorAll("input, textarea, select")));if(v.forEach(function(e,t){"file"!==e.type&&b[t]&&(e.value=b[t].value)}),t.helper=t.document.body.appendChild(_),t.helper.style.position="fixed",t.helper.style.top=t.boundingClientRect.top-m.top+"px",t.helper.style.left=t.boundingClientRect.left-m.left+"px",t.helper.style.width=t.width+"px",t.helper.style.height=t.height+"px",t.helper.style.boxSizing="border-box",t.helper.style.pointerEvents="none",a&&(t.sortableGhost=u,u.style.visibility="hidden",u.style.opacity=0),t.minTranslate={},t.maxTranslate={},t.axis.x&&(t.minTranslate.x=(c?0:g.left)-t.boundingClientRect.left-t.width/2,t.maxTranslate.x=(c?t.contentWindow.innerWidth:g.left+g.width)-t.boundingClientRect.left-t.width/2),t.axis.y&&(t.minTranslate.y=(c?0:g.top)-t.boundingClientRect.top-t.height/2,t.maxTranslate.y=(c?t.contentWindow.innerHeight:g.top+g.height)-t.boundingClientRect.top-t.height/2),s)(E=t.helper.classList).add.apply(E,f(s.split(" ")));t.listenerNode=e.touches?u:t.contentWindow,p.events.move.forEach(function(e){return t.listenerNode.addEventListener(e,t.handleSortMove,!1)}),p.events.end.forEach(function(e){return t.listenerNode.addEventListener(e,t.handleSortEnd,!1)}),t.setState({sorting:!0,sortingIndex:h}),l&&l({node:u,index:h,collection:d},e)}},t.handleSortMove=function(e){var n=t.props.onSortMove;e.preventDefault(),t.updatePosition(e),t.animateNodes(),t.autoscroll(),n&&n(e)},t.handleSortEnd=function(e){var n=t.props,o=n.hideSortableGhost,r=n.onSortEnd,i=t.manager.active.collection;t.listenerNode&&(p.events.move.forEach(function(e){return t.listenerNode.removeEventListener(e,t.handleSortMove)}),p.events.end.forEach(function(e){return t.listenerNode.removeEventListener(e,t.handleSortEnd)})),t.helper.parentNode.removeChild(t.helper),o&&t.sortableGhost&&(t.sortableGhost.style.visibility="",t.sortableGhost.style.opacity="");for(var s=t.manager.refs[i],a=0,l=s.length;a<l;a++){var c=s[a],u=c.node;c.edgeOffset=null,u.style[p.vendorPrefix+"Transform"]="",u.style[p.vendorPrefix+"TransitionDuration"]=""}clearInterval(t.autoscrollInterval),t.autoscrollInterval=null,t.manager.active=null,t.setState({sorting:!1,sortingIndex:null}),"function"==typeof r&&r({oldIndex:t.index,newIndex:t.newIndex,collection:i},e),t._touched=!1},t.autoscroll=function(){var e=t.translate,n={x:0,y:0},o={x:1,y:1},r={x:10,y:10};e.y>=t.maxTranslate.y-t.height/2?(n.y=1,o.y=r.y*Math.abs((t.maxTranslate.y-t.height/2-e.y)/t.height)):e.x>=t.maxTranslate.x-t.width/2?(n.x=1,o.x=r.x*Math.abs((t.maxTranslate.x-t.width/2-e.x)/t.width)):e.y<=t.minTranslate.y+t.height/2?(n.y=-1,o.y=r.y*Math.abs((e.y-t.height/2-t.minTranslate.y)/t.height)):e.x<=t.minTranslate.x+t.width/2&&(n.x=-1,o.x=r.x*Math.abs((e.x-t.width/2-t.minTranslate.x)/t.width)),t.autoscrollInterval&&(clearInterval(t.autoscrollInterval),t.autoscrollInterval=null,t.isAutoScrolling=!1),0===n.x&&0===n.y||(t.autoscrollInterval=setInterval(function(){t.isAutoScrolling=!0;var e={left:1*o.x*n.x,top:1*o.y*n.y};t.scrollContainer.scrollTop+=e.top,t.scrollContainer.scrollLeft+=e.left,t.translate.x+=e.left,t.translate.y+=e.top,t.animateNodes()},5))},t.manager=new d.default,t.events={start:t.handleStart,move:t.handleMove,end:t.handleEnd},(0,u.default)(!(e.distance&&e.pressDelay),"Attempted to set both `pressDelay` and `distance` on SortableContainer, you may only use one or the other, not both at the same time."),t.state={},t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),i(n,[{key:"getChildContext",value:function(){return{manager:this.manager}}},{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.getContainer,o=t.useWindowAsScrollContainer,r=this.props.contentWindow||window;this.container="function"==typeof n?n(this.getWrappedInstance()):(0,c.findDOMNode)(this),this.document=this.container.ownerDocument||document,this.scrollContainer=o?this.document.body:this.container,this.contentWindow="function"==typeof r?r():r;var i=function(t){e.events.hasOwnProperty(t)&&p.events[t].forEach(function(n){return e.container.addEventListener(n,e.events[t],!1)})};for(var s in this.events)i(s)}},{key:"componentWillUnmount",value:function(){var e=this,t=function(t){e.events.hasOwnProperty(t)&&p.events[t].forEach(function(n){return e.container.removeEventListener(n,e.events[t])})};for(var n in this.events)t(n)}},{key:"getEdgeOffset",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{top:0,left:0};if(e){var n={top:t.top+e.offsetTop,left:t.left+e.offsetLeft};return e.parentNode!==this.container?this.getEdgeOffset(e.parentNode,n):n}}},{key:"getOffset",value:function(e){return{x:e.touches?e.touches[0].pageX:e.pageX,y:e.touches?e.touches[0].pageY:e.pageY}}},{key:"getLockPixelOffsets",value:function(){var e=this.props.lockOffset;Array.isArray(e)||(e=[e,e]),(0,u.default)(2===e.length,"lockOffset prop of SortableContainer should be a single value or an array of exactly two values. Given %s",e);var t=e,n=r(t,2),o=n[0],i=n[1];return[this.getLockPixelOffset(o),this.getLockPixelOffset(i)]}},{key:"getLockPixelOffset",value:function(e){var t=e,n=e,o="px";if("string"==typeof e){var r=/^[+-]?\d*(?:\.\d*)?(px|%)$/.exec(e);(0,u.default)(null!==r,'lockOffset value should be a number or a string of a number followed by "px" or "%". Given %s',e),t=n=parseFloat(e),o=r[1]}return(0,u.default)(isFinite(t)&&isFinite(n),"lockOffset value should be a finite. Given %s",e),"%"===o&&(t=t*this.width/100,n=n*this.height/100),{x:t,y:n}}},{key:"updatePosition",value:function(e){var t=this.props,n=t.lockAxis,o=t.lockToContainerEdges,i=this.getOffset(e),s={x:i.x-this.initialOffset.x,y:i.y-this.initialOffset.y};if(s.y-=window.pageYOffset-this.initialWindowScroll.top,s.x-=window.pageXOffset-this.initialWindowScroll.left,this.translate=s,o){var a=this.getLockPixelOffsets(),l=r(a,2),c=l[0],u=l[1],d={x:this.width/2-c.x,y:this.height/2-c.y},h={x:this.width/2-u.x,y:this.height/2-u.y};s.x=(0,p.limit)(this.minTranslate.x+d.x,this.maxTranslate.x-h.x,s.x),s.y=(0,p.limit)(this.minTranslate.y+d.y,this.maxTranslate.y-h.y,s.y)}"x"===n?s.y=0:"y"===n&&(s.x=0),this.helper.style[p.vendorPrefix+"Transform"]="translate3d("+s.x+"px,"+s.y+"px, 0)"}},{key:"animateNodes",value:function(){var e=this.props,t=e.transitionDuration,n=e.hideSortableGhost,o=this.manager.getOrderedRefs(),r={left:this.scrollContainer.scrollLeft-this.initialScroll.left,top:this.scrollContainer.scrollTop-this.initialScroll.top},i={left:this.offsetEdge.left+this.translate.x+r.left,top:this.offsetEdge.top+this.translate.y+r.top},s={top:window.pageYOffset-this.initialWindowScroll.top,left:window.pageXOffset-this.initialWindowScroll.left};this.newIndex=null;for(var a=0,l=o.length;a<l;a++){var c=o[a].node,u=c.sortableInfo.index,d=c.offsetWidth,h=c.offsetHeight,f={width:this.width>d?d/2:this.width/2,height:this.height>h?h/2:this.height/2},m={x:0,y:0},g=o[a].edgeOffset;g||(o[a].edgeOffset=g=this.getEdgeOffset(c));var y=a<o.length-1&&o[a+1],E=a>0&&o[a-1];y&&!y.edgeOffset&&(y.edgeOffset=this.getEdgeOffset(y.node)),u!==this.index?(t&&(c.style[p.vendorPrefix+"TransitionDuration"]=t+"ms"),this.axis.x?this.axis.y?u<this.index&&(i.left+s.left-f.width<=g.left&&i.top+s.top<=g.top+f.height||i.top+s.top+f.height<=g.top)?(m.x=this.width+this.marginOffset.x,g.left+m.x>this.containerBoundingRect.width-f.width&&(m.x=y.edgeOffset.left-g.left,m.y=y.edgeOffset.top-g.top),null===this.newIndex&&(this.newIndex=u)):u>this.index&&(i.left+s.left+f.width>=g.left&&i.top+s.top+f.height>=g.top||i.top+s.top+f.height>=g.top+h)&&(m.x=-(this.width+this.marginOffset.x),g.left+m.x<this.containerBoundingRect.left+f.width&&(m.x=E.edgeOffset.left-g.left,m.y=E.edgeOffset.top-g.top),this.newIndex=u):u>this.index&&i.left+s.left+f.width>=g.left?(m.x=-(this.width+this.marginOffset.x),this.newIndex=u):u<this.index&&i.left+s.left<=g.left+f.width&&(m.x=this.width+this.marginOffset.x,null==this.newIndex&&(this.newIndex=u)):this.axis.y&&(u>this.index&&i.top+s.top+f.height>=g.top?(m.y=-(this.height+this.marginOffset.y),this.newIndex=u):u<this.index&&i.top+s.top<=g.top+f.height&&(m.y=this.height+this.marginOffset.y,null==this.newIndex&&(this.newIndex=u))),c.style[p.vendorPrefix+"Transform"]="translate3d("+m.x+"px,"+m.y+"px,0)"):n&&(this.sortableGhost=c,c.style.visibility="hidden",c.style.opacity=0)}null==this.newIndex&&(this.newIndex=this.index)}},{key:"getWrappedInstance",value:function(){return(0,u.default)(h.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableContainer() call"),this.refs.wrappedInstance}},{key:"render",value:function(){var t=h.withRef?"wrappedInstance":null;return a.default.createElement(e,o({ref:t},(0,p.omit)(this.props,"contentWindow","useWindowAsScrollContainer","distance","helperClass","hideSortableGhost","transitionDuration","useDragHandle","pressDelay","pressThreshold","shouldCancelStart","onSortStart","onSortMove","onSortEnd","axis","lockAxis","lockOffset","lockToContainerEdges","getContainer","getHelperDimensions")))}}]),n}(s.Component),t.displayName=(0,p.provideDisplayName)("sortableList",e),t.defaultProps={axis:"y",transitionDuration:300,pressDelay:0,pressThreshold:5,distance:0,useWindowAsScrollContainer:!1,hideSortableGhost:!0,shouldCancelStart:function(e){if(-1!==["input","textarea","select","option","button"].indexOf(e.target.tagName.toLowerCase()))return!0},lockToContainerEdges:!1,lockOffset:"50%",getHelperDimensions:function(e){var t=e.node;return{width:t.offsetWidth,height:t.offsetHeight}}},t.propTypes={axis:l.default.oneOf(["x","y","xy"]),distance:l.default.number,lockAxis:l.default.string,helperClass:l.default.string,transitionDuration:l.default.number,contentWindow:l.default.any,onSortStart:l.default.func,onSortMove:l.default.func,onSortEnd:l.default.func,shouldCancelStart:l.default.func,pressDelay:l.default.number,useDragHandle:l.default.bool,useWindowAsScrollContainer:l.default.bool,hideSortableGhost:l.default.bool,lockToContainerEdges:l.default.bool,lockOffset:l.default.oneOfType([l.default.number,l.default.string,l.default.arrayOf(l.default.oneOfType([l.default.number,l.default.string]))]),getContainer:l.default.func,getHelperDimensions:l.default.func},t.childContextTypes={manager:l.default.object.isRequired},n};var s=n(0),a=h(s),l=h(n(63)),c=n(36),u=h(n(45)),d=h(n(191)),p=n(34);function h(e){return e&&e.__esModule?e:{default:e}}function f(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}},function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),s=n(64),a=n(20),l=n(14),c=n(7),u=n(83),d=n(5),p=n(4),h=n(9),f=n(71);t.slidesWidthRegex=f.slidesWidthRegex;var m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.doubleClicked=!1,t}return r(t,e),t.prototype.getContent=function(){if(this.props.value.type===d.ElementTypeEnum.TEXT)return i.createElement("div",{className:"carousel-text-slide",dangerouslySetInnerHTML:{__html:this.props.value.cont}});var e=this.props.value.cont;return e=void 0!==this.props.value.sizes?void 0!==this.props.value.sizes._512?void 0!==this.props.value.sizes._512.url?this.props.value.sizes._512.url:this.props.value.sizes._512:void 0!==this.props.value.sizes.medium&&void 0!==this.props.value.sizes.medium.url?this.props.value.sizes.medium.url:this.props.value.cont:this.props.value.cont,e=p.getStaticURL(e),i.createElement("img",{draggable:!1,src:e,alt:""})},t.prototype.getOrientation=function(){return void 0!==this.props.value.orientation?this.props.value.orientation:null},t.prototype.getCaptionClassName=function(){return void 0!==this.props.value.caption&&""!==l.default.getTextOfActiveDefaultOrOtherLangFromEncodedString(this.props.value.caption)?" show-caption":""},t.prototype.handleClick=function(e){var t=this;e.stopPropagation(),setTimeout(function(){t.doubleClicked||t.props.selectSlide()},200)},t.prototype.handleDoubleClick=function(e){var t=this;e.stopPropagation(),e.preventDefault(),this.props.editSlide(),this.doubleClicked=!0,setTimeout(function(){t.doubleClicked=!1},200)},t.prototype.handleDoubleClickOnCaption=function(e){var t=this;e.stopPropagation(),e.preventDefault(),this.props.editCaptionOfSlide(),this.doubleClicked=!0,setTimeout(function(){t.doubleClicked=!1},200)},t.prototype.handleClickDelete=function(e){e.stopPropagation(),e.preventDefault(),this.props.deleteSlide()},t.prototype.render=function(){var e=this,t="lay-carousel-slide-parent";this.props.selected&&(t+=" selected");var n=void 0!==this.props.value.imagelink?i.createElement("span",{className:"lay-carousel-linked dashicons dashicons-admin-links"}):null,o=l.default.getTextOfActiveDefaultOrOtherLangFromEncodedString(this.props.value.caption);return i.createElement("div",{className:"lay-carousel-slide-dragcontainer",onDoubleClick:function(t){return e.handleDoubleClick(t)},onClick:function(t){return e.handleClick(t)}},i.createElement("div",{className:t,"data-type":this.props.value.type},i.createElement("div",{className:"laymodal-element-dropshadow"}),i.createElement("button",{className:"lay-custom-delete-button",onClick:function(t){return e.handleClickDelete(t)}},""),i.createElement("div",{className:"type-indicator-wrap"},i.createElement("div",{className:"type-indicator"}),n),i.createElement("div",{className:"lay-carousel-slide","data-orientation":this.props.value.orientation},this.getContent(),i.createElement("div",{className:"selected-frame"}),i.createElement("div",{className:"carousel-slide-caption"+this.getCaptionClassName(),dangerouslySetInnerHTML:{__html:o},onDoubleClick:function(t){return e.handleDoubleClickOnCaption(t)}}))))},t}(i.Component),g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){var e=this,t=[],n=function(n){var r=s.SortableElement(m);t.push(i.createElement(r,{key:"order-item-"+n,index:Number(n),value:o.props.items[Number(n)],selected:o.props.selectedSlide===Number(n),selectSlide:function(){return e.props.selectSlide(Number(n))},deleteSlide:function(){return e.props.deleteSlide(Number(n))},editSlide:function(){return e.props.editSlide(d.ElementAttributeTargetEnum.CONT,Number(n))},editCaptionOfSlide:function(){return e.props.editSlide(d.ElementAttributeTargetEnum.CAPTION,Number(n))}}))},o=this;for(var r in this.props.items)n(r);return i.createElement("div",{className:"lay-carousel-slides-wrap"},t)},t}(i.Component),y={random:!1,autoplay:!1,showMultipleSlides:!1,freeScroll:!1,size:d.CarouselOptionsSizeEnum.ASPECT_RATIO_OF_FIRST_ELEMENT,customAspectRatioW:null,customAspectRatioH:null,slidesWidth:null,transition:u.default.transition,loop:u.default.loop,spaceBetween:0},E=/^(\s*([1-9][0-9]*px)|(([1-9][0-9]*vh)(\s-\s[1-9][0-9]*px)?)|(^(auto))\s*)$/,b=function(e){function t(t){var n=e.call(this,t)||this;return null===t.cont?n.state={carousel:[],carousel_options:y,selectedSlide:null,editSlide:null}:(n.state=Object.assign({selectedSlide:null,editSlide:null},t.cont),void 0===n.state.carousel_options.transition&&(n.state.carousel_options.transition=a.default.carouselPassedData.transition),void 0===n.state.carousel_options.loop&&(n.state.carousel_options.loop=a.default.carouselPassedData.loop)),n}return r(t,e),t.prototype.componentDidMount=function(){h.default('[data-toggle="tooltip"]').tooltip()},t.prototype.handleAddElementModal=function(e){this.setState({selectedSlide:null}),this.props.setAdditionalModal({type:e,cont:null})},t.prototype.componentWillReceiveProps=function(e){if(p.checkNewAdditionalElements(e,this.props)){if(e.additionalElements[0]){var t=Object.assign([],this.state.carousel);if(null===this.state.editSlide){for(var n=e.additionalElements,o=0,r=n;o<r.length;o++){var i=r[o];i.type===d.ElementTypeEnum.POST_THUMBNAIL&&i.hasOwnProperty("title")&&(i.caption=i.title)}t=t.concat(n)}else e.additionalElements.length>0&&(Object.assign(t[this.state.editSlide],e.additionalElements[0]),null===t[this.state.editSlide].imagelink&&delete t[this.state.editSlide].imagelink);this.setState({carousel:t,editSlide:null})}this.props.clearAdditionalElement()}},t.prototype.handleEditElementModal=function(e,t){if(void 0===e&&(e=d.ElementAttributeTargetEnum.CONT),void 0===t&&(t=this.state.selectedSlide),null!==t&&this.state.carousel.length>t){var n=this.state.carousel[t].type;e!==d.ElementAttributeTargetEnum.CONT&&(n=d.ElementTypeEnum.TEXT),this.props.setAdditionalModal({type:n,cont:this.state.carousel[t],target:e}),this.setState({selectedSlide:null,editSlide:t})}},t.prototype.handleEditLinkModal=function(){null!==this.state.selectedSlide&&this.state.carousel.length>this.state.selectedSlide&&(this.props.setAdditionalModal({type:"linkCarouselElement",cont:this.state.carousel[this.state.selectedSlide]}),this.setState({selectedSlide:null,editSlide:this.state.selectedSlide}))},t.prototype.handleToggleUseAltButtons=function(){if(!(null===this.state.selectedSlide||this.state.carousel.length<=this.state.selectedSlide)){var e=Object.assign({},this.state.carousel[this.state.selectedSlide]);e.useAltButtons?delete e.useAltButtons:e.useAltButtons=!0;var t=Object.assign([],this.state.carousel);t[this.state.selectedSlide]=e,this.setState({carousel:t})}},t.prototype.handleChangeRandom=function(e){var t=Object.assign({},this.state.carousel_options,{random:Boolean(e.target.checked)});this.setState({carousel_options:t})},t.prototype.handleChangeLoop=function(e){var t=Object.assign({},this.state.carousel_options,{loop:Boolean(e.target.checked)});this.setState({carousel_options:t})},t.prototype.handleChangeAutoplay=function(e){var t=Object.assign({},this.state.carousel_options,{autoplay:Boolean(e.target.checked)});e.target.checked&&(t.disableClick=!1),this.setState({carousel_options:t})},t.prototype.handleChangeCenteredSlides=function(e){var t=Object.assign({},this.state.carousel_options,{centeredSlides:Boolean(e.target.checked)});this.setState({carousel_options:t})},t.prototype.handleChangeShowMultipleSlides=function(e){var t=Object.assign({},this.state.carousel_options,{showMultipleSlides:Boolean(e.target.checked)});!0===t.showMultipleSlides&&(t.fillSlides=!1),this.setState({carousel_options:t})},t.prototype.handleChangeTransition=function(e){var t=Object.assign({},this.state.carousel_options,{transition:String(e.target.value),slidesWidth:String(e.target.value)===d.CarouselOptionsTransitionEnum.SLIDE?"":null,freeScroll:String(e.target.value)===d.CarouselOptionsTransitionEnum.SLIDE&&null,showMultipleSlides:!1});this.setState({carousel_options:t})},t.prototype.handleChangeDisableClick=function(e){var t=Object.assign({},this.state.carousel_options,{disableClick:Boolean(e.target.checked)});e.target.checked&&(t.freeScroll=!1),this.setState({carousel_options:t})},t.prototype.handleChangeFillSlides=function(e){var t=Object.assign({},this.state.carousel_options,{fillSlides:Boolean(e.target.checked)});!0===t.fillSlides&&(t.showMultipleSlides=!1),this.setState({carousel_options:t})},t.prototype.handleChangeFreeScroll=function(e){var t=Object.assign({},this.state.carousel_options,{freeScroll:Boolean(e.target.checked)});e.target.checked&&(t.disableClick=!1),this.setState({carousel_options:t})},t.prototype.handleChangeSize=function(e){var t=Object.assign({},this.state.carousel_options,{size:String(e.target.value)});switch(t.size){case d.CarouselOptionsSizeEnum.ASPECT_RATIO_OF_FIRST_ELEMENT:t.customAspectRatioW=null,t.customAspectRatioH=null,t.fixedHeight=null,t.showMultipleSlides=!1;break;case d.CarouselOptionsSizeEnum.USE_CUSTOM_ASPECT_RATIO:t.customAspectRatioW=16,t.customAspectRatioH=9,t.fixedHeight=null;break;case d.CarouselOptionsSizeEnum.FIXED_HEIGHT:t.customAspectRatioW=null,t.customAspectRatioH=null}this.setState({carousel_options:t})},t.prototype.handleChangeSpaceBetween=function(e){var t=parseInt(e.target.value,10);null===t&&(t=0);var n=Object.assign({},this.state.carousel_options,{spaceBetween:t});this.setState({carousel_options:n})},t.prototype.handleChangeSlidesWidth=function(e){var t=String(e.target.value);"null"===t&&(t="");var n=Object.assign({},this.state.carousel_options,{slidesWidth:t});this.setState({carousel_options:n})},t.prototype.handleChangeFixedHeight=function(e){var t=Object.assign({},this.state.carousel_options,{fixedHeight:String(e.target.value)});"auto"===e.target.value&&(t.fillSlides=!1,t.showMultipleSlides=!1),this.setState({carousel_options:t})},t.prototype.handleChangeCustomAspectRatioW=function(e){var t=Object.assign({},this.state.carousel_options,{customAspectRatioW:Math.max(1,Number(e.target.value))});this.setState({carousel_options:t})},t.prototype.handleChangeCustomAspectRatioH=function(e){var t=Object.assign({},this.state.carousel_options,{customAspectRatioH:Math.max(1,Number(e.target.value))});this.setState({carousel_options:t})},t.prototype.handleClickClose=function(){this.props.closeModal()},t.prototype.handleClickOk=function(){var e={type:d.ElementTypeEnum.CAROUSEL,carousel_options:this.state.carousel_options,carousel:this.state.carousel};switch(e.carousel_options.size){case d.CarouselOptionsSizeEnum.ASPECT_RATIO_OF_FIRST_ELEMENT:delete e.carousel_options.fixedHeight,delete e.carousel_options.customAspectRatioH,delete e.carousel_options.customAspectRatioW;break;case d.CarouselOptionsSizeEnum.USE_CUSTOM_ASPECT_RATIO:delete e.carousel_options.fixedHeight;break;case d.CarouselOptionsSizeEnum.FIXED_HEIGHT:delete e.carousel_options.customAspectRatioH,delete e.carousel_options.customAspectRatioW}null===this.props.cont?this.props.setAddElements([e]):this.props.setElementContent(this.props.cont.relid,e)},t.prototype.onSortEnd=function(e,t){e.oldIndex!==e.newIndex&&this.setState({carousel:s.arrayMove(this.state.carousel,e.oldIndex,e.newIndex),selectedSlide:null})},t.prototype.selectSlide=function(e){e===this.state.selectedSlide?this.setState({selectedSlide:null}):this.setState({selectedSlide:e})},t.prototype.deleteSlide=function(e){var t=Object.assign([],this.state.carousel);t.splice(e,1),this.setState({carousel:t,selectedSlide:null})},t.prototype.render=function(){var e=this,t="Add Carousel";null!==this.props.cont&&(t="Edit Carousel");var n={};this.state.carousel_options.size===d.CarouselOptionsSizeEnum.USE_CUSTOM_ASPECT_RATIO?(n.width=this.state.carousel_options.customAspectRatioW/this.state.carousel_options.customAspectRatioH*22+"px",n.height="22px"):n.display="none";var o=!1,r=s.SortableContainer(g),l="carousel-fixed-height";this.state.carousel_options.size!==d.CarouselOptionsSizeEnum.FIXED_HEIGHT||E.test(this.state.carousel_options.fixedHeight)||(l+=" invalid",o=!0);var p="slides-width";this.state.carousel_options.transition===d.CarouselOptionsTransitionEnum.SLIDE&&null!==this.state.carousel_options.slidesWidth&&"null"!==this.state.carousel_options.slidesWidth&&!1===f.slidesWidthRegex.test(this.state.carousel_options.slidesWidth)&&void 0!==this.state.carousel_options.slidesWidth&&(p+=" invalid",o=!0),0===this.state.carousel.length&&(o=!0);var h="btn btn-default carousel-use-alt-prev-next-buttons";null!==this.state.selectedSlide&&u.default.showArrowButtons&&this.state.carousel.length>this.state.selectedSlide&&this.state.carousel[this.state.selectedSlide].useAltButtons&&(h+=" active");var m=!0,y="btn btn-default carousel-edit-link-btn";null===this.state.selectedSlide||this.state.carousel[this.state.selectedSlide].type!==d.ElementTypeEnum.IMAGE&&this.state.carousel[this.state.selectedSlide].type!==d.ElementTypeEnum.HTML5VIDEO||(m=!1,this.state.carousel[this.state.selectedSlide].imagelink&&(y+=" active"));var b=this.state.carousel_options.size===d.CarouselOptionsSizeEnum.ASPECT_RATIO_OF_FIRST_ELEMENT||this.state.carousel_options.transition!==d.CarouselOptionsTransitionEnum.SLIDE;"auto"===this.state.carousel_options.fixedHeight&&(b=!0);var _=a.default.innerHeight/100*90-241+173+67,v={width:"90%",left:"5%",top:(a.default.innerHeight-_)/2+"px",transform:"translate(0,0)"};return i.createElement("div",{style:v,className:"panel panel-default"},i.createElement("div",{className:"panel-heading"},i.createElement("h3",{className:"panel-title"},t),i.createElement("button",{type:"button",className:"close close-modal-btn",onClick:function(){return e.handleClickClose()}},i.createElement("span",{"aria-hidden":"true"},""),i.createElement("span",{className:"sr-only"},"Close"))),i.createElement("div",{className:"panel-body"},i.createElement("div",{className:"carousel-top-controls-wrap"},i.createElement("div",{className:"btn-group btn-group-sm",role:"group"},i.createElement("button",{type:"button",className:"btn btn-default carousel-add-images-btn",onClick:function(){return e.handleAddElementModal(d.ElementTypeEnum.IMAGE)}},i.createElement("span",{className:"lay-icon lay-icon-plus"})," Image"),i.createElement("button",{type:"button",className:"btn btn-default carousel-add-video-btn",onClick:function(){return e.handleAddElementModal(d.ElementTypeEnum.HTML5VIDEO)}},i.createElement("span",{className:"lay-icon lay-icon-plus"})," HTML5 Video"),i.createElement("button",{type:"button",className:"btn btn-default carousel-add-text-btn",onClick:function(){return e.handleAddElementModal(d.ElementTypeEnum.TEXT)}},i.createElement("span",{className:"lay-icon lay-icon-plus"})," Text"),i.createElement("button",{type:"button",className:"btn btn-default carousel-add-projects-btn",onClick:function(){return e.handleAddElementModal(d.ElementTypeEnum.POST_THUMBNAIL)}},i.createElement("span",{className:"lay-icon lay-icon-plus"})," ",c.default.postName," Thumbnail")),i.createElement("div",{className:"carousel-free-scroll",style:{display:this.state.carousel_options.transition===d.CarouselOptionsTransitionEnum.SLIDE?"inline-block":"none"}},i.createElement("input",{id:"carousel-free-scroll",type:"checkbox",disabled:this.state.carousel_options.transition!==d.CarouselOptionsTransitionEnum.SLIDE,checked:this.state.carousel_options.freeScroll&&this.state.carousel_options.transition===d.CarouselOptionsTransitionEnum.SLIDE,onChange:function(t){return e.handleChangeFreeScroll(t)}}),i.createElement("label",{htmlFor:"carousel-free-scroll"},"Free Drag")),i.createElement("div",{className:"carousel-autoplay"},i.createElement("input",{id:"carousel-autoplay",type:"checkbox",checked:this.state.carousel_options.autoplay,onChange:function(t){return e.handleChangeAutoplay(t)}}),i.createElement("label",{htmlFor:"carousel-autoplay"},"Autoplay")),i.createElement("div",{className:"carousel-loop"},i.createElement("input",{id:"carousel-loop",type:"checkbox",checked:this.state.carousel_options.loop,onChange:function(t){return e.handleChangeLoop(t)}}),i.createElement("label",{htmlFor:"carousel-loop"},"Loop")),i.createElement("div",{className:"carousel-disable-click",style:{display:!0===this.state.carousel_options.autoplay?"inline-block":"none"}},i.createElement("input",{id:"carousel-disable-click",type:"checkbox",checked:this.state.carousel_options.disableClick,onChange:function(t){return e.handleChangeDisableClick(t)}}),i.createElement("label",{htmlFor:"carousel-disable-click"},"Disable Click/Drag")),i.createElement("div",{className:"carousel-random-order"},i.createElement("input",{id:"carousel-random-order",type:"checkbox",checked:this.state.carousel_options.random,onChange:function(t){return e.handleChangeRandom(t)}}),i.createElement("label",{htmlFor:"carousel-random-order"},"Random Order")),i.createElement("div",{className:"carousel-fade-or-slide"},i.createElement("span",null,"Transition:"),i.createElement("input",{name:"carousel-fade-or-slide",id:"carousel-slide",value:d.CarouselOptionsTransitionEnum.SLIDE,onChange:function(t){return e.handleChangeTransition(t)},checked:void 0===this.state.carousel_options.transition?a.default.carouselPassedData.transition===d.CarouselOptionsTransitionEnum.SLIDE:this.state.carousel_options.transition===d.CarouselOptionsTransitionEnum.SLIDE,type:"radio"}),i.createElement("label",{htmlFor:"carousel-slide"},"Slide"),i.createElement("input",{name:"carousel-fade-or-slide",id:"carousel-fade",value:d.CarouselOptionsTransitionEnum.FADE,onChange:function(t){return e.handleChangeTransition(t)},checked:void 0===this.state.carousel_options.transition?a.default.carouselPassedData.transition===d.CarouselOptionsTransitionEnum.FADE:this.state.carousel_options.transition===d.CarouselOptionsTransitionEnum.FADE,type:"radio"}),i.createElement("label",{htmlFor:"carousel-fade"},"Fade"),i.createElement("input",{name:"carousel-fade-or-slide",id:"carousel-none",value:d.CarouselOptionsTransitionEnum.NONE,onChange:function(t){return e.handleChangeTransition(t)},checked:void 0===this.state.carousel_options.transition?a.default.carouselPassedData.transition===d.CarouselOptionsTransitionEnum.NONE:this.state.carousel_options.transition===d.CarouselOptionsTransitionEnum.NONE,type:"radio"}),i.createElement("label",{htmlFor:"carousel-none"},"None"))),i.createElement("div",{className:"carousel-top-controls-wrap"},i.createElement("span",{className:"indicator"},"Carousel Size:"),i.createElement("div",{className:"carousel-size",id:"carousel-size"},i.createElement("input",{type:"radio",id:"carousel-arf",name:"carousel-size",value:d.CarouselOptionsSizeEnum.ASPECT_RATIO_OF_FIRST_ELEMENT,onChange:function(t){return e.handleChangeSize(t)},checked:this.state.carousel_options.size===d.CarouselOptionsSizeEnum.ASPECT_RATIO_OF_FIRST_ELEMENT}),i.createElement("label",{htmlFor:"carousel-arf"},"Aspect Ratio of first Element"),i.createElement("input",{type:"radio",id:"carousel-fh",name:"carousel-size",value:d.CarouselOptionsSizeEnum.FIXED_HEIGHT,onChange:function(t){return e.handleChangeSize(t)},checked:this.state.carousel_options.size===d.CarouselOptionsSizeEnum.FIXED_HEIGHT}),i.createElement("label",{htmlFor:"carousel-fh"},"Fixed Height")," ",i.createElement("input",{disabled:this.state.carousel_options.size!==d.CarouselOptionsSizeEnum.FIXED_HEIGHT,type:"text",className:l,value:null===this.state.carousel_options.fixedHeight?"":this.state.carousel_options.fixedHeight,onChange:function(t){return e.handleChangeFixedHeight(t)}}),i.createElement("span",{className:"fixed-size-tooltip laycarousel-tooltip","data-toggle":"tooltip","data-placement":"bottom","data-html":"true",title:'Examples for valid values:<br>"200px", "100vh", "100vh - 50px", "auto"'},i.createElement("span",{className:"dashicons dashicons-editor-help"})),i.createElement("input",{type:"radio",id:"carousel-car",name:"carousel-size",value:d.CarouselOptionsSizeEnum.USE_CUSTOM_ASPECT_RATIO,onChange:function(t){return e.handleChangeSize(t)},checked:this.state.carousel_options.size===d.CarouselOptionsSizeEnum.USE_CUSTOM_ASPECT_RATIO}),i.createElement("label",{htmlFor:"carousel-car"},"Use Custom Aspect Ratio")," ",i.createElement("input",{disabled:this.state.carousel_options.size!==d.CarouselOptionsSizeEnum.USE_CUSTOM_ASPECT_RATIO,type:"number",min:"1",className:"carousel-ar-w",value:null===this.state.carousel_options.customAspectRatioW?"":this.state.carousel_options.customAspectRatioW,onChange:function(t){return e.handleChangeCustomAspectRatioW(t)}})," : ",i.createElement("input",{disabled:this.state.carousel_options.size!==d.CarouselOptionsSizeEnum.USE_CUSTOM_ASPECT_RATIO,type:"number",min:"1",className:"carousel-ar-h",value:null===this.state.carousel_options.customAspectRatioH?"":this.state.carousel_options.customAspectRatioH,onChange:function(t){return e.handleChangeCustomAspectRatioH(t)}}),i.createElement("div",{className:"carousel-aspect-ratio-icon",style:n}))),i.createElement("div",{className:"carousel-top-controls-wrap"},i.createElement("span",{className:"indicator"},"Slides Settings:"),i.createElement("div",{className:"btn-group btn-group-sm",role:"group"},i.createElement("button",{type:"button",className:"btn btn-default carousel-edit-slide-btn",onClick:function(){return e.handleEditElementModal()},disabled:null===this.state.selectedSlide},"Edit"),i.createElement("button",{type:"button",className:"btn btn-default carousel-edit-caption-btn",onClick:function(){return e.handleEditElementModal(d.ElementAttributeTargetEnum.CAPTION)},disabled:null===this.state.selectedSlide},"Edit Caption"),u.default.showArrowButtons&&i.createElement("button",{type:"button",className:h,onClick:function(){return e.handleToggleUseAltButtons()},disabled:null===this.state.selectedSlide},i.createElement("span",{className:"dashicons dashicons-yes"}),"Use Alt Prev/Next Buttons"),i.createElement("button",{type:"button",className:y,onClick:function(){return e.handleEditLinkModal()},disabled:m},"Edit Link")),i.createElement("div",{className:"carousel-fill-slides",style:{display:this.state.carousel_options.showMultipleSlides&&"sliding"===this.state.carousel_options.transition?"none":"inline-block"}},i.createElement("input",{id:"carousel-fill-slides",type:"checkbox",disabled:"auto"===this.state.carousel_options.fixedHeight,checked:this.state.carousel_options.fillSlides,onChange:function(t){return e.handleChangeFillSlides(t)}}),i.createElement("label",{htmlFor:"carousel-fill-slides"},"Fill Slides")),i.createElement("div",{className:"carousel-show-multiple-slides",style:{display:"sliding"===this.state.carousel_options.transition?"inline-block":"none"}},i.createElement("input",{id:"carousel-show-multiple-slides",type:"checkbox",disabled:b,checked:this.state.carousel_options.size!==d.CarouselOptionsSizeEnum.ASPECT_RATIO_OF_FIRST_ELEMENT&&this.state.carousel_options.showMultipleSlides&&this.state.carousel_options.transition===d.CarouselOptionsTransitionEnum.SLIDE,onChange:function(t){return e.handleChangeShowMultipleSlides(t)}}),i.createElement("label",{htmlFor:"carousel-show-multiple-slides"},"Show Multiple Slides")),i.createElement("div",{className:"carousel-centered-slides",style:{display:"sliding"===this.state.carousel_options.transition&&this.state.carousel_options.size!==d.CarouselOptionsSizeEnum.ASPECT_RATIO_OF_FIRST_ELEMENT?"inline-block":"none"}},i.createElement("input",{id:"carousel-centered-slides",type:"checkbox",checked:this.state.carousel_options.size!==d.CarouselOptionsSizeEnum.ASPECT_RATIO_OF_FIRST_ELEMENT&&this.state.carousel_options.centeredSlides&&this.state.carousel_options.transition===d.CarouselOptionsTransitionEnum.SLIDE,onChange:function(t){return e.handleChangeCenteredSlides(t)}}),i.createElement("label",{htmlFor:"carousel-centered-slides"},"Centered Slides")),i.createElement("div",{style:{display:"sliding"===this.state.carousel_options.transition?"inline-block":"none"},className:"slides-width",id:"slides-width"},i.createElement("label",{htmlFor:"carousel-slides-width"},"Slides Width")," ",i.createElement("input",{id:"carousel-slides-width",type:"text",className:p,placeholder:"auto",value:null===this.state.carousel_options.slidesWidth||"null"===this.state.carousel_options.slidesWidth?"":this.state.carousel_options.slidesWidth,onChange:function(t){return e.handleChangeSlidesWidth(t)}}),i.createElement("span",{className:"slides-width-tooltip laycarousel-tooltip","data-toggle":"tooltip","data-placement":"bottom","data-html":"true",title:'Examples for valid values:<br>"200px", "100%", "100% - 50px"'},i.createElement("span",{className:"dashicons dashicons-editor-help"}))),i.createElement("div",{className:"carousel-slides-spacebetween",style:{display:"sliding"===this.state.carousel_options.transition&&this.state.carousel_options.size!==d.CarouselOptionsSizeEnum.ASPECT_RATIO_OF_FIRST_ELEMENT?"inline-block":"none"}},i.createElement("label",{htmlFor:"carousel-slides-spacebetween"},"Space Between Slides")," ",i.createElement("input",{min:"0",step:"1",type:"number",id:"carousel-slides-spacebetween",className:"carousel-slides-spacebetween-input",placeholder:"0",value:null===this.state.carousel_options.spaceBetween||"null"===this.state.carousel_options.spaceBetween?0:this.state.carousel_options.spaceBetween,onChange:function(t){return e.handleChangeSpaceBetween(t)}})," ",i.createElement("span",null,"px"))),i.createElement("div",{id:"carousel-content-region"},i.createElement(r,{items:this.state.carousel,onSortEnd:this.onSortEnd.bind(this),axis:"xy",distance:15,selectedSlide:this.state.selectedSlide,selectSlide:this.selectSlide.bind(this),deleteSlide:this.deleteSlide.bind(this),editSlide:this.handleEditElementModal.bind(this)}))),i.createElement("div",{className:"panel-footer clearfix"},i.createElement("button",{type:"button",className:"btn btn-default btn-lg add-project-btn",disabled:o,onClick:function(){return e.handleClickOk()}},"Ok")))},t}(i.Component);t.default=b},function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),s=n(1),a=n(7),l=n(4),c=n(6),u=n(9),d=n(5),p=n(14),h=null,f=function(e){function t(t){var n=e.call(this,t)||this;return n.onKeyDownBind=function(e){return n.onKeyDown(e)},n.onKeyUpBind=function(e){return n.onKeyUp(e)},n.shiftKeyPressed=!1,n.ctrlKeyPressed=!1,n.lastSelectedPostId=-1,null===t.cont?n.state={selectedPostIds:[],posts:null===h?[]:h}:n.state={posts:null===h?[]:h,selectedPostIds:[Number(t.cont.postid)]},n}return r(t,e),t.prototype.componentDidMount=function(){var e=this;null===h&&u.default.ajax({url:c.default.ajaxUrl,data:{action:"get_post_thumbnail_json",screenId:c.default.screenId,id:c.default.id},type:"GET",dataType:"json",success:function(t){h=t,e.setState({posts:t})}}),window.addEventListener("keydown",this.onKeyDownBind),window.addEventListener("keyup",this.onKeyUpBind)},t.prototype.componentWillUnmount=function(){window.removeEventListener("keydown",this.onKeyDownBind),window.removeEventListener("keyup",this.onKeyUpBind)},t.prototype.onKeyDown=function(e){switch(e.keyCode){case 16:this.shiftKeyPressed=!0;case 17:case 224:case 91:this.ctrlKeyPressed=!0}},t.prototype.onKeyUp=function(e){switch(e.keyCode){case 16:this.shiftKeyPressed=!1;case 17:case 224:case 91:this.ctrlKeyPressed=!1}},t.prototype.handleClickOk=function(){for(var e=[],t=0,n=this.state.selectedPostIds;t<n.length;t++){var o=n[t],r=this.getPostForState(o);!1!==r&&e.push(r)}null===this.props.cont?this.props.setAddElements(e):this.props.setElementContent(this.props.cont.relid,e[0])},t.prototype.getPostForState=function(e){for(var t=null,n=0,o=this.state.posts;n<o.length;n++){var r=o[n];if(r.postid===e){t=r;break}}if(null===t)return!1;var i=l.getRelativeSizes(t.sizes),s="";return""!==t.mo_sizes&&(s=l.getRelativeSizes(t.mo_sizes)),{type:d.ElementTypeEnum.POST_THUMBNAIL,title:t.title,postid:Number(t.postid),descr:t.descr,link:l.getRelativeURL(t.link),attid:Number(t.attid),ar:t.ar,cont:l.getContImageURL(i),sizes:i,mo_sizes:s,mo_h:t.mo_h,mo_w:t.mo_w,video_url:l.getRelativeURL(t.video_url),video_w:Number(t.video_w),video_h:Number(t.video_h)}},t.prototype.handleClickClose=function(){this.props.closeModal()},t.prototype.handleClickThumbnail=function(e){var t=Object.assign([],this.state.selectedPostIds),n=t.indexOf(e);if(0===this.state.selectedPostIds.length||!1===this.ctrlKeyPressed&&!1===this.shiftKeyPressed&&-1===n)this.lastSelectedPostId=e,t=[e];else if(-1!==n&&!1===this.shiftKeyPressed)t.splice(n,1),this.setLastSelectedPostIdNearby(e);else if(this.shiftKeyPressed&&-1!==this.lastSelectedPostId){for(var o=!1,r=0,i=this.state.posts;r<i.length;r++){var s=i[r];if(o){if(-1===t.indexOf(Number(s.postid))&&t.push(Number(s.postid)),Number(s.postid)===this.lastSelectedPostId||Number(s.postid)===e)break}else if((Number(s.postid)===this.lastSelectedPostId||Number(s.postid)===e)&&(o=!0,-1===t.indexOf(Number(s.postid))&&t.push(Number(s.postid)),this.lastSelectedPostId===e))break}this.lastSelectedPostId=e}else this.ctrlKeyPressed&&-1===n&&(this.lastSelectedPostId=e,t.push(e));this.setState({selectedPostIds:t})},t.prototype.setLastSelectedPostIdNearby=function(e){var t=-1;for(var n in this.state.posts)if(this.state.posts[n].postid===e){t=Number(n);break}if(-1!==t){for(n=t+1;n<this.state.posts.length;n++)if(-1!==this.state.selectedPostIds.indexOf(Number(this.state.posts[n].postid)))return void(this.lastSelectedPostId=this.state.posts[n].postid);for(n=t-1;n>=0;n--)if(-1!==this.state.selectedPostIds.indexOf(Number(this.state.posts[n].postid)))return void(this.lastSelectedPostId=this.state.posts[n].postid);this.lastSelectedPostId=-1}else this.lastSelectedPostId=-1},t.prototype.render=function(){var e=this,t="Add "+a.default.postName+" Thumbnail";null!==this.props.cont&&(t="Edit "+a.default.postName+" Thumbnail");for(var n=[],o=[],r=0,s=this.props.jsonFieldCont;r<s.length;r++){var c=s[r];c.type===d.ElementTypeEnum.POST_THUMBNAIL&&-1===n.indexOf(c.postid)&&n.push(c.postid)}for(var u=function(t){var r="col-sm-2 col-md-2";-1!==n.indexOf(t.postid)&&(r+=" already-inserted");var s="thumbnail";-1!==f.state.selectedPostIds.indexOf(Number(t.postid))&&(s+=" selected");var a=void 0,c="center";c+=t.sizes.full.width>t.sizes.full.height?" landscape":" portrait";var u=t.cats.length>0?"Category: "+t.cats[0].name:"";a=t.sizes.hasOwnProperty("_265")?t.sizes._265.url:t.sizes.full.url,o.push(i.createElement("div",{className:r},i.createElement("div",{className:s,onClick:function(){return e.handleClickThumbnail(Number(t.postid))}},i.createElement("div",{className:c},i.createElement("img",{src:l.getStaticURL(a)}))),i.createElement("div",{className:"caption"},"Title: ",i.createElement("span",{dangerouslySetInnerHTML:{__html:p.default.getTextOfActiveDefaultOrOtherLangFromEncodedString(t.title)}}),i.createElement("br",null),u)))},f=this,m=0,g=this.state.posts;m<g.length;m++){u(g[m])}return null!==h&&0===h.length&&o.push(i.createElement("div",null,"No ",a.default.postName," Thumbnails available to insert!")),i.createElement("div",{className:"panel panel-default"},i.createElement("div",{className:"panel-heading"},i.createElement("h3",{className:"panel-title"},t),i.createElement("button",{type:"button",className:"close close-modal-btn",onClick:function(){return e.handleClickClose()}},i.createElement("span",{"aria-hidden":"true"},""),i.createElement("span",{className:"sr-only"},"Close"))),i.createElement("div",{className:"panel-body"},i.createElement("div",{className:"container-fluid"},o)),i.createElement("div",{className:"panel-footer clearfix"},i.createElement("button",{type:"button",className:"btn btn-default btn-lg add-project-btn",disabled:0===this.state.selectedPostIds.length,onClick:function(){return e.handleClickOk()}},"Ok")))},t}(i.Component);t.default=s.connect(function(e,t){return{jsonFieldCont:e.json_field.cont}})(f)},function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),s=n(1),a=n(3),l=n(2),c=n(9),u=n(14),d=n(6),p=n(5),h=n(4),f=n(7),m=function(e){function t(t){var n=e.call(this,t)||this,o={imagelink:{url:"",id:null,type:"",newtab:!1,catid:null,title:null,hoverimageid:null,hoverimagesmallsrc:""},posts:[],search:""};return null!==t.cont&&(t.cont.hasOwnProperty("imagelink")&&""!==t.cont.imagelink&&null!==t.cont.imagelink?o.imagelink=t.cont.imagelink:!t.cont.hasOwnProperty("relid")&&t.cont.hasOwnProperty("link")&&(o.imagelink=t.cont.link),o.imagelink.url=h.getStaticURL(o.imagelink.url),t.cont.hasOwnProperty("hoverimageid")&&(o.imagelink.hoverimageid=t.cont.hoverimageid),t.cont.hasOwnProperty("hoverimagesmallsrc")&&(o.imagelink.hoverimagesmallsrc=t.cont.hoverimagesmallsrc)),n.state=o,n}return r(t,e),t.prototype.componentDidMount=function(){this.loadPostsList()},t.prototype.loadPostsList=function(){var e,t=this;e={action:"get_posts_for_laylinkmodal_json"};c.default.ajax({url:d.default.ajaxUrl,data:e,type:"post",dataType:"json",success:function(e){t.setState({posts:e})}})},t.prototype.handleClickSave=function(){var e=this.state.imagelink.url,t=!0;null!==e&&e.startsWith("mailto:")&&(e=e,t=!1),null!==e&&e.startsWith("tel:")&&(e=e,t=!1),null!==e&&e.startsWith("#")&&(e=e,t=!1),null===e||e.startsWith("http")||!0!==t?!0===t&&(e=h.getRelativeURL(this.state.imagelink.url)):e="http://"+e;var n={imagelink:{url:e,id:this.state.imagelink.id,type:this.state.imagelink.type,newtab:this.state.imagelink.newtab}};n.imagelink.title=this.state.imagelink.title,"project"===this.state.imagelink.type&&(n.imagelink.catid=JSON.parse(this.state.imagelink.catid)),n.imagelink.hoverimageid=this.state.imagelink.hoverimageid,n.imagelink.hoverimagesmallsrc=this.state.imagelink.hoverimagesmallsrc,null===this.props.cont||"linkCarouselElement"===this.props.type?this.props.setElementContent(0,n):this.props.cont.hasOwnProperty("relid")?this.props.setElementContent(this.props.cont.relid,n):this.props.setRowAttrs(this.props.cont.row,{link:n.imagelink})},t.prototype.handleClickRemove=function(){if(this.props.cont.hasOwnProperty("relid")){var e={imagelink:null};this.props.setElementContent(this.props.cont.relid,e)}else if("linkCarouselElement"===this.props.type){e={imagelink:null};this.props.setElementContent(0,e)}else this.props.setRowAttrs(this.props.cont.row,{link:null})},t.prototype.handleClickClose=function(){this.props.closeModal()},t.prototype.handleClickPost=function(e){this.setState({imagelink:{url:e.url,id:e.id,type:e.type,newtab:this.state.imagelink.newtab,catid:e.catid,title:e.title,hoverimageid:this.state.imagelink.hoverimageid,hoverimagesmallsrc:this.state.imagelink.hoverimagesmallsrc}})},t.prototype.handleClickRemoveHoverImage=function(e){e.stopPropagation(),e.preventDefault(),this.setState({imagelink:{url:this.state.imagelink.url,id:this.state.imagelink.id,type:this.state.imagelink.type,newtab:this.state.imagelink.newtab,catid:this.state.imagelink.catid,title:this.state.imagelink.title,hoverimageid:null,hoverimagesmallsrc:null}})},t.prototype.handleClickNewtab=function(){this.setState({imagelink:{url:this.state.imagelink.url,id:this.state.imagelink.id,type:this.state.imagelink.type,newtab:!this.state.imagelink.newtab,catid:this.state.imagelink.catid,title:this.state.imagelink.title,hoverimageid:this.state.imagelink.hoverimageid,hoverimagesmallsrc:this.state.imagelink.hoverimagesmallsrc}})},t.prototype.handleChangeUrl=function(e){this.setState({imagelink:{url:e.target.value,id:null,type:"",newtab:this.state.imagelink.newtab,catid:null,title:"",hoverimageid:null,hoverimagesmallsrc:""}})},t.prototype.handleAddElementModal=function(e){this.props.setAdditionalModal({type:e,cont:null})},t.prototype.componentWillReceiveProps=function(e){if(h.checkNewAdditionalElements(e,this.props)){if(e.additionalElements[0]){console.log(e.additionalElements[0]);var t=Object.assign([],this.state.imagelink);t.hoverimageid=e.additionalElements[0].attid,t.hoverimagesmallsrc=void 0!==e.additionalElements[0].sizes._265?e.additionalElements[0].sizes._265:e.additionalElements[0].cont,console.log(t.hoverimagesmallsrc),this.setState({imagelink:t})}this.props.clearAdditionalElement()}},t.prototype.handleChangeSearch=function(e){this.setState({search:e.target.value})},t.prototype.getPosts=function(){for(var e=this,t=[],n=0,o=function(o){var s=o.title;if(s=u.default.getTextOfActiveDefaultOrOtherLangFromEncodedString(s),""!==r.state.search&&!s.toLowerCase().startsWith(r.state.search.toLowerCase()))return"continue";var a="";n%2==0&&(a+="alternate"),r.state.imagelink.id===o.id&&r.state.imagelink.type===o.type&&(a+=" selected");var l=void 0;l="category"===o.type?"category":o.type+" "+o.date;var c=i.createElement("li",{className:a,onClick:function(){return e.handleClickPost(o)}},i.createElement("input",{type:"hidden",className:"item-permalink",value:o.url}),i.createElement("input",{type:"hidden",className:"item-id",value:o.id}),i.createElement("input",{type:"hidden",className:"item-type",value:o.type}),o.hasOwnProperty("catid")&&""!==o.catid&&i.createElement("input",{type:"hidden",className:"item-catid",value:o.catid}),i.createElement("span",{className:"item-title"},s),i.createElement("span",{className:"item-info"},l));t.push(c),n++},r=this,s=0,a=this.state.posts;s<a.length;s++){o(a[s])}return t},t.prototype.render=function(){var e=this,t="Edit Image Link",n={};switch(this.props.type){case"linkRowBg":this.props.cont.link?t="Edit Row Background Link":(n.display="none",t="Set Row Background Link");break;case"linkCarouselElement":this.props.cont.imagelink?t="Edit Carousel Element Link":(n.display="none",t="Set Carousel Element Link");break;case"linkImage":this.props.cont&&this.props.cont.hasOwnProperty("imagelink")&&""!==this.props.cont.imagelink||(n.display="none",t="Set Image Link");break;case"linkText":n.display="none",t=null===this.props.cont?"Edit Link":"Set Link"}var o,r=null;return null!==this.state.imagelink.hoverimagesmallsrc&&""!==this.state.imagelink.hoverimagesmallsrc&&(r=i.createElement("div",{className:"lay-imagehover-preview-wrap"},i.createElement("button",{className:"lay-custom-delete-button",onClick:function(t){return e.handleClickRemoveHoverImage(t)}},""),i.createElement("img",{className:"lay-imagehover-preview",src:this.state.imagelink.hoverimagesmallsrc,alt:""}))),o=i.createElement("div",{style:{display:!0!==d.default.plugins.imageHover||"text"!==this.props.getPrimaryModal()&&"linkRowBg"!==this.props.getPrimaryModal()?"none":"block"},className:"lay-imagehover-media-button-wrap"},i.createElement("button",{type:"button",className:"btn btn-default linkmodal-set-hoverimage-btn",onClick:function(){return e.handleAddElementModal(p.ElementTypeEnum.IMAGE)}},"Set Hover Image"),r),i.createElement("div",{className:"panel panel-default"},i.createElement("div",{className:"panel-heading"},i.createElement("h3",{className:"panel-title"},t),i.createElement("button",{type:"button",className:"close close-modal-btn",onClick:function(){return e.handleClickClose()}},i.createElement("span",{"aria-hidden":"true"},""),i.createElement("span",{className:"sr-only"},"Close"))),i.createElement("div",{className:"panel-body"},i.createElement("input",{type:"text",className:"form-control input-lg",placeholder:f.default.website,value:this.state.imagelink.url,onChange:function(t){return e.handleChangeUrl(t)}}),i.createElement("div",{className:"link-image-checkbox-wrap"},i.createElement("input",{type:"checkbox",id:"new-tab",checked:this.state.imagelink.newtab,onClick:function(){return e.handleClickNewtab()}}),i.createElement("label",{htmlFor:"new-tab"},"Open link in a new tab")),o,i.createElement("input",{type:"search",name:"lay-imagelink-search-input",id:"lay-imagelink-search-input",placeholder:"Search",value:this.state.search,onChange:function(t){return e.handleChangeSearch(t)}}),i.createElement("div",{className:"lay-imagelink-postlist-wrap"},i.createElement("div",{id:"wp-link"},i.createElement("ul",null,this.getPosts())))),i.createElement("div",{className:"panel-footer clearfix"},i.createElement("button",{type:"button",className:"btn btn-default btn-lg remove-link-btn",style:n,onClick:function(){return e.handleClickRemove()}},"Remove Link"),i.createElement("button",{type:"button",className:"btn btn-default btn-lg edit-link-btn",disabled:""===this.state.imagelink.url.trim(),onClick:function(){return e.handleClickSave()}},"Save")))},t}(i.Component);t.default=s.connect(function(e,t){return{}},function(e){return{setRowAttrs:a.bindActionCreators(l.setRowAttrsAction,e)}})(m)},function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),s=n(1),a=n(3),l=n(2),c=n(65),u=n(9),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.handleClickDelete=function(){this.props.deletePhoneLayout()},t.prototype.handleClickClose=function(){this.props.closeModal()},t.prototype.render=function(){var e=this;return i.createElement("div",{className:"panel panel-default"},i.createElement("button",{type:"button",className:"close close-modal-btn",onClick:function(){return e.handleClickClose()}},i.createElement("span",{"aria-hidden":"true"},""),i.createElement("span",{className:"sr-only"},"Close")),i.createElement("div",{className:"panel-body"},i.createElement("p",{className:"lead text-left"},"Delete custom phone layout?"),i.createElement("div",{className:"text-right"},i.createElement("span",{className:"cdpl-tooltip","data-toggle":"tooltip","data-placement":"left",title:"Without a custom phone layout, the layout on phones will be the standard stacked layout."},i.createElement("button",{type:"button",className:"btn btn-default",onClick:function(){return e.handleClickDelete()}},"Delete")),i.createElement("button",{type:"button",className:"btn btn-default",onClick:function(){return e.handleClickClose()}},"Cancel"))))},t.prototype.componentDidMount=function(){u.default('[data-toggle="tooltip"]').tooltip()},t}(i.Component);t.default=s.connect(function(e,t){return{}},function(e){return{deletePhoneLayout:a.bindActionCreators(c.deletePhoneLayout,e),closeModal:a.bindActionCreators(l.closeModalAction,e)}})(d)},function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),s=n(1),a=n(3),l=n(2),c=n(65),u=n(9),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.handleClickEmpty=function(){this.props.createEmptyPhoneLayout()},t.prototype.handleClickStacked=function(){this.props.createStackedPhoneLayout()},t.prototype.handleClickCopied=function(){this.props.createCopiedPhoneLayout()},t.prototype.handleClickClose=function(){this.props.closeModal()},t.prototype.render=function(){var e,t=this;return e='The Gridder Defaults used can be set in: <br />"Lay Options" &rarr; "Gridder Defaults" &rarr; "Phone Gridder Defaults".',i.createElement("div",{className:"panel panel-default"},i.createElement("button",{type:"button",className:"close close-modal-btn",onClick:function(){return t.handleClickClose()}},i.createElement("span",{"aria-hidden":"true"},""),i.createElement("span",{className:"sr-only"},"Close")),i.createElement("div",{className:"panel-body"},i.createElement("p",{className:"lead text-center"},"Creating custom phone layout for the first time.",i.createElement("br",null),"How do you want to start with your phone layout?"),i.createElement("span",{className:"create-phone-layout-tooltip","data-toggle":"tooltip","data-placement":"top",title:"Row attributes like row backgrounds and empty rows will be omitted."},i.createElement("button",{type:"button",className:"btn btn-default js-cpl-stack",onClick:function(){return t.handleClickStacked()}},"Stack elements on top of each other")),i.createElement("button",{type:"button",className:"btn btn-default js-cpl-copy",onClick:function(){return t.handleClickCopied()}},"Copy same layout"),i.createElement("button",{type:"button",className:"btn btn-default js-cpl-empty",onClick:function(){return t.handleClickEmpty()}},"Start with empty layout"),i.createElement("p",{className:"text-center create-phone-layout-descr",style:{color:"lightgray"},dangerouslySetInnerHTML:{__html:e}})))},t.prototype.componentDidMount=function(){u.default('[data-toggle="tooltip"]').tooltip()},t}(i.Component);t.default=s.connect(function(e,t){return{}},function(e){return{createStackedPhoneLayout:a.bindActionCreators(c.createStackedPhoneLayout,e),createEmptyPhoneLayout:a.bindActionCreators(c.createEmptyPhoneLayout,e),createCopiedPhoneLayout:a.bindActionCreators(c.createCopiedPhoneLayout,e),closeModal:a.bindActionCreators(l.closeModalAction,e)}})(d)},function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),s=n(35),a=n(4),l=n(5),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.componentDidMount=function(){var e=this,t="Add Images",n=!0;null!==this.props.cont&&(this.props.cont.cont instanceof Array?t="Edit Images":(t="Edit Image",n=!1));var o=s.default.media({library:{type:"image"},title:t,button:{text:"Ok"},multiple:n});o.on("open",function(){if("browse"!==o.content._mode&&o.content.mode("browse"),null!==e.props.cont)if(e.props.cont.cont instanceof Array)for(var t=0,n=e.props.cont.cont;t<n.length;t++){var r=n[t],i=s.default.media.attachment(r.attid);o.state().get("selection").add(i)}else{i=s.default.media.attachment(e.props.cont.attid);o.state().get("selection").add(i)}}),o.on("select",function(){var t=o.state().get("selection");if(0!==t.length){for(var n=[],r=0,i=t.toJSON();r<i.length;r++){var s=i[r],c=a.getRelativeSizes(s.sizes);n.push({type:l.ElementTypeEnum.IMAGE,attid:s.id,cont:a.getContImageURL(c),sizes:c,w:s.width,h:s.height,ar:s.height/s.width,alt:s.alt})}null===e.props.cont?e.props.setAddElements(n):e.props.cont.cont instanceof Array?e.props.setElementContent(e.props.cont.relid,n):e.props.setElementContent(e.props.cont.relid,n[0])}}),o.on("close",function(){return setTimeout(function(){e.props.closeModal()})},100),o.open()},t.prototype.render=function(){return null},t}(i.Component);t.default=c},function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),s=n(1),a=n(3),l=n(2),c=n(35),u=n(5),d=n(16),p=n(4),h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.componentDidMount=function(){var e=this,t=c.default.media({title:"Choose Image",button:{text:"Ok"},multiple:!1});t.on("open",function(){if("browse"!==t.content._mode&&t.content.mode("browse"),e.props.cont.hasOwnProperty("bgimage")&&e.props.cont.bgimage.hasOwnProperty("attid")){var n=c.default.media.attachment(e.props.cont.bgimage.attid);t.state().get("selection").add(n)}}),t.on("select",function(){var n=t.state().get("selection").toJSON()[0];if("image"===n.type){var o,r=["thumbnail","medium","medium_large","large","full"],i={};for(var s in n.sizes)if(-1===r.indexOf(s)){var a={w:n.sizes[s].width,h:n.sizes[s].height,url:p.getRelativeURL(n.sizes[s].url)};i[s]=a}o=u.castBgImage({attid:n.id,url:p.getRelativeURL(n.sizes.full.url),sizes:i}),e.props.setRowAttrs(e.props.cont.row,{bgimage:o,bgvideo:null})}else e.props.setNotice(d.default.fileIsNotAnImage)}),t.on("close",function(){return setTimeout(function(){e.props.closeModal()})},100),t.open()},t.prototype.render=function(){return null},t}(i.Component);t.default=s.connect(function(e,t){return{}},function(e){return{setRowAttrs:a.bindActionCreators(l.setRowAttrsAction,e),setNotice:a.bindActionCreators(l.setNoticeAction,e),closeModal:a.bindActionCreators(l.closeModalAction,e)}})(h)},function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),s=n(1),a=n(3),l=n(2),c=n(35),u=n(4),d=function(e){function t(t){var n=e.call(this,t)||this;return n.state=Object.assign({mp4:null,mp4Ar:null,filename:null,image:null,imageAr:null},t.cont),n}return r(t,e),t.prototype.handleClickOk=function(){var e={mp4:this.state.mp4,mp4Ar:this.state.mp4Ar,filename:this.state.filename,image:this.state.image,imageAr:this.state.imageAr,imageW:this.state.imageW,imageH:this.state.imageH,imageAttid:this.state.imageAttid,mp4Attid:this.state.mp4Attid,mp4H:this.state.mp4H,mp4W:this.state.mp4W};this.props.setRowAttrs(this.props.cont.row,{bgvideo:e,bgimage:null})},t.prototype.handleClickClose=function(){this.props.closeModal()},t.prototype.handleClickSetVideo=function(){var e=this,t=c.default.media({title:"Set a .mp4",button:{text:"Ok"},multiple:!1,library:{type:"video"}});t.on("open",function(){"browse"!==t.content._mode&&t.content.mode("browse")}),t.on("select",function(){var n=t.state().get("selection").toJSON();console.log(n[0]),"video/mp4"===n[0].mime&&e.setState({mp4:u.getRelativeURL(n[0].url),mp4Ar:n[0].height/n[0].width,mp4H:n[0].height,mp4W:n[0].width,mp4Attid:n[0].id,filename:n[0].filename})}),t.open()},t.prototype.handleClickUnsetThumbnail=function(){this.setState({image:null,imageAr:null,imageW:null,imageH:null,imageAttid:null})},t.prototype.handleClickSetThumbnail=function(){var e=this,t=c.default.media({title:"Set a poster image",button:{text:"Ok"},multiple:!1,library:{type:"image"}});t.on("select",function(){var n=t.state().get("selection").toJSON();console.log(n[0]),"image"===n[0].type&&e.setState({image:u.getRelativeSizes(n[0].sizes),imageAr:n[0].height/n[0].width,imageH:n[0].height,imageW:n[0].width,imageAttid:n[0].id})}),t.open()},t.prototype.getThumbnail=function(){if(null===this.state.image)return null;var e={};return null!==this.state.image&&(e.backgroundImage="url("+u.getStaticURL(u.getContImageURL(this.state.image))+")"),null!==this.state.mp4Ar?e.paddingBottom=100*this.state.mp4Ar+"%":null!==this.state.imageAr&&(e.paddingBottom=100*this.state.imageAr+"%"),i.createElement("div",{className:"placeholder",style:e})},t.prototype.componentDidMount=function(){this.props.cont.hasOwnProperty("bgvideo")&&this.setState({mp4:this.props.cont.bgvideo.mp4,mp4Ar:this.props.cont.bgvideo.mp4Ar,mp4H:this.props.cont.bgvideo.mp4H,mp4W:this.props.cont.bgvideo.mp4W,mp4Attid:this.props.cont.bgvideo.mp4Attid,filename:this.props.cont.bgvideo.filename,image:this.props.cont.bgvideo.image,imageAr:this.props.cont.bgvideo.imageAr,imageAttid:this.props.cont.bgvideo.imageAttid,imageW:this.props.cont.bgvideo.imageW,imageH:this.props.cont.bgvideo.imageH})},t.prototype.getPlaceholderImageText=function(){return"The placeholder image is used on mobile devices that do not support inline autoplaying videos."},t.prototype.render=function(){var e=this;return i.createElement("div",{className:"panel panel-default"},i.createElement("div",{className:"panel-heading"},i.createElement("h3",{className:"panel-title js-bg-video-modal-title"},"Set Row Video Background"),i.createElement("button",{type:"button",className:"close close-modal-btn",onClick:function(){return e.handleClickClose()}},i.createElement("span",{"aria-hidden":"true"},""),i.createElement("span",{className:"sr-only"},"Close"))),i.createElement("div",{className:"panel-body"},i.createElement("div",{className:"form-group bg-video-group"},i.createElement("div",null,i.createElement("button",{type:"button",className:"btn btn-default btn-sm mp4-btn",onClick:function(){return e.handleClickSetVideo()}},"Set .mp4"),i.createElement("span",{className:"filename"},this.state.filename)),i.createElement("div",null,i.createElement("button",{type:"button",className:"btn btn-default btn-sm image-btn",onClick:function(){return e.handleClickSetThumbnail()}},"Set placeholder image")),null!==this.state.image&&i.createElement("div",null,i.createElement("button",{type:"button",className:"btn btn-default btn-sm image-btn",onClick:function(){return e.handleClickUnsetThumbnail()}},"Unset image")),i.createElement("div",{className:"bg-video-image-thumb"},this.getThumbnail())),i.createElement("p",null,this.getPlaceholderImageText())),i.createElement("div",{className:"panel-footer clearfix"},i.createElement("button",{type:"button",className:"btn btn-default btn-lg bg-video-add-video-btn",disabled:null===this.state.mp4,onClick:function(){return e.handleClickOk()}},"Ok")))},t}(i.Component);t.default=s.connect(function(e,t){return{}},function(e){return{setRowAttrs:a.bindActionCreators(l.setRowAttrsAction,e),closeModal:a.bindActionCreators(l.closeModalAction,e)}})(d)},function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),s=n(1),a=n(3),l=n(2),c=n(10),u=function(e){function t(t){var n=e.call(this,t)||this;return n.state=Object.assign({html_id:"",classes:""},t.cont),n}return r(t,e),t.prototype.handleClickOk=function(){var e={html_id:this.state.html_id,classes:this.state.classes};this.props.isRow?this.props.setRowAttrs(this.props.cont.row,e):this.props.setElementContent(this.props.cont.relid,e)},t.prototype.handleClickClose=function(){this.props.closeModal()},t.prototype.handleChangeHtmlId=function(e){this.setState({html_id:e.target.value})},t.prototype.handleChangeClasses=function(e){this.setState({classes:e.target.value})},t.prototype.render=function(){var e=this;return i.createElement("div",{className:"panel panel-default"},i.createElement("div",{className:"panel-heading"},i.createElement("h3",{className:"panel-title"},"Set HTML class and Id"),i.createElement("button",{type:"button",className:"close close-modal-btn",onClick:function(){return e.handleClickClose()}},i.createElement("span",{"aria-hidden":"true"},""),i.createElement("span",{className:"sr-only"},"Close"))),i.createElement("div",{className:"panel-body"},i.createElement("p",null,"HTML classes and ids can't contain special characters and can't start with a number. An id needs to be unique on its page. You can assign multiple classes separated by spaces but you can only assign one id."),i.createElement("div",{className:"form-group"},i.createElement("label",{htmlFor:"lay-html-class-input"},"class"),i.createElement("input",{id:"lay-html-class-input",type:"text",placeholder:"myclass anotherclass",defaultValue:this.state.classes,className:"form-control",onChange:function(t){return e.handleChangeClasses(t)}})),i.createElement("div",{className:"form-group"},i.createElement("label",{htmlFor:"lay-html-id-input"},"id"),i.createElement("input",{id:"lay-html-id-input",type:"text",placeholder:"myid",className:"form-control",defaultValue:this.state.html_id,onChange:function(t){return e.handleChangeHtmlId(t)}}))),i.createElement("div",{className:"panel-footer clearfix"},i.createElement("button",{type:"button",className:"btn btn-default btn-lg edit-class-btn",onClick:function(){return e.handleClickOk()}},"Save")))},t}(i.Component);t.default=s.connect(function(e,t){return{}},function(e){return{setElementContent:a.bindActionCreators(c.setElementContent,e),setRowAttrs:a.bindActionCreators(l.setRowAttrsAction,e),closeModal:a.bindActionCreators(l.closeModalAction,e)}})(u)},function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),s=n(1),a=n(3),l=n(2),c=n(10),u=n(5),d=function(e){function t(t){var n=e.call(this,t)||this;return null===t.cont?n.state={cont:""}:n.state=t.cont,n}return r(t,e),t.prototype.componentDidMount=function(){this.focusTag.focus()},t.prototype.handleClickOk=function(){var e={cont:this.state.cont,type:u.ElementTypeEnum.SHORTCODE,shortcodeid:Math.round(Date.now())};null===this.props.cont?this.props.setAddElements([e]):this.props.setElementContent(this.props.cont.relid,e)},t.prototype.handleClickClose=function(){this.props.closeModal()},t.prototype.handleChangeCont=function(e){this.setState({cont:e.target.value})},t.prototype.render=function(){var e=this,t="Add Shortcode";return null!==this.props.cont&&(t="Edit Shortcode"),i.createElement("div",{className:"panel panel-default"},i.createElement("div",{className:"panel-heading"},i.createElement("h3",{className:"panel-title"},t),i.createElement("button",{type:"button",className:"close close-modal-btn",onClick:function(){return e.handleClickClose()}},i.createElement("span",{"aria-hidden":"true"},""),i.createElement("span",{className:"sr-only"},"Close"))),i.createElement("div",{className:"panel-body"},i.createElement("input",{type:"text",className:"form-control input-lg",ref:function(t){return e.focusTag=t},defaultValue:this.state.cont,onChange:function(t){return e.handleChangeCont(t)}})),i.createElement("div",{className:"panel-footer clearfix"},i.createElement("button",{type:"button",className:"btn btn-default btn-lg add-shortcode-btn",disabled:""===this.state.cont.trim(),onClick:function(){return e.handleClickOk()}},"Ok")))},t}(i.Component);t.default=s.connect(function(e,t){return{}},function(e){return{setAddElements:a.bindActionCreators(l.setAddElementsAction,e),setElementContent:a.bindActionCreators(c.setElementContent,e),closeModal:a.bindActionCreators(l.closeModalAction,e)}})(d)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=ace},function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),s=n(1),a=n(3),l=n(2),c=n(10),u=n(207),d=n(5),p=function(e){function t(t){var n=e.call(this,t)||this;return null===t.cont?n.state={cont:""}:n.state=t.cont,n}return r(t,e),t.prototype.componentDidMount=function(){var e=this;this.editor=u.default.edit("ace-html-modal-editor"),this.editor.setTheme("ace/theme/xcode"),this.editor.getSession().setMode("ace/mode/html"),this.editor.setShowPrintMargin(!1),null!==this.props.cont&&this.editor.setValue(this.state.cont),this.editor.getSession().on("change",function(t){var n=e.editor.getValue();e.setState({cont:n})}),setTimeout(function(){e.editor.renderer.updateText(),e.editor.focus()},0)},t.prototype.handleClickOk=function(){var e=Object.assign({type:d.ElementTypeEnum.HTML},this.state);null===this.props.cont?this.props.setAddElements([e]):this.props.setElementContent(this.props.cont.relid,e)},t.prototype.handleClickClose=function(){this.props.closeModal()},t.prototype.render=function(){var e=this,t="Add HTML";return null!==this.props.cont&&(t="Edit HTML"),i.createElement("div",{className:"panel panel-default"},i.createElement("div",{className:"panel-heading"},i.createElement("h3",{className:"panel-title js-html-modal-title"},t),i.createElement("button",{type:"button",className:"close close-modal-btn",onClick:function(){return e.handleClickClose()}},i.createElement("span",{"aria-hidden":"true"},""),i.createElement("span",{className:"sr-only"},"Close"))),i.createElement("div",{className:"panel-body",onKeyDown:function(e){return e.stopPropagation()}},i.createElement("div",{id:"ace-html-modal-editor",style:{fontSize:"16px"}})),i.createElement("div",{className:"panel-footer clearfix"},i.createElement("button",{type:"button",className:"btn btn-default btn-lg add-html-btn",disabled:""===this.state.cont.trim(),onClick:function(){return e.handleClickOk()}},"Ok")))},t}(i.Component);t.default=s.connect(function(e,t){return{}},function(e){return{setAddElements:a.bindActionCreators(l.setAddElementsAction,e),setElementContent:a.bindActionCreators(c.setElementContent,e),closeModal:a.bindActionCreators(l.closeModalAction,e)}})(p)},function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),s=n(1),a=n(3),l=n(18),c=n(7),u=n(4),d=n(6),p=n(2),h=n(10),f=n(9),m=n(5),g='<span class="dashicons dashicons-format-image"></span>',y=function(e){function t(t){var n=e.call(this,t)||this;return n.xhr=!1,n.currentAjaxId=0,n.setEmbedDebounced=l.debounce(n.setEmbed.bind(n),c.default.debounceHandleChangeUrl),null===t.cont?n.state={url:"",cont:g,h:0,w:0,alert:!1,valid:!1}:n.state=Object.assign({},t.cont,{alert:!1,valid:!1}),n}return r(t,e),t.prototype.componentDidMount=function(){""!==this.state.url&&this.handleChangeUrl(this.state.url),this.focusTag.focus()},t.prototype.handleClickOk=function(){var e={cont:this.state.cont,url:this.state.url,w:this.state.w,h:this.state.h,type:m.ElementTypeEnum.EMBED};null===this.props.cont?this.props.setAddElements([e]):this.props.setElementContent(this.props.cont.relid,e)},t.prototype.handleClickClose=function(){this.props.closeModal()},t.prototype.handleChangeUrlEvent=function(e){var t=e.target.value,n=t.length>3?4:t.length;t.substr(0,n)!=="http".substr(0,n)&&(t="http://"+t,e.target.value=t),this.setState({url:t,valid:!1,alert:!1,cont:g}),""!==t.trim()&&this.handleChangeUrl(t)},t.prototype.handleChangeUrl=function(e){this.currentAjaxId+=1;var t=this.currentAjaxId;""===this.state.url?this.setEmbed(e,t):this.setEmbedDebounced(e,t)},t.prototype.setEmbed=function(e,t){var n=this;f.default.ajax({url:d.default.ajaxUrl,data:{action:"get_embed",layembedval:e},type:"post",dataType:"html",success:function(e){if(t===n.currentAjaxId)if(e){var o=e,r=0,i=0,s=f.default(e);s[0].hasAttribute("width")&&(r=Number(s.attr("width"))),s[0].hasAttribute("height")&&(i=Number(s.attr("height"))),n.setState({alert:!1,valid:!0,cont:o,h:i,w:r}),u.processInstagramEmbeds()}else n.setState({alert:!0,valid:!1,cont:g})}})},t.prototype.render=function(){var e=this,t="Add Embed";null!==this.props.cont&&(t="Edit Embed");var n={};this.state.valid||(n.display="none");var o={};return this.state.alert||(o.display="none"),i.createElement("div",{className:"panel panel-default"},i.createElement("div",{className:"panel-heading"},i.createElement("h3",{className:"panel-title"},t),i.createElement("button",{type:"button",className:"close close-modal-btn",onClick:function(){return e.handleClickClose()}},i.createElement("span",{"aria-hidden":"true"},""),i.createElement("span",{className:"sr-only"},"Close"))),i.createElement("div",{className:"panel-body"},i.createElement("div",{className:"alert alert-danger",role:"alert",style:o},"Error, no embed found for this URL."),i.createElement("input",{type:"text",className:"form-control input-lg",ref:function(t){return e.focusTag=t},placeholder:""!==this.state.url?"":"Enter a URL",defaultValue:this.state.url,onChange:function(t){return e.handleChangeUrlEvent(t)}}),i.createElement("div",{className:"embed-preview-wrap",style:n},i.createElement("div",{id:"embed-preview",dangerouslySetInnerHTML:{__html:this.state.cont}}))),i.createElement("div",{className:"panel-footer clearfix"},i.createElement("button",{type:"button",className:"btn btn-default btn-lg add-embed-btn",disabled:!this.state.valid,onClick:function(){return e.handleClickOk()}},"Ok")))},t}(i.Component);t.default=s.connect(function(e,t){return{}},function(e){return{setAddElements:a.bindActionCreators(p.setAddElementsAction,e),setElementContent:a.bindActionCreators(h.setElementContent,e),closeModal:a.bindActionCreators(p.closeModalAction,e)}})(y)},function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),s=n(1),a=n(3),l=n(18),c=n(7),u=n(2),d=n(10),p=n(9),h=n(5),f=n(4),m=/(youtu(?:\.be|be\.com)\/(?:.*v(?:\/|=)|(?:.*\/)?)([\w'-]+))/i,g=/(vimeo\.com\/)([0-9]+\/?[a-zA-Z0-9]+)\/?/,y=/(autoplay=)(true|1)$/,E=function(e){function t(t){var n=e.call(this,t)||this;return n.currentAjaxId=0,n.setVimeoEmbedDebounced=l.debounce(n.setVimeoEmbed.bind(n),c.default.debounceHandleChangeUrl),n.setYoutubeEmbedDebounced=l.debounce(n.setYoutubeEmbed.bind(n),c.default.debounceHandleChangeUrl),null===t.cont?n.state={title:"",description:"",url:"",cont:"",h:-1,w:-1,iframe:"",alert:!1,valid:!1}:n.state=Object.assign({},t.cont,{title:"",description:"",alert:!1,valid:!1}),n}return r(t,e),t.prototype.componentDidMount=function(){""!==this.state.url&&this.handleChangeUrl(this.state.url),this.focusTag.focus()},t.prototype.handleClickOk=function(){var e={cont:this.state.cont,iframe:this.state.iframe,url:this.state.url,w:this.state.w,h:this.state.h,ar:this.state.h/this.state.w,type:h.ElementTypeEnum.YOUTUBE_VIMEO_VIDEO};null===this.props.cont?this.props.setAddElements([e]):this.props.setElementContent(this.props.cont.relid,e)},t.prototype.handleClickClose=function(){this.props.closeModal()},t.prototype.handleChangeUrlEvent=function(e){var t=e.target.value,n=t.length>3?4:t.length;t.substr(0,n)!=="http".substr(0,n)&&(t="http://"+t,e.target.value=t),this.setState({url:t,valid:!1,alert:!1,title:"",description:""}),""!==t.trim()&&this.handleChangeUrl(t)},t.prototype.handleChangeUrl=function(e){this.currentAjaxId+=1;var t=this.currentAjaxId;null!==e.match(g)?""===this.state.url?this.setVimeoEmbed(e,t):this.setVimeoEmbedDebounced(e,t):null!==e.match(m)?""===this.state.url?this.setYoutubeEmbed(e,t):this.setYoutubeEmbedDebounced(e,t):this.setState({alert:!0,valid:!1})},t.prototype.setVimeoEmbed=function(e,t){var n=this,o=encodeURIComponent(e.match(g)[2]),r="";null!==e.match(y)&&(r="&autoplay=1"),p.default.getJSON("https://vimeo.com/api/oembed.json?url=https%3A%2F%2Fvimeo.com%2F"+o+r,function(e,o,i){var s=e.thumbnail_url,a=e.title,l=f.trunc(e.description,220),c=Number(e.height),u=Number(e.width),d='<iframe src="//player.vimeo.com/video/'+e.video_id+"?api=1"+r+'&title=0&amp;byline=0&amp;portrait=0&amp;color=ffffff" width="'+e.width+'" height="'+e.height+'" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>';t===n.currentAjaxId&&n.setState({cont:s,alert:!1,valid:!0,title:a,description:l,h:c,w:u,iframe:d})}).fail(function(e,o,r){t===n.currentAjaxId&&n.setState({alert:!0,valid:!1})})},t.prototype.setYoutubeEmbed=function(e,t){var n=this,o=e.match(m)[2];p.default.ajax({url:"https://noembed.com/embed?url=https%3A%2F%2Fwww.youtube.com%2Fwatch%3Fv%3D"+o,dataType:"jsonp",success:function(e){if(null!==e&&void 0!==e){var r=e.thumbnail_url,i=e.title,s=Number(e.height),a=Number(e.width),l='<iframe width="'+e.width+'" height="'+e.height+'" src="//www.youtube.com/embed/'+o+'?enablejsapi=1&wmode=transparent&autohide=1&iv_load_policy=3&modestbranding=1&rel=0&showinfo=0&showsearch=0?&theme=light&color=white" frameborder="0" allowfullscreen></iframe>';t===n.currentAjaxId&&n.setState({cont:r,alert:!1,valid:!0,title:i,description:"",h:s,w:a,iframe:l})}else t===n.currentAjaxId&&n.setState({alert:!0,valid:!1,title:"",description:""})},error:function(e){t===n.currentAjaxId&&n.setState({alert:!0,valid:!1})}})},t.prototype.render=function(){var e=this,t="Add Video";null!==this.props.cont&&(t="Edit Video");var n={};this.state.valid||(n.display="none");var o={};return this.state.alert||(o.display="none"),i.createElement("div",{className:"panel panel-default"},i.createElement("div",{className:"panel-heading"},i.createElement("h3",{className:"panel-title"},t),i.createElement("button",{type:"button",className:"close close-modal-btn",onClick:function(){return e.handleClickClose()}},i.createElement("span",{"aria-hidden":"true"},""),i.createElement("span",{className:"sr-only"},"Close"))),i.createElement("div",{className:"panel-body"},i.createElement("div",{className:"alert alert-danger",role:"alert",style:o},i.createElement("strong",null,"Malformed address!")," Please check if this is a valid Youtube or Vimeo address."),i.createElement("input",{type:"text",className:"form-control input-lg",ref:function(t){return e.focusTag=t},placeholder:"Youtube or Vimeo address",defaultValue:this.state.url,onChange:function(t){return e.handleChangeUrlEvent(t)}}),i.createElement("div",{className:"media",style:n},i.createElement("div",{className:"pull-left"},i.createElement("img",{id:"video-preview",className:"media-object",src:this.state.cont,alt:""})),i.createElement("div",{className:"media-body"},i.createElement("h4",{className:"media-heading"},this.state.title),i.createElement("p",null,this.state.description)))),i.createElement("div",{className:"panel-footer clearfix"},i.createElement("button",{type:"button",className:"btn btn-default btn-lg add-video-btn",disabled:!this.state.valid,onClick:function(){return e.handleClickOk()}},"Ok")))},t}(i.Component);t.default=s.connect(function(e,t){return{}},function(e){return{setAddElements:a.bindActionCreators(u.setAddElementsAction,e),setElementContent:a.bindActionCreators(d.setElementContent,e),closeModal:a.bindActionCreators(u.closeModalAction,e)}})(E)},function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),s=n(35),a=n(4),l=n(5),c=function(e){function t(t){var n=e.call(this,t)||this;return null===t.cont?n.state={autoplay:!1,loop:!1,mute:!1,controls:!1,playpauseonclick:!1,playicon:!1,ar:null,h:null,w:null,mp4:null,cont:null,filename:null,sizes:null,imgar:null}:n.state=t.cont,n}return r(t,e),t.prototype.handleClickOk=function(){var e=Object.assign({type:l.ElementTypeEnum.HTML5VIDEO},this.state);null===this.props.cont?this.props.setAddElements([e]):this.props.setElementContent(this.props.cont.relid,e)},t.prototype.handleClickClose=function(){this.props.closeModal()},t.prototype.handleChangeAutoplay=function(e){this.setState({autoplay:e.target.checked}),!0===e.target.checked?(this.setState({mute:!0}),this.setState({muteDisabled:"disabled"})):this.setState({muteDisabled:""})},t.prototype.handleChangeLoop=function(e){this.setState({loop:e.target.checked})},t.prototype.handleChangeMute=function(e){this.setState({mute:e.target.checked})},t.prototype.handleChangeControls=function(e){this.setState({controls:e.target.checked})},t.prototype.handleChangePlayIcon=function(e){this.setState({playicon:e.target.checked})},t.prototype.handleChangePlayPauseOnClick=function(e){this.setState({playpauseonclick:e.target.checked}),!0===e.target.checked?(this.setState({controls:!1}),this.setState({controlsDisabled:"disabled"})):this.setState({controlsDisabled:""})},t.prototype.handleClickSetVideo=function(){var e=this,t=s.default.media({title:"Set a .mp4",button:{text:"Ok"},multiple:!1,library:{type:"video"}});t.on("select",function(){var n=t.state().get("selection").toJSON();console.log(n[0].height),console.log(n[0].width),"video/mp4"===n[0].mime&&e.setState({mp4attid:n[0].id,mp4:a.getRelativeURL(n[0].url),filename:n[0].filename,ar:n[0].height/n[0].width,h:n[0].height,w:n[0].width})}),t.open()},t.prototype.handleClickSetPoster=function(){var e=this,t=s.default.media({title:"Set a poster image",button:{text:"Ok"},multiple:!1,library:{type:"image"}});t.on("select",function(){var n=t.state().get("selection").toJSON();if("image"===n[0].type){var o=a.getRelativeSizes(n[0].sizes);e.setState({cont:a.getContImageURL(o),sizes:o,imgar:n[0].height/n[0].width,imgh:n[0].height,imgw:n[0].width,imgattid:n[0].id})}}),t.open()},t.prototype.getPoster=function(){if(null===this.state.sizes)return null;var e={};return null!==this.state.sizes&&(e.backgroundImage="url("+a.getContImageURL(this.state.sizes)+")"),this.state.hasOwnProperty("ar")&&null!==this.state.ar?e.paddingBottom=100*this.state.ar+"%":this.state.hasOwnProperty("h")&&null!==this.state.h&&null!==this.state.w?e.paddingBottom=100*this.state.h/this.state.w+"%":null!==this.state.imgar&&(e.paddingBottom=100*this.state.imgar+"%"),i.createElement("div",{className:"placeholder",style:e})},t.prototype.render=function(){var e,t=this,n="Add HTML5 Video";return null!==this.props.cont&&(n="Edit HTML5 Video"),e=[i.createElement("div",{className:"checkbox"},i.createElement("label",null,i.createElement("input",{type:"checkbox",checked:this.state.autoplay,onChange:function(e){return t.handleChangeAutoplay(e)}})," ",i.createElement("span",null,"Autoplay"))),i.createElement("div",{className:"checkbox"},i.createElement("label",null,i.createElement("input",{type:"checkbox",checked:this.state.playpauseonclick,onChange:function(e){return t.handleChangePlayPauseOnClick(e)}})," ",i.createElement("span",null,"Play/pause on click"))),i.createElement("div",{className:"checkbox"},i.createElement("label",null,i.createElement("input",{type:"checkbox",checked:this.state.loop,onChange:function(e){return t.handleChangeLoop(e)}})," ",i.createElement("span",null,"Loop"))),i.createElement("div",{className:"checkbox"},i.createElement("label",null,i.createElement("input",{type:"checkbox",checked:this.state.mute,disabled:this.state.muteDisabled,onChange:function(e){return t.handleChangeMute(e)}})," ",i.createElement("span",null,"Mute"))),i.createElement("div",{className:"checkbox"},i.createElement("label",null,i.createElement("input",{type:"checkbox",checked:this.state.controls,disabled:this.state.controlsDisabled,onChange:function(e){return t.handleChangeControls(e)}})," ",i.createElement("span",null,"Show Standard Controls"))),i.createElement("div",{className:"checkbox"},i.createElement("label",null,i.createElement("input",{type:"checkbox",checked:this.state.playicon,onChange:function(e){return t.handleChangePlayIcon(e)}})," ",i.createElement("span",null,'Show Custom "Play" Icon')))],i.createElement("div",{className:"panel panel-default"},i.createElement("div",{className:"panel-heading"},i.createElement("h3",{className:"panel-title"},n),i.createElement("button",{type:"button",className:"close close-modal-btn",onClick:function(){return t.handleClickClose()}},i.createElement("span",{"aria-hidden":"true"},""),i.createElement("span",{className:"sr-only"},"Close"))),i.createElement("div",{className:"panel-body"},i.createElement("div",{className:"form-group html5-video-group"},i.createElement("div",{className:"row"},i.createElement("div",{className:"col-md-6"},i.createElement("div",null,i.createElement("button",{type:"button",className:"btn btn-default btn-sm mp4-btn",onClick:function(){return t.handleClickSetVideo()}},"Set .mp4")," * ",i.createElement("br",null),i.createElement("span",{className:"filename"},this.state.filename)),i.createElement("div",null,i.createElement("button",{type:"button",className:"btn btn-default btn-sm poster-btn",onClick:function(){return t.handleClickSetPoster()}},"Set placeholder image")," *"),i.createElement("div",{className:"html5-video-poster-thumb"},this.getPoster())),i.createElement("div",{className:"col-md-6"},e)),i.createElement("div",{className:"row"},i.createElement("div",{className:"col-md-6"}),i.createElement("div",{className:"col-md-6"},i.createElement("p",{style:{marginBottom:0}},"Autoplaying videos must be muted to autoplay on newer browsers."))))),i.createElement("div",{className:"panel-footer clearfix"},i.createElement("button",{type:"button",className:"btn btn-default btn-lg add-video-btn",disabled:null===this.state.mp4||null===this.state.cont,onClick:function(){return t.handleClickOk()}},"Ok")))},t}(i.Component);t.default=c},function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),s=n(1),a=n(9),l=n(14),c=n(6),u=n(5),d=n(4),p=function(e){function t(t){var n=e.call(this,t)||this;n.selectionNode=null;var o="";null!==n.props.cont&&(n.props.cont.hasOwnProperty(n.props.target)&&(o=n.props.cont[n.props.target]),o=l.default.getTextOfActiveDefaultOrOtherLangFromEncodedString(o)),tinymce.get("gridder_text_editor").setContent(o),a.default("#text-input-modal").show(),a.default("body").addClass("modal-open"),setTimeout(function(){"phone"===n.props.currentLayout?tinymce.get("gridder_text_editor").$("body").addClass("phone-textformats"):tinymce.get("gridder_text_editor").$("body").removeClass("phone-textformats"),tinymce.get("gridder_text_editor").focus()},0);var r=a.default(".text-modal-notice");return r.hide(),r.eq(0).fadeIn(200),n.bindOk(),n.bindNoticeCloseButtons(),n.bindNoticeDontShowAgainButtons(),n.bindNoticeNextTipButtons(),n.bindClose(),n}return r(t,e),t.prototype.bindNoticeCloseButtons=function(){a.default(".text-modal-notice button.close").on("click",function(){a.default(this.parentNode).hide()})},t.prototype.bindNoticeDontShowAgainButtons=function(){a.default(".text-modal-notice button.dont-show-again").on("click",function(){var e=a.default(this.parentNode).attr("data-optionname");a.default.ajax({type:"POST",url:c.default.ajaxUrl,data:{action:"set_notice_hidden_via_ajax",optionname:e}}),a.default(this.parentNode).find("button.next-tip").click()})},t.prototype.bindNoticeNextTipButtons=function(){a.default(".text-modal-notice button.next-tip").on("click",function(){a.default(this.parentNode).fadeOut(200);var e=a.default(this.parentNode).next();setTimeout(function(){e.hasClass("text-modal-notice")&&e.fadeIn(200)},200)})},t.prototype.bindOk=function(){var e=this;a.default("#text-input-modal .add-text-btn").on("click",function(){e.handleClickOk()})},t.prototype.bindClose=function(){var e=this;a.default("#text-input-modal .close-modal-btn, #text-input-modal .background").on("click",function(t){t.stopPropagation(),t.preventDefault(),e.props.closeModal()})},t.prototype.componentDidMount=function(){window.laylink_tinymce=this.showLayLinkModal.bind(this)},t.prototype.componentWillUnmount=function(){tinymce.get("gridder_text_editor").windowManager.close(window),a.default("#text-input-modal").hide(),a.default("#text-input-modal .add-text-btn").off("click"),tinymce.get("gridder_text_editor").setContent(""),a.default("body").removeClass("modal-open"),window.laylink_tinymce=void 0},t.prototype.showLayLinkModal=function(e){var t=tinymce.get("gridder_text_editor"),n=t.selection.getNode();tinymce.isGecko&&(this.selectionNode=t.selection.getRng());var o=null;"a"===n.nodeName.toLowerCase()&&""!==n.getAttribute("href")&&((o={}).imagelink={url:d.getRelativeURL(n.getAttribute("href")),id:Number(n.getAttribute("data-id")),type:n.getAttribute("data-type"),title:n.getAttribute("data-title"),newtab:"_blank"===n.getAttribute("target"),catid:n.getAttribute("data-catid"),hoverimageid:n.getAttribute("data-hoverimageid"),hoverimagesmallsrc:n.getAttribute("data-hoverimagesmallsrc")},o.relid=0),this.props.setAdditionalModal({type:"linkText",cont:o}),a.default("#text-input-modal").hide()},t.prototype.componentWillReceiveProps=function(e){if(d.checkNewAdditionalElements(e,this.props)){if(a.default("#text-input-modal").show(),e.additionalElements[0]){var t=tinymce.get("gridder_text_editor");t.focus(),tinymce.isGecko&&t.selection.setRng(this.selectionNode),tinymce.isIE&&t.selection.moveToBookmark(t.windowManager.bookmark),console.log(e.additionalElements[0].imagelink);var n={href:d.getStaticURL(e.additionalElements[0].imagelink.url),"data-type":e.additionalElements[0].imagelink.type,"data-id":e.additionalElements[0].imagelink.id,"data-title":e.additionalElements[0].imagelink.title,target:e.additionalElements[0].imagelink.newtab?"_blank":"","data-catid":e.additionalElements[0].imagelink.catid,"data-hoverimageid":!1,"data-hoverimagesmallsrc":!1};if(void 0!==e.additionalElements[0].imagelink.catid){var o="["+e.additionalElements[0].imagelink.catid+"]";n["data-catid"]=o}void 0!==e.additionalElements[0].imagelink.hoverimageid&&(n["data-hoverimageid"]=e.additionalElements[0].imagelink.hoverimageid),console.log("nextProps.additionalElements[0].imagelink.hoverimagesmallsrc",e.additionalElements[0].imagelink.hoverimagesmallsrc),void 0!==e.additionalElements[0].imagelink.hoverimagesmallsrc&&(n["data-hoverimagesmallsrc"]=e.additionalElements[0].imagelink.hoverimagesmallsrc);var r=t.dom.getParent(t.selection.getNode(),"a");r?t.dom.setAttribs(r,n):t.execCommand("mceInsertLink",!1,n)}this.props.clearAdditionalElement()}},t.prototype.handleClickOk=function(){var e=tinymce.get("gridder_text_editor").getContent();""===e.trim()&&(e="");var t="";if(null!==this.props.cont&&this.props.cont.hasOwnProperty(this.props.target)&&(t=this.props.cont[this.props.target]),e=l.default.putActiveLangStringIntoEncodedString(e,t),null===this.props.cont){var n={cont:e,type:u.ElementTypeEnum.TEXT};this.props.setAddElements([n])}else{(n={})[this.props.target]=e,this.props.setElementContent(this.props.cont.relid,n)}tinymce.get("gridder_text_editor").setContent("")},t.prototype.render=function(){return null},t}(i.Component);t.default=s.connect(function(e,t){return{currentLayout:e.currentLayout}})(p)},function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),s=n(5),a=n(212),l=n(211),c=n(210),u=n(209),d=n(208),p=n(206),h=n(205),f=n(204),m=n(203),g=n(202),y=n(201),E=n(200),b=n(199),_=n(198),v=n(4),w=n(6),O=n(197),C=n(82),A=n(80),T=n(79),S=Object.assign({},{bgVideo:f.default,bgImage:m.default,createPhoneLayout:y.default,deletePhoneLayout:E.default,embed:u.default,html:d.default,html5video:l.default,img:g.default,linkRowBg:b.default,linkImage:b.default,linkCarouselElement:b.default,linkText:b.default,postThumbnail:_.default,shortcode:p.default,text:a.default,thumbnailgrid:C.default,elementgrid:A.default,video:c.default}),N=function(e){function t(t){var n=e.call(this,t)||this;return w.default.plugins.carousel&&(S.carousel=O.default),S.projectDescriptionLinkHelper=T.default,n}return r(t,e),t.prototype.getId=function(e,t){switch(void 0===t&&(t=null),e){case"classesHtmlIdElement":case"classesHtmlIdRow":return"edit-html-class-id-modal";case"createPhoneLayout":return"create-phone-layout-modal";case"deletePhoneLayout":return"confirm-delete-phone-layout-modal";case"bgVideo":return"bg-video-modal";case"bgVideo":return"bg-image-modal";case s.ElementTypeEnum.HTML5VIDEO:return"html5-video-input-modal";case"linkRowBg":case"linkImage":case"linkCarouselElement":case"linkText":return"link-image-modal";case s.ElementTypeEnum.SHORTCODE:case s.ElementTypeEnum.TEXT:case s.ElementTypeEnum.THUMBNAIL_GRID:case s.ElementTypeEnum.ELEMENT_GRID:case s.ElementTypeEnum.CAROUSEL:return e+"-modal";case s.ElementTypeEnum.POST_THUMBNAIL:return"post-thumbnail-modal";case s.ElementTypeEnum.IMAGE:case s.ElementTypeEnum.EMBED:case s.ElementTypeEnum.HTML:case s.ElementTypeEnum.YOUTUBE_VIMEO_VIDEO:return e+"-input-modal";default:return"input-modal"}},t.prototype.getElement=function(e,t,n){switch(void 0===t&&(t=null),void 0===n&&(n=s.ElementAttributeTargetEnum.CONT),e){case"classesHtmlIdElement":return i.createElement(h.default,{isRow:!1,cont:t});case"classesHtmlIdRow":return i.createElement(h.default,{isRow:!0,cont:t});case s.ElementTypeEnum.TEXT:return i.createElement(a.default,{cont:t,target:n,setElementContent:this.props.setElementContent,closeModal:this.props.closeModal,setAddElements:this.props.setAddElements,setAdditionalModal:this.props.setAdditionalModal,getPrimaryModal:this.props.getPrimaryModal,additionalElements:this.props.additionalElements,clearAdditionalElement:this.props.clearAdditionalElement});default:if(S.hasOwnProperty(e)){var o=S[e];return i.createElement(o,{cont:t,type:e,setAddElements:this.props.setAddElements,setElementContent:this.props.setElementContent,closeModal:this.props.closeModal,setAdditionalModal:this.props.setAdditionalModal,getPrimaryModal:this.props.getPrimaryModal,additionalElements:this.props.additionalElements,clearAdditionalElement:this.props.clearAdditionalElement})}}},t.prototype.handleClickBackground=function(e){e.stopPropagation(),e.preventDefault(),this.props.closeModal()},t.prototype.render=function(){var e=this,t=this.getId(this.props.modal.type,this.props.modal.cont),n=this.getElement(this.props.modal.type,this.props.modal.cont,this.props.modal.target),o={};return this.props.visible||(o.display="none"),i.createElement("div",{style:o,id:t,className:"lay-input-modal",onKeyDown:function(e){return v.preventEnter(e)}},n,i.createElement("div",{className:"background",onClick:function(t){return e.handleClickBackground(t)}}))},t}(i.Component);t.default=N},function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),s=n(1),a=n(3),l=n(213),c=n(2),u=n(10),d=function(e){function t(t){var n=e.call(this,t)||this;return n.state={additionalModalArray:[],additionalElementsArray:[]},n}return r(t,e),t.prototype.componentDidMount=function(){window.laylink_project_descripton_tinymce=this.openProjectDescriptionLinkHelperModal.bind(this)},t.prototype.openProjectDescriptionLinkHelperModal=function(){this.props.openModalAdd("projectDescriptionLinkHelper")},t.prototype.getPrimaryModal=function(){return this.props.modal.type},t.prototype.clearAdditionalElements=function(e){for(var t=Object.assign([],this.state.additionalElementsArray);e>=t.length;)t.push([]);for(;e<t.length;)t.pop();this.setState({additionalElementsArray:t})},t.prototype.setAdditionalElements=function(e,t){for(var n=Object.assign([],this.state.additionalElementsArray);e>=n.length;)n.push([]);for(;e<n.length-1;)n.pop();n[e]=t;for(var o=Object.assign([],this.state.additionalModalArray);e<o.length;)o.pop();this.setState({additionalElementsArray:n,additionalModalArray:o})},t.prototype.setAdditionalModal=function(e,t,n){void 0===n&&(n=null);for(var o=Object.assign([],this.state.additionalElementsArray);e>o.length;)o.push([]);for(;e<o.length;)o.pop();for(var r=Object.assign([],this.state.additionalModalArray);e<r.length;)r.pop();n?o.push([n]):o.push([]),r.push(t),this.setState({additionalModalArray:r,additionalElementsArray:o})},t.prototype.closeAdditionalModal=function(e){var t=Object.assign([],this.state.additionalElementsArray);if(this.state.additionalElementsArray.length>e&&0===this.state.additionalElementsArray[e].length){for(;e<t.length;)t.pop();t.push([null])}for(var n=Object.assign([],this.state.additionalModalArray);e<n.length;)n.pop();this.setState({additionalModalArray:n,additionalElementsArray:t})},t.prototype.closeModal=function(){this.props.closeModal(),this.setState({additionalModalArray:[],additionalElementsArray:[]})},t.prototype.render=function(){var e=this,t=[];if(null!==this.props.modal){t.push(i.createElement(l.default,{visible:0===this.state.additionalModalArray.length,modal:this.props.modal,setAddElements:this.props.setAddElements,setElementContent:this.props.setElementContent,closeModal:this.props.closeModal,additionalElements:this.state.additionalElementsArray[0],clearAdditionalElement:this.clearAdditionalElements.bind(this),getPrimaryModal:this.getPrimaryModal.bind(this),setAdditionalModal:this.setAdditionalModal.bind(this,0)}));for(var n=function(n){t.push(i.createElement(l.default,{visible:n===o.state.additionalModalArray.length-1,modal:o.state.additionalModalArray[n],setAddElements:o.setAdditionalElements.bind(o,n),setElementContent:function(t,o){return e.setAdditionalElements(n,[o])},closeModal:o.closeAdditionalModal.bind(o,n),additionalElements:o.state.additionalElementsArray[n+1],clearAdditionalElement:o.clearAdditionalElements.bind(o),getPrimaryModal:o.getPrimaryModal.bind(o),setAdditionalModal:o.setAdditionalModal.bind(o,n+1)}))},o=this,r=0;r<this.state.additionalModalArray.length;r++)n(r)}return i.createElement("div",null,t)},t}(i.Component);t.default=s.connect(function(e,t){return{modal:e.modal}},function(e){return{openModalAdd:a.bindActionCreators(c.openModalAddAction,e),setAddElements:a.bindActionCreators(c.setAddElementsAction,e),setElementContent:a.bindActionCreators(u.setElementContent,e),closeModal:a.bindActionCreators(c.closeModalAction,e)}})(d)},function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),s=n(1),a=n(3),l=n(18),c=n(7),u=n(11),d=n(2),p=n(75),h=n(9),f=n(16),m=n(10),g=2,y=null,E=function(e){function t(t){var n=e.call(this,t)||this;n.onKeyDownBind=function(e){return n.onKeyDown(e)},n.onClickBind=function(e){return n.onClick(e)},n.onMouseMoveThrottle=l.throttle(n.onMouseMove.bind(n),c.default.throttleMouseMove);var o=g;return"desktop"!==t.currentLayout&&(null===y&&(y=t.colCount),o=y),n.state={row:0,col:0,colspan:o,x:0,y:0,align:"bottom"},n}return r(t,e),t.prototype.componentDidMount=function(){window.addEventListener("mousemove",this.onMouseMoveThrottle),window.addEventListener("keydown",this.onKeyDownBind),document.getElementById("rows-wrap").addEventListener("click",this.onClickBind);for(var e=document.getElementsByClassName("lay-stack"),t=0;t<e.length;t++)e.item(t).addEventListener("click",this.onClickBind);window.dispatchEvent(new Event("mousemove")),this.props.setNotice(f.default.pressPlusMinusToChangeSize)},t.prototype.componentDidUpdate=function(){"desktop"!==this.props.currentLayout?y=this.state.colspan:g=this.state.colspan},t.prototype.componentWillUnmount=function(){window.removeEventListener("mousemove",this.onMouseMoveThrottle),window.removeEventListener("keydown",this.onKeyDownBind),document.getElementById("rows-wrap").removeEventListener("click",this.onClickBind);for(var e=document.getElementsByClassName("lay-stack"),t=0;t<e.length;t++)e.item(t).removeEventListener("click",this.onClickBind)},t.prototype.componentWillReceiveProps=function(e){if(e.currentLayout!==this.props.currentLayout){var t=g;"desktop"!==e.currentLayout&&(null===y&&(y=e.colCount),t=y),this.setState({colspan:t})}},t.prototype.onKeyDown=function(e){switch(e.keyCode){case 189:case 173:case 109:case 54:this.state.colspan>1&&(this.setState({colspan:this.state.colspan-1}),this.props.changeAddElementPosition(this.state.row,this.state.col,this.state.colspan));break;case 187:case 171:case 107:case 122:case 61:this.state.colspan<this.props.colCount&&(this.setState({colspan:this.state.colspan+1}),this.props.changeAddElementPosition(this.state.row,this.state.col,this.state.colspan));break;case 8:case 46:case 27:this.props.deleteAddElements()}},t.prototype.calcPosition=function(e){for(var t=h.default("#content-wrap").offset(),n=e.clientX,o=e.clientY,r=e.pageY-t.top,i=e.pageX-t.left,s=-1,a=u.getColInPx(this.props.contentWrapperWidth,this.props.currentLayout,this.props.colCount,this.props.colGutter,this.props.frameMargin),l=u.getPctMeasureInPx(this.props.colGutter,this.props.contentWrapperWidth),c=u.getMeasureInPx(u.MeasureUnitEnum.FRAME,this.props.frameMargin,this.props.contentWrapperWidth,this.props.currentLayout),d=0;d<this.props.colCount&&!(c>i);d++)if(c+=a,d+1!==this.props.colCount&&(c+=l),c>i){s=d;break}var p=-1,f="bottom",m=u.getMeasureInPx(u.MeasureUnitEnum.TOP_FRAME,this.props.topFrameMargin,this.props.contentWrapperWidth,this.props.currentLayout),g=0;for(d=0;d<this.props.rowAttrs.length;d++){var y=this.props.rowsHeight[d];if(void 0===this.props.rowsHeight[d]&&(y=u.getPctMeasureInPx(20,this.props.contentWrapperWidth)),m>r)break;if((m+=y)>r){p=d;var E=(g=y+r-m)/y;f=E<1/3?"top":E<=2/3?"middle":"bottom";break}d<this.props.rowGutters.length&&(m+=u.getMeasureInPx(u.MeasureUnitEnum.ROW_GUTTER,this.props.rowGutters[d],this.props.contentWrapperWidth,this.props.currentLayout))}return{x:i,y:r,clientX:n,clientY:o,col:s,row:p,align:f,rowOffset:g}},t.prototype.onMouseMove=function(e){var t=this.calcPosition(e);t.col===this.state.col&&t.row===this.state.row&&t.align===this.state.align&&t.rowOffset===this.state.rowOffset||this.props.changeAddElementPosition(t.row,t.col,this.state.colspan,t.align,t.rowOffset),this.setState(t)},t.prototype.onClick=function(e){e.target.classList.contains("btn-default")||e.target.parentElement.classList.contains("btn-default")||(this.props.addElementToCont(this.getCont()),e.stopPropagation())},t.prototype.getCont=function(){var e={type:this.props.addElements[0].type,cont:"",align:this.state.align,row:this.state.row,col:this.state.col,colspan:this.state.colspan,offsetx:0,offsety:0,spaceabove:0,spacebelow:0,yvel:1,push:0,relid:-1};return Object.assign({},e,this.props.addElements[0])},t.prototype.render=function(){if(null===this.props.addElements||0===this.props.addElements.length)return null;var e=this.props.addElements.length,t={marginTop:this.props.headerHeight},n={top:this.state.clientY+20,left:this.state.clientX-20},o=this.getCont(),r=this.props.contentWrapperWidth/window.innerWidth*100+"%";return i.createElement("div",{className:"add-element-wrap",style:t},e>1&&i.createElement("span",{className:"badge add-count",style:n},e),i.createElement(p.default,{x:this.state.clientX+12,y:this.state.clientY+12,index:5,cont:o,width:r}))},t}(i.Component);t.default=s.connect(function(e,t){return{addElements:e.addElements,rowsHeight:e.rowsHeight,rowsTop:e.rowsTop,contentWrapperWidth:e.contentWrapperWidth,frameMargin:e.json_field.frameMargin,rowGutters:e.json_field.rowGutters,rowAttrs:e.json_field.rowAttrs,topFrameMargin:e.json_field.topFrameMargin,colGutter:e.json_field.colGutter,colCount:e.json_field.colCount,headerHeight:e.headerHeight,currentLayout:e.currentLayout}},function(e){return{changeAddElementPosition:a.bindActionCreators(d.changeAddElementPositionAction,e),addElementToCont:a.bindActionCreators(m.addElementToCont,e),deleteAddElements:a.bindActionCreators(d.deleteAddElements,e),setNotice:a.bindActionCreators(d.setNoticeAction,e)}})(E)},function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),s=n(1),a=n(3),l=n(6),c=n(5),u=n(2),d=n(66),p=n(67),h=n(4),f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.handleClick=function(e){-1!==this.props.relid&&this.props.hideContextMenuElement()},t.prototype.handleScroll=function(e){this.props.hideContextMenuElement()},t.prototype.handleChangeSpaceAbove=function(e){var t=Object.assign([],this.props.selectedElementsId);-1!==this.props.relid&&-1===t.indexOf(this.props.relid)&&t.push(this.props.relid);for(var n=0,o=t;n<o.length;n++){var r=o[n];this.props.changeElementSpaceAbove(r,Number(e.target.value))}},t.prototype.handleChangeSpaceBelow=function(e){var t=Object.assign([],this.props.selectedElementsId);-1!==this.props.relid&&-1===t.indexOf(this.props.relid)&&t.push(this.props.relid);for(var n=0,o=t;n<o.length;n++){var r=o[n];this.props.changeElementSpaceBelow(r,Number(e.target.value))}},t.prototype.handleChangeOffsetX=function(e){var t=Object.assign([],this.props.selectedElementsId);-1!==this.props.relid&&-1===t.indexOf(this.props.relid)&&t.push(this.props.relid);for(var n=0,o=t;n<o.length;n++){var r=o[n];this.props.changeElementOffsetX(r,Number(e.target.value))}},t.prototype.handleChangeOffsetY=function(e){var t=Object.assign([],this.props.selectedElementsId);-1!==this.props.relid&&-1===t.indexOf(this.props.relid)&&t.push(this.props.relid);for(var n=0,o=t;n<o.length;n++){var r=o[n];this.props.changeElementOffsetY(r,Number(e.target.value))}},t.prototype.handleChangeYvel=function(e){var t=Object.assign([],this.props.selectedElementsId);-1!==this.props.relid&&-1===t.indexOf(this.props.relid)&&t.push(this.props.relid);for(var n=0,o=t;n<o.length;n++){var r=o[n];this.props.changeElementYvel(r,Number(e.target.value))}},t.prototype.onClickClassesHtmlId=function(){this.props.openModalEditElementClassesHtmlId(this.props.relid),this.props.hideContextMenuElement()},t.prototype.onClickLinkImage=function(){this.props.openModalEditElementLinkImage(this.props.relid),this.props.hideContextMenuElement()},t.prototype.handleClickSyncElement=function(e,t){e.preventDefault(),e.stopPropagation();var n=Object.assign([],this.props.selectedElementsId);-1!==this.props.relid&&-1===n.indexOf(this.props.relid)&&n.push(this.props.relid),this.props.setElementsDoSync(n,t),this.props.hideContextMenuElement()},t.prototype.handleClickScrollToTop=function(e){var t=Object.assign([],this.props.selectedElementsId);-1!==this.props.relid&&-1===t.indexOf(this.props.relid)&&t.push(this.props.relid);for(var n=0,o=t;n<o.length;n++){var r=o[n];this.props.changeElementIsScrollToTop(r,e)}this.props.hideContextMenuElement()},t.prototype.handleEditLbCaption=function(e){-1!==this.props.relid&&(this.props.openModalEditAction(this.props.relid,c.ElementAttributeTargetEnum.LIGHTBOX_CAPTION),this.props.hideContextMenuElement())},t.prototype.handleLbOff=function(e){-1!==this.props.relid&&(this.props.changeElementLbOff(this.props.relid,e),this.props.hideContextMenuElement())},t.prototype.handleClickInsertIntoOtherLayout=function(e){this.props.insertIntoOtherLayout(e),this.props.hideContextMenuElement()},t.prototype.render=function(){var e=this,t={},n={spaceabove:null,spacebelow:null,offsetx:null,offsety:null,yvel:null,isscrolltotop:null,lightbox_caption:null,lightboxoff:null},o=!0,r=!1,s=!0,a=0,u=Object.assign([],this.props.selectedElementsId);if(-1===this.props.relid)t.display="none";else{-1===u.indexOf(this.props.relid)&&u.push(this.props.relid),1!==u.length&&(s=!1),t.left=this.state.posX+3,t.top=this.state.posY+3;for(var d=0,p=this.props.cont;d<p.length;d++){var f=p[d];if(-1!==u.indexOf(f.relid)){f.type===c.ElementTypeEnum.STACK&&a++;for(var m=0,g=Object.getOwnPropertyNames(n);m<g.length;m++){var y=g[m];null===n[y]?n[y]=f[y]:""!==n[y]&&n[y]!==f[y]&&(n[y]="")}}if(f.type===c.ElementTypeEnum.STACK)for(var E=0,b=f.cont;E<b.length;E++){var _=b[E];if(-1!==u.indexOf(_.relid))for(var v=0,w=Object.getOwnPropertyNames(n);v<w.length;v++){y=w[v];null===n[y]?n[y]=_[y]:""!==n[y]&&n[y]!==_[y]&&(n[y]="")}}}if(null!==this.props.otherField)for(var O=0,C=this.props.otherField.cont;O<C.length;O++){if((f=C[O]).type===c.ElementTypeEnum.STACK)for(var A=0,T=f.cont;A<T.length;A++){var S=T[A];if(-1!==u.indexOf(S.relid)){u.splice(u.indexOf(S.relid),1);var N=S.dosync;void 0===N||N||(o=!1),r=!0}}else if(-1!==u.indexOf(f.relid)){u.splice(u.indexOf(f.relid),1);var k=f.dosync;void 0===k||k||(o=!1),r=!0}}}var j="";o&&(j=" show-icon");var M=[];if(null!==this.props.otherField){if(u.length-a!=0){var x="",P="dashicons dashicons-";"desktop"===this.props.currentLayout?(x="Phone",P+="smartphone"):(x="Desktop",P+="desktop"),M.push(i.createElement("button",{key:1,type:"button",onClick:function(){return e.handleClickInsertIntoOtherLayout(u)},className:"btn-lay"},i.createElement("span",{className:P})," Insert",!s&&" "+(u.length-a)," Element",1!==u.length&&"s"," into ",x," Layout"))}u.length-a==0&&r&&M.push(i.createElement("button",{key:2,type:"button",onClick:function(t){return e.handleClickSyncElement(t,!o)},className:"btn-lay"+j},i.createElement("span",{className:"glyphicon glyphicon-transfer"})," ",i.createElement("span",null,"Sync Element (Custom Phone Layout)")))}var D=null,R=null,I=null,L=null,H=null,G=!1;if(s){for(var B=!1,F=!1,W=0,U=this.props.cont;W<U.length;W++){if((f=U[W]).type===c.ElementTypeEnum.STACK)for(var z=0,V=f.cont;z<V.length;z++){var Y=V[z];Y.relid===this.props.relid&&(G=Y.type,(Y.hasOwnProperty("classes")&&0!==Y.classes.trim().length||Y.hasOwnProperty("html_id")&&0!==Y.html_id.trim().length)&&(B=!0),Y.type===c.ElementTypeEnum.IMAGE&&Y.hasOwnProperty("imagelink")&&null!==Y.imagelink&&"object"==typeof Y.imagelink&&(F=!0))}f.relid===this.props.relid&&(G=f.type,(f.hasOwnProperty("classes")&&0!==f.classes.trim().length||f.hasOwnProperty("html_id")&&0!==f.html_id.trim().length)&&(B=!0),f.type===c.ElementTypeEnum.IMAGE&&f.hasOwnProperty("imagelink")&&null!==f.imagelink&&"object"==typeof f.imagelink&&(F=!0))}var K="btn-lay",X="Set";if(B&&(K+=" has-class",X="Edit"),D=i.createElement("button",{type:"button",className:K,onClick:function(){return e.onClickClassesHtmlId()}},i.createElement("span",{className:"dashicons dashicons-editor-code"})," ",i.createElement("span",null,X," HTML Class and Id")),s&&G===c.ElementTypeEnum.IMAGE){var J="btn-lay";F&&(J+=" is-linked"),R=i.createElement("button",{type:"button",className:J,onClick:function(){return e.onClickLinkImage()}},i.createElement("span",{className:"dashicons dashicons-admin-links"})," ",i.createElement("span",null,"Link Image"))}var Z="btn-lay";if(G!==c.ElementTypeEnum.IMAGE&&G!==c.ElementTypeEnum.TEXT||""!==n.isscrolltotop&&(!0===n.isscrolltotop&&(Z+=" show-icon"),I=i.createElement("button",{type:"button",className:Z,onClick:function(){return e.handleClickScrollToTop(!n.isscrolltotop)}},i.createElement("span",{className:"dashicons dashicons-arrow-up-alt"}),' Use as "Scroll to Top" Button')),"desktop"===this.props.currentLayout&&"1"===l.default.lightboxActiveHere&&G===c.ElementTypeEnum.IMAGE||"phone"===this.props.currentLayout&&"1"===l.default.lightboxActiveHere&&"1"===l.default.lightboxActiveForPhone&&G===c.ElementTypeEnum.IMAGE){var q="btn-lay",$="Set Lightbox Caption";if(void 0!==n.lightbox_caption&&""!==n.lightbox_caption&&(q+=" has-lightbox-caption",$="Edit Lightbox Caption"),L=i.createElement("div",null,i.createElement("div",{className:"lay-button-separator"}),i.createElement("button",{type:"button",className:q,onClick:function(){return e.handleEditLbCaption(n.lightbox_caption)}},$)),""!==n.lightboxoff){var Q="btn-lay";!0===n.lightboxoff&&(Q+=" show-icon"),H=i.createElement("button",{type:"button",className:Q,onClick:function(){return e.handleLbOff(!n.lightboxoff)}},i.createElement("span",{className:"glyphicon glyphicon-ok"})," Lightbox Off")}}}var ee=null;if(l.default.parallax){var te=null;null!==n.yvel&&""!==String(n.yvel)&&(te=n.yvel>1?"faster "+String(n.yvel):"normal 1"),ee=i.createElement("div",null,i.createElement("div",{className:"lay-button-separator"}),i.createElement("div",{className:"lay-input-group group-parallax"},i.createElement("span",{className:"lay-input-group-addon"},"Y-Parallax"),i.createElement("div",{className:"lay-form-control"},i.createElement("input",{type:"range",min:"1",max:"3",step:"0.1",defaultValue:String(n.yvel),onChange:function(t){return e.handleChangeYvel(t)}}),i.createElement("span",{className:"y-parallax-status"},te))))}var ne="lay-context-menu";return window.innerHeight-this.state.posY<160?ne+=" open-spaces-and-offsets-menu-to-top":ne+=" open-spaces-and-offsets-menu-to-bottom",window.innerWidth-this.state.posX<485?ne+=" open-spaces-and-offsets-menu-to-left":ne+=" open-spaces-and-offsets-menu-to-right",i.createElement("div",{onKeyDown:function(e){return h.preventEnter(e)},id:"lay-el-context-menu",className:ne,style:t,ref:function(t){e.domElement=t},onClick:function(e){return e.stopPropagation()}},i.createElement("div",{className:"btn-group-vertical"},i.createElement("button",{type:"button",className:"btn-lay lay-contextmenu-submenu-parent lay-contextmenu-submenu-parent-for-spaces-offsets"},i.createElement("span",null,"Spaces and Offsets")," ",i.createElement("span",{className:"dashicons dashicons-arrow-right-alt2"}),i.createElement("div",{className:"lay-contextmenu-submenu"},i.createElement("div",{className:"lay-input-group group-spaceabove"},i.createElement("span",{className:"lay-input-group-addon"},"Space Above"),i.createElement("input",{type:"number",step:"0.1",min:"0",className:"lay-form-control",defaultValue:String(n.spaceabove),onChange:function(t){return e.handleChangeSpaceAbove(t)}}),i.createElement("span",{className:"lay-input-group-addon"},"%")),i.createElement("div",{className:"lay-input-group group-spacebelow"},i.createElement("span",{className:"lay-input-group-addon"},"Space Below"),i.createElement("input",{type:"number",step:"0.1",min:"0",className:"lay-form-control",defaultValue:String(n.spacebelow),onChange:function(t){return e.handleChangeSpaceBelow(t)}}),i.createElement("span",{className:"lay-input-group-addon"},"%")),i.createElement("div",{className:"lay-input-group group-xoffset"},i.createElement("span",{className:"lay-input-group-addon"},"X-Offset"),i.createElement("input",{type:"number",step:"0.1",className:"lay-form-control",defaultValue:String(n.offsetx),onChange:function(t){return e.handleChangeOffsetX(t)}}),i.createElement("span",{className:"lay-input-group-addon"},"%")),i.createElement("div",{className:"lay-input-group group-yoffset"},i.createElement("span",{className:"lay-input-group-addon"},"Y-Offset"),i.createElement("input",{type:"number",step:"0.1",className:"lay-form-control",defaultValue:String(n.offsety),onChange:function(t){return e.handleChangeOffsetY(t)}}),i.createElement("span",{className:"lay-input-group-addon"},"%")))),i.createElement("div",{className:"lay-button-separator"}),R,D,"1"===l.default.phoneLayoutActive&&M,I,L,H,ee))},t}(p.default);t.default=s.connect(function(e,t){return{currentLayout:e.currentLayout,cont:e.json_field.cont,otherField:"desktop"===e.currentLayout?e.phone_gridder_json_field:e.gridder_json_field,selectedElementsId:e.selectedElementsId}},function(e){return{changeElementSpaceAbove:a.bindActionCreators(u.changeElementSpaceAboveAction,e),changeElementSpaceBelow:a.bindActionCreators(u.changeElementSpaceBelowAction,e),changeElementOffsetX:a.bindActionCreators(u.changeElementOffsetXAction,e),changeElementOffsetY:a.bindActionCreators(u.changeElementOffsetYAction,e),changeElementYvel:a.bindActionCreators(u.changeElementYvel,e),changeElementIsScrollToTop:a.bindActionCreators(u.changeElementIsScrollToTop,e),changeElementLbOff:a.bindActionCreators(u.changeElementLbOff,e),openModalEditAction:a.bindActionCreators(u.openModalEditAction,e),openModalEditElementClassesHtmlId:a.bindActionCreators(u.openModalEditElementClassesHtmlIdAction,e),openModalEditElementLinkImage:a.bindActionCreators(u.openModalEditElementLinkImageAction,e),toggleElementDoSync:a.bindActionCreators(d.toggleElementDoSync,e),setElementsDoSync:a.bindActionCreators(d.setElementsDoSync,e),insertIntoOtherLayout:a.bindActionCreators(d.insertIntoOtherLayout,e)}})(f)},function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),s=n(1),a=n(3),l=n(67),c=n(6),u=n(7),d=n(2),p=n(66),h=n(4),f=n(9),m=function(e){function t(t){var n=e.call(this,t)||this;n.state={bgcolor:null,isDropDownBgColorShown:!1};var o=null;return-1!==t.row&&null!==t.rowAttrs[t.row]&&void 0!==t.rowAttrs[t.row]&&null!==t.rowAttrs[t.row].bgcolor&&void 0!==t.rowAttrs[t.row].bgcolor&&""!==t.rowAttrs[t.row].bgcolor&&(o=t.rowAttrs[t.row].bgcolor),n.state=Object.assign({},n.state,{bgcolor:o}),n.handleClearClick=n.handleClearClick.bind(n),n}return r(t,e),t.prototype.hide=function(){this.props.hideContextMenuRow(),this.setState({isDropDownBgColorShown:!1})},t.prototype.handleClearClick=function(){var e=this;this.setState({bgcolor:null}),f.default("#lay-row-context-menu .contextmenu-colorpicker-input").val(""),setTimeout(function(){e.hide()},0)},t.prototype.handleClick=function(e){-1===this.props.row||e.target===document.getElementsByTagName("body")[0]||e.target===this.domElement||this.domElement.contains(e.target)||this.hide()},t.prototype.handleScroll=function(e){this.hide()},t.prototype.componentDidMount=function(){var t=this;e.prototype.componentDidMount.call(this),f.default("#lay-row-context-menu .contextmenu-colorpicker-input").iris({width:200,hide:!1,palettes:c.default.bgColorPalette,target:".row-background-colorpicker",change:function(e,n){t.setState({bgcolor:n.color.toString()})}})},t.prototype.componentWillReceiveProps=function(t){e.prototype.componentWillReceiveProps.call(this,t);var n=null,o=this.state.bgcolor;-1!==t.row&&(null!==t.rowAttrs[t.row]&&void 0!==t.rowAttrs[t.row]&&null!==t.rowAttrs[t.row].bgcolor&&void 0!==t.rowAttrs[t.row].bgcolor&&""!==t.rowAttrs[t.row].bgcolor&&(n=t.rowAttrs[t.row].bgcolor),o!==n&&(this.setState({bgcolor:n}),null===n?this.setState({bgcolor:null}):f.default("#lay-row-context-menu .contextmenu-colorpicker-input").iris("color",n)))},t.prototype.componentWillUpdate=function(e,t){var n=t.bgcolor,o=null;-1!==e.row&&(null!==e.rowAttrs[e.row]&&void 0!==e.rowAttrs[e.row]&&null!==e.rowAttrs[e.row].bgcolor&&void 0!==e.rowAttrs[e.row].bgcolor&&""!==e.rowAttrs[e.row].bgcolor&&(o=e.rowAttrs[e.row].bgcolor),null!==n&&!/^\#[a-zA-Z0-9]{6}$/.test(n)||n===o||this.props.setRowAttrBgcolor(this.props.row,n))},t.prototype.handleChangeBgcolor=function(e){this.setState({bgcolor:e.target.value})},t.prototype.handleClickSetRowGutter=function(e){this.hide(),this.props.setSelectedRowGutters([this.props.row]);var t=document.querySelector(".gridder-header .group-row-gutter input");t.select(),t.focus(),e.stopPropagation()},t.prototype.toggleShowBackgroundColorDropDown=function(){this.setState(function(e){return!0===e.isDropDownBgColorShown?{isDropDownBgColorShown:!1}:{isDropDownBgColorShown:!0}})},t.prototype.toggleRow100vh=function(){var e=!(!0===this.props.rowAttrs[this.props.row].row100vh);this.props.setRowAttr100vh(this.props.row,e),this.hide()},t.prototype.onClickClassesHtmlId=function(){this.props.openModalEditRowClassesHtmlId(this.props.row),this.hide()},t.prototype.onClickSetBgVideo=function(){this.props.openModalEditRowBgVideo(this.props.row),this.hide()},t.prototype.onClickRemoveBgVideo=function(){this.props.setRowAttrs(this.props.row,{bgvideo:null}),this.hide()},t.prototype.onClickSetBgImage=function(){this.props.openModalEditRowBgImage(this.props.row),this.hide()},t.prototype.onClickRemoveBgImage=function(){this.props.setRowAttrs(this.props.row,{bgimage:null}),this.hide()},t.prototype.onClickLinkRowBackground=function(){this.props.openModalEditRowBgLink(this.props.row),this.hide()},t.prototype.render=function(){var e=this,t={},n={},o={},r={},s=!1,a=!0,l=!1;-1===this.props.row?t.display="none":(t.left=this.state.posX+3,t.top=this.state.posY+3,null!==this.props.rowAttrs[this.props.row]&&void 0!==this.props.rowAttrs[this.props.row]&&(!0===this.props.rowAttrs[this.props.row].row100vh&&(n.backgroundColor=u.default.backgroundColor.contextMenuRow100hv),this.props.rowAttrs[this.props.row].hasOwnProperty("bgimage")||(o.display="none"),this.props.rowAttrs[this.props.row].hasOwnProperty("bgvideo")||(r.display="none"),(this.props.rowAttrs[this.props.row].hasOwnProperty("classes")&&0!==this.props.rowAttrs[this.props.row].classes.trim().length||this.props.rowAttrs[this.props.row].hasOwnProperty("html_id")&&0!==this.props.rowAttrs[this.props.row].html_id.trim().length)&&(s=!0),this.props.rowAttrs[this.props.row].hasOwnProperty("link")&&(l=!0)),a=this.props.rowAttrs.length===this.props.row+1);var d=[];d.push(i.createElement("button",{type:"button",className:"btn-lay",onClick:function(){return e.onClickSetBgVideo()}},i.createElement("span",{className:"dashicons dashicons-video-alt3"})," Set Row Video Background")),d.push(i.createElement("div",{style:r},i.createElement("button",{type:"button",className:"btn-lay",onClick:function(){return e.onClickRemoveBgVideo()}},i.createElement("span",{className:"dashicons dashicons-no-alt"})," Remove Row Video Background"),i.createElement("div",{className:"lay-button-separator"}))),d.push(i.createElement("button",{type:"button",className:"btn-lay",style:n,onClick:function(){return e.toggleRow100vh()}},i.createElement("span",{className:"dashicons dashicons-editor-expand"})," Use Browser Height for Row Height"));var p="btn-lay",f="Set";s&&(p+=" has-class",f="Edit"),d.push(i.createElement("button",{type:"button",className:p,onClick:function(){return e.onClickClassesHtmlId()}},i.createElement("span",{className:"dashicons dashicons-editor-code"})," ",i.createElement("span",null,f," HTML Class and Id")));var m="btn-lay";l&&(m+=" is-linked"),d.push(i.createElement("button",{type:"button",className:m,onClick:function(){return e.onClickLinkRowBackground()}},i.createElement("span",{className:"dashicons dashicons-admin-links"})," ",i.createElement("span",null,"Link Row Background")));var g="";this.state.isDropDownBgColorShown&&(g+="show-dropdown");var y=i.createElement("button",{type:"button",className:"row-gutter-button btn-lay",onClick:function(t){return e.handleClickSetRowGutter(t)}},i.createElement("span",{className:"dashicons dashicons-align-center"})," Set Row Gutter");return i.createElement("div",{onKeyDown:function(e){return h.preventEnter(e)},id:"lay-row-context-menu",className:"lay-context-menu",style:t,ref:function(t){e.domElement=t}},i.createElement("div",{className:"btn-group-vertical"},i.createElement("button",{type:"button",className:"btn-lay",onClick:function(){return e.onClickSetBgImage()}},i.createElement("span",{className:"dashicons dashicons-format-image"})," Set Row Image Background"),i.createElement("div",{style:o},i.createElement("button",{type:"button",className:"btn-lay",onClick:function(){return e.onClickRemoveBgImage()}},i.createElement("span",{className:"dashicons dashicons-no-alt"})," Remove Row Image Background"),i.createElement("div",{className:"lay-button-separator"})),d,"1"!==c.default.disableInputs&&!a&&y,i.createElement("button",{type:"button",className:"btn-lay set-bgcolor-btn",onClick:function(){return e.toggleShowBackgroundColorDropDown()}},i.createElement("span",{className:"dashicons dashicons-admin-customizer",style:{color:this.state.bgcolor}})," Set Row Background Color"),i.createElement("div",{className:g+" contextmenu-colorpicker-wrap"},i.createElement("div",{className:"row-background-colorpicker",ref:function(t){e.colorpickerElement=t}}),i.createElement("div",{className:"row-background-color-input-and-clear-wrap"},i.createElement("input",{type:"text",className:"contextmenu-colorpicker-input",value:this.state.bgcolor,onChange:function(t){return e.handleChangeBgcolor(t)}}),i.createElement("button",{onClick:this.handleClearClick,type:"button",className:"btn-lay btn-sm row-background-color-clear-color"},"Clear")))))},t}(l.default);t.default=s.connect(function(e,t){return{rowAttrs:e.json_field.rowAttrs}},function(e){return{setRowAttr100vh:a.bindActionCreators(p.setRowAttr100vh,e),setRowAttrBgcolor:a.bindActionCreators(d.setRowAttrBgcolorAction,e),setSelectedRowGutters:a.bindActionCreators(d.setSelectedRowGuttersAction,e),openModalEditRowClassesHtmlId:a.bindActionCreators(d.openModalEditRowClassesHtmlIdAction,e),openModalEditRowBgVideo:a.bindActionCreators(d.openModalEditRowBgVideoAction,e),openModalEditRowBgImage:a.bindActionCreators(d.openModalEditRowBgImageAction,e),openModalEditRowBgLink:a.bindActionCreators(d.openModalEditRowBgLink,e),setRowAttrs:a.bindActionCreators(d.setRowAttrsAction,e)}})(m)},function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),s=n(5),a=n(4),l=n(7),c=n(71),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){var e=this.props.cont.carousel[0].type,t={};if(this.props.cont.carousel_options.size===s.CarouselOptionsSizeEnum.FIXED_HEIGHT){var n=this.props.cont.carousel_options.fixedHeight;"auto"===n&&(n="500px"),t.paddingBottom="calc("+n+")",t.backgroundSize="contain",t.backgroundRepeat="no-repeat",t.backgroundPosition="center"}else this.props.cont.carousel_options.size===s.CarouselOptionsSizeEnum.USE_CUSTOM_ASPECT_RATIO?(t.paddingBottom=this.props.cont.carousel_options.customAspectRatioH/this.props.cont.carousel_options.customAspectRatioW*100,t.backgroundSize="contain",t.backgroundRepeat="no-repeat",t.backgroundPosition="center"):void 0!==typeof this.props.cont.carousel_options&&void 0!==typeof this.props.cont.carousel_options.customAspectRatio&&!0===this.props.cont.carousel_options.customAspectRatio?(t.paddingBottom=this.props.cont.carousel_options.customAspectRatioH/this.props.cont.carousel_options.customAspectRatioW*100,t.backgroundSize="contain",t.backgroundRepeat="no-repeat",t.backgroundPosition="center"):e===s.ElementTypeEnum.TEXT?t.paddingBottom=56.25:this.props.cont.carousel[0].ar?t.paddingBottom=100*this.props.cont.carousel[0].ar:this.props.cont.carousel[0].h&&this.props.cont.carousel[0].w&&(t.paddingBottom=this.props.cont.carousel[0].h/this.props.cont.carousel[0].w*100),t.paddingBottom=t.paddingBottom+"%";if(this.props.cont.carousel_options.fillSlides&&(t.backgroundSize="cover",t.backgroundPosition="center"),e===s.ElementTypeEnum.TEXT)return i.createElement("div",{className:"placeholder",style:t},i.createElement("div",{className:"text-slide-wrap"},i.createElement("div",{className:l.default.textFormatParentClass,dangerouslySetInnerHTML:{__html:this.props.cont.carousel[0].cont}})));if(this.props.cont.carousel_options.size!==s.CarouselOptionsSizeEnum.ASPECT_RATIO_OF_FIRST_ELEMENT&&this.props.cont.carousel_options.showMultipleSlides||c.slidesWidthRegex.test(this.props.cont.carousel_options.slidesWidth)&&""!==this.props.cont.carousel_options.slidesWidth){for(var o=[],r=0,u=this.props.cont.carousel;r<u.length;r++){var d=u[r];switch(d.type){case"text":o.push(i.createElement("div",{className:"text-slide-wrap"},i.createElement("div",{className:l.default.textFormatParentClass,dangerouslySetInnerHTML:{__html:d.cont}})));break;default:o.push(i.createElement("img",{className:"image-slide-wrap",src:a.getStaticURL(d.cont)}))}}return i.createElement("div",{className:"placeholder show-multiple-slides",style:t},i.createElement("div",{className:"slides-wrapper"},o))}var p=this.props.cont.carousel[0].sizes._1024;return void 0===p&&(p=this.props.cont.carousel[0].cont),"object"==typeof p&&(p=p.url),t.backgroundImage="url("+a.getStaticURL(p)+")",e===s.ElementTypeEnum.HTML5VIDEO?i.createElement("div",{className:"placeholder type-carousel-html5video",style:t},i.createElement("div",{className:"carousel-html5video-play-icon"})):i.createElement("div",{className:"placeholder",style:t})},t}(i.Component);t.default=u},function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),s=n(1),a=n(77),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){var e=[],t=this.props.offsetInRow,n=!1,o=!1;if(null!==this.props.dnd&&this.props.dnd.inStack===this.props.cont.relid||(n=!0),null!==this.props.addElementPosition&&this.props.addElementPosition.inStack===this.props.cont.relid||(o=!0),this.props.cont.cont instanceof Array&&this.props.cont.cont.length>0){for(var r=0;r<this.props.cont.cont.length;r++){if(null!==this.props.dnd&&!n)if(this.props.dnd.relid===this.props.cont.cont[r].relid){!0;var s=t+this.props.elementsHeight[this.props.cont.cont[r].relid];this.props.cont.cont.length>r+1&&(s+=this.props.elementsHeight[this.props.cont.cont[r+1].relid]/2),this.props.dnd.offsetInRow<s&&(n=!0)}else this.props.dnd.offsetInRow<t+this.props.elementsHeight[this.props.cont.cont[r].relid]/2&&(e.push(i.createElement("div",{key:-1,className:"lay-stack-dnd-element"})),n=!0);null===this.props.addElementPosition||o||(this.props.addElementPosition.col>=this.props.cont.col+this.props.cont.colspan||this.props.addElementPosition.col<this.props.cont.col?o=!0:this.props.addElementPosition.rowOffset<t+this.props.elementsHeight[this.props.cont.cont[r].relid]/2&&(e.push(i.createElement("div",{key:-1,className:"lay-stack-insert-element"})),o=!0)),e.push(i.createElement("div",{className:"lay-stack-element",key:r},i.createElement(a.default,{width:this.props.width,showContextMenuElement:this.props.showContextMenuElement,hideContextMenuElement:this.props.hideContextMenuElement,key:r,index:r,cont:this.props.cont.cont[r],insideStack:!0}))),t+=this.props.elementsHeight[this.props.cont.cont[r].relid]}n||0!==this.props.cont.cont.length&&this.props.dnd.relid===this.props.cont.cont[this.props.cont.cont.length-1].relid?o||e.push(i.createElement("div",{key:-1,className:"lay-stack-insert-element"})):e.push(i.createElement("div",{key:-1,className:"lay-stack-dnd-element"}))}var l={};0===this.props.cont.cont.length&&(l.height="75px");var c=e;if(null!==this.props.resize&&this.props.cont.relid===this.props.resize.relid){var u={};this.props.resize.directionIsLeft?this.props.resize.diffX<0?(u.paddingLeft=-this.props.resize.diffX+"px",u.width="100%"):(u.transform="translateX("+-this.props.resize.diffX+"px)",u.width="calc(100% + "+this.props.resize.diffX+"px)"):this.props.resize.diffX<0?u.width="calc(100% + "+-this.props.resize.diffX+"px)":(u.paddingRight=this.props.resize.diffX+"px",u.width="100%"),c=i.createElement("div",{style:u},e)}var d="lay-stack";return null!==this.props.addElementPosition&&this.props.addElementPosition.droppable&&(d+=" in-stack-droppable"),i.createElement("div",{className:d,style:l},c)},t}(i.Component);t.Stack=l,t.default=s.connect(function(e,t){return{dnd:e.dnd,resize:e.resize,elementsHeight:e.elementsHeight,addElementPosition:e.addElementPosition}})(l)},function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),s=n(4),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){var e=s.trunc(this.props.cont,300);return i.createElement("pre",null,i.createElement("code",{className:"lay-shortcode"},e))},t}(i.Component);t.default=a},function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){return i.createElement("div",{className:"lay-hr"})},t}(i.Component);t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=hljs},function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),s=n(222),a=n(4),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.componentDidMount=function(){s.default.highlightBlock(this.domCode)},t.prototype.componentDidUpdate=function(e,t){this.props.cont!==e.cont&&s.default.highlightBlock(this.domCode)},t.prototype.render=function(){var e=this,t=a.trunc(this.props.cont,300);return i.createElement("pre",null,i.createElement("code",{className:"html",ref:function(t){return e.domCode=t}},t))},t}(i.Component);t.default=l},function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),s=n(4),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.componentDidUpdate=function(e,t){this.props.cont!==e.cont&&s.processInstagramEmbeds()},t.prototype.render=function(){var e=this.props.w,t=this.props.h;if(0!==e&&0!==t){var n={paddingBottom:100*t/e+"%"};return i.createElement("div",{className:"placeholder",style:n,dangerouslySetInnerHTML:{__html:this.props.cont}})}return i.createElement("div",{dangerouslySetInnerHTML:{__html:this.props.cont}})},t}(i.Component);t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=!1;return function(o){n||(e(o),n=!0,setTimeout(function(){n=!1},t))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(8),r=n(5),i=n(11),s=n(4),a=n(20);t.moveResize=function(e){return function(t,n){var l=n();if(null!==l.resize&&(0!==e.clientX||0!==a.default.polyFillClientX)){var c=e.clientX,u=e.clientY;0===c&&0===u&&(c=a.default.polyFillClientX,u=a.default.polyFillClientY);for(var d=c-l.resize.mouseStartX,p=i.getColAndGutterInPx(l.contentWrapperWidth,l.currentLayout,l.json_field.colCount,l.json_field.colGutter,l.json_field.frameMargin),h=i.getMeasureInPx(i.MeasureUnitEnum.FRAME,l.json_field.frameMargin,l.contentWrapperWidth,l.currentLayout),f=d,m=-1,g=-1,y=-1,E=-1,b="",_=!0,v=0,w=l.json_field.cont;v<w.length;v++){var O=w[v];if(O.relid===l.resize.relid){if(y=h+(m=O.col)*p,E=(g=O.colspan)*p-i.getPctMeasureInPx(l.json_field.colGutter,l.contentWrapperWidth),O.type===r.ElementTypeEnum.STACK)break;_=!1,s.isFrameOverflowLeft(O.frameOverflow)&&(E+=h,y-=h,b="left"),s.isFrameOverflowRight(O.frameOverflow)&&(E+=h,b=s.isFrameOverflowLeft(b)?"both":"right");break}if(O.type===r.ElementTypeEnum.STACK)for(var C=0,A=O.cont;C<A.length;C++){var T=A[C];if(T.relid===l.resize.relid){m=T.col+O.col,g=T.colspan,y=T.col*p,E=g*p-i.getPctMeasureInPx(l.json_field.colGutter,l.contentWrapperWidth);break}}}l.resize.directionIsLeft?s.isFrameOverflowLeft(b)&&(f-=h):s.isFrameOverflowRight(b)&&(f+=h);var S=Math.round(f/p),N=g,k=m;if(l.resize.directionIsLeft){if((k+=S)<=0){var j=-h/2>f+p*(k-S);b=s.mergeFrameOverflowLeft(b,j),k=0}else b=s.mergeFrameOverflowLeft(b,!1);k>=m+g&&(k=m+g-1),N+=m-k,y+=d,E-=d,l.resize.altKeyPressed&&(E-=d,N+=m-k)}else if(N+=S,E+=d,l.resize.altKeyPressed&&(E+=d,y-=d,k-=S,N+=S),N<1&&(N=1),N+k>=l.json_field.colCount){var M=h/2<f-p*(l.json_field.colCount-(k+N-S));b=s.mergeFrameOverflowRight(b,M),N=l.json_field.colCount-k}else b=s.mergeFrameOverflowRight(b,!1);_&&(b=""),t({type:o.MOVE_RESIZE,col:k,colspan:N,frameOverflow:b,left:y,width:E,diffX:d})}}},t.endResize=function(e){return function(t,n){t({type:o.END_RESIZE,event:e})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(20),r=n(8),i=n(5),s=n(15),a=n(11),l=n(2),c=n(16);t.moveDnd=function(e){return function(t,n){var s=n();if(null!==s.dnd&&(0!==e.clientX||0!==o.default.polyFillClientX)){var l=e.clientX,c=e.clientY;0===l&&0===c&&(l=o.default.polyFillClientX,c=o.default.polyFillClientY);for(var u=l-s.dnd.mouseStartX,d=a.getMeasureInPct(a.MeasureUnitEnum.FRAME,s.json_field.frameMargin,s.contentWrapperWidth,s.currentLayout),p=a.getColAndGutterInPct(s.contentWrapperWidth,s.currentLayout,s.json_field.colCount,s.json_field.colGutter,s.json_field.frameMargin),h=-1,f=0,m=s.json_field.cont;f<m.length;f++){var g=m[f];if(g.relid===s.dnd.relid)h=g.col;else if(g.type===i.ElementTypeEnum.STACK)for(var y=0,E=g.cont;y<E.length;y++){var b=E[y];if(b.relid===s.dnd.relid){h=g.col+b.col;break}}if(-1!==h)break}for(var _=h*p+d+100*u/s.contentWrapperWidth,v=-1,w=d+(s.json_field.colGutter+p)/2,O=0;O<s.json_field.colCount&&(v=O,!(w>=_));O++)w+=p;for(var C=s.dnd.row,A=s.dnd.offsetInRow,T=c-document.getElementById("content-wrap").getBoundingClientRect().top,S=0;S<s.rowCount;S++)if(s.rowsTop[S]<=T&&s.rowsTop[S]+s.rowsHeight[S]>=T){C=S,A=T-s.rowsTop[S];break}v===s.dnd.col&&C===s.dnd.row&&A===s.dnd.offsetInRow||t({type:r.MOVE_DND,row:C,col:v,offsetInRow:A})}}},t.endDnd=function(e){return function(t,n){var o=n();null!==o.dnd&&!1===o.dnd.insertable&&t(l.setNoticeAction(c.default.cannotPutElementThere)),t({type:r.END_DND,event:e}),t(s.updateRowsHeight())}}},function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),s=n(1),a=n(3),l=n(18),c=n(2),u=n(15),d=n(77),p=n(7),h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onResizeThrottle=l.throttle(t.onResize.bind(t),p.default.throttleResize),t}return r(t,e),t.prototype.render=function(){for(var e=this,t=[],n=0;n<this.props.cont.length;n++)t.push(i.createElement(d.default,{showContextMenuElement:this.props.showContextMenuElement,hideContextMenuElement:this.props.hideContextMenuElement,key:n,index:n,cont:this.props.cont[n],insideStack:!1}));var o={top:this.props.headerHeight};return i.createElement("div",{id:"content-wrap",style:o,ref:function(t){e.domElement=t}},t)},t.prototype.componentDidMount=function(){window.addEventListener("resize",this.onResizeThrottle),this.onResizeThrottle()},t.prototype.componentDidUpdate=function(){this.onResizeThrottle()},t.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.onResizeThrottle)},t.prototype.onResize=function(){this.props.setContentWrapperWidth(this.domElement.offsetWidth),this.props.updateRowsTop()},t}(i.Component);t.default=s.connect(function(e,t){return{cont:e.json_field.cont,frameMargin:e.json_field.frameMargin,headerHeight:e.headerHeight}},function(e){return{setContentWrapperWidth:a.bindActionCreators(c.setContentWrapperWidthAction,e),updateRowsTop:a.bindActionCreators(u.updateRowsTop,e)}})(h)},function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),s=n(1),a=n(7),l=n(11),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){var e=[],t=l.getColInPct(this.props.contentWrapperWidth,this.props.currentLayout,this.props.colCount,this.props.colGutter,this.props.frameMargin),n=!1,o=-1,r=-1,s=!1;null!==this.props.dnd?this.props.row===this.props.dnd.row&&(n=!0,o=this.props.dnd.col,r=this.props.dnd.colspan,s=this.props.dnd.insertable):null!==this.props.resize?this.props.row!==this.props.resize.row&&this.props.row!==this.props.resize.rowOfStack||(n=!0,o=this.props.resize.col,r=this.props.resize.colspan,s=this.props.resize.resizable):null!==this.props.addElementPosition&&this.props.row===this.props.addElementPosition.row&&(n=!0,o=this.props.addElementPosition.col,r=this.props.addElementPosition.colspan,s=this.props.addElementPosition.droppable);for(var c=2,u=0;u<this.props.colCount;c+=2,u++){var d={width:t+"%"};2===c&&(d.marginLeft=this.props.frameMargin+l.getMuOf(l.MeasureUnitEnum.FRAME,this.props.currentLayout)),this.props.guidesVisibility&&this.props.colCount%2==1&&c===this.props.colCount+1?d.backgroundColor=a.default.backgroundColor.columnsMiddle:n&&r+o>u&&1+u>o&&(s?(d.backgroundColor=a.default.backgroundColor.columnsInsertable,d.cursor="pointer"):d.backgroundColor=a.default.backgroundColor.columnsNotInsertable),e.push(i.createElement("div",{className:"column",style:d,key:c})),d={width:this.props.colGutter+"%"},this.props.guidesVisibility&&this.props.colCount%2==0&&c===this.props.colCount&&(d.backgroundColor=a.default.backgroundColor.columnsMiddle),e.push(i.createElement("div",{className:"column-gutter",style:d,key:c+1}))}return i.createElement("div",{className:"columns-wrap"},e)},t}(i.Component);t.default=s.connect(function(e,t){return{colCount:e.json_field.colCount,colGutter:e.json_field.colGutter,frameMargin:e.json_field.frameMargin,dnd:e.dnd,resize:e.resize,addElementPosition:e.addElementPosition,guidesVisibility:e.guidesVisibility,contentWrapperWidth:e.contentWrapperWidth,currentLayout:e.currentLayout}})(c)},function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),s=n(1),a=n(3),l=n(229),c=n(2),u=n(78),d=n(7),p=n(4),h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.handleSelect=function(e){if(e.stopPropagation(),e.metaKey)this.props.toggleSelectedRowGutter(this.props.row);else if(e.shiftKey){for(var t=this.props.row,n=this.props.row,o=0,r=this.props.selectedRowGutters;o<r.length;o++){var i=r[o];i<t?t=i:i>n&&(n=i)}for(var s=[],a=t;a<=n;a++)s.push(a);this.props.setSelectedRowGutters(s),document.getSelection().removeAllRanges()}else 1===this.props.selectedRowGutters.length&&this.props.selectedRowGutters[0]===this.props.row?this.props.setSelectedRowGutters([]):this.props.setSelectedRowGutters([this.props.row]);var l=document.querySelector(".gridder-header .group-row-gutter input");setTimeout(function(){l.select(),l.focus()},0)},t.prototype.handleContext=function(e){var t=e.clientX,n=e.clientY;e.preventDefault(),this.props.showContextMenuRow(this.props.row,t,n)},t.prototype.render=function(){var e=this,t={},n={},o={},r=this.props.rowGutterAfterInPx/2,s=this.props.rowGutterBeforeInPx/2;0!==this.props.row&&(t.top="-"+s+"px");var a=this.props.rowHeight+s+r,c={top:a/2+"px",marginTop:-s-13+"px"};this.props.rowHeight<=d.default.smallRowHeight?(n={top:a/2+10+"px",marginTop:-s-13+"px"},o={top:a/2-11+"px",marginTop:-s-13+"px"}):(n={bottom:r+12+"px"},o={top:24-s+"px"}),this.props.last&&(n.display="none");var u={};this.props.last||0===this.props.rowGutterAfterInPx||(u={paddingBottom:this.props.rowGutterAfterInPx+"px"});var h={height:this.props.rowHeight+"px"},f="row-wrap";this.props.rowHeight<=d.default.smallRowHeight&&(f+=" small-row");var m="rowgutter";this.props.selectedRowGutters.indexOf(this.props.row)>=0&&(m+=" selected-rowgutter");var g=null;if(null!==this.props.bgvideo){var y="background-video ";this.props.rowHeight/this.props.contentWrapperWidth<this.props.bgvideo.mp4Ar?y+="w100":y+="h100",g=i.createElement("video",{className:y,"data-ar":this.props.bgvideo.mp4Ar,preload:"",muted:!0,autoPlay:!0,loop:!0},i.createElement("source",{src:p.getStaticURL(this.props.bgvideo.mp4),type:"video/mp4"}))}var E={};null!==this.props.bgimage&&(E.backgroundImage="url("+p.getStaticURL(this.props.bgimage.url)+")"),null!==this.props.bgColor&&(E.backgroundColor=this.props.bgColor);var b=null;return this.props.rowCount>1&&(b=i.createElement("button",{type:"button",className:"btn btn-default btn-xs delete-row",onClick:function(){return e.props.deleteRow(e.props.row)},style:c,title:"Delete Row"},i.createElement("span",{className:"icon-cross"}))),i.createElement("div",{className:f,style:E,onContextMenu:function(t){return e.handleContext(t)}},i.createElement("div",{className:"row"+(this.props.is100vh?" _100vh":""),style:h},i.createElement(l.default,{row:this.props.row}),g),i.createElement("div",{className:m,style:u,onClick:function(t){return e.handleSelect(t)}}),i.createElement("div",{className:"row-buttons"},i.createElement("button",{type:"button",className:"btn btn-default btn-xs add-row",onClick:function(){return e.props.insertRow(e.props.row)},style:t,title:"Add Row"},i.createElement("span",{className:"icon-plus"})),i.createElement("button",{type:"button",className:"btn btn-default btn-xs moveup-row",onClick:function(){return e.props.moveUpRow(e.props.row)},style:o,title:"Move Up"},i.createElement("span",{className:"icon-arrow-up"})),b,i.createElement("button",{type:"button",className:"btn btn-default btn-xs movedown-row",onClick:function(){return e.props.moveDownRow(e.props.row)},style:n,title:"Move Down"},i.createElement("span",{className:"icon-arrow-down"}))))},t}(i.Component);t.default=s.connect(function(e,t){return{contentWrapperWidth:e.contentWrapperWidth,selectedRowGutters:e.selectedRowGutters,rowCount:e.rowCount}},function(e){return{insertRow:a.bindActionCreators(u.insertRow,e),moveUpRow:a.bindActionCreators(u.moveUpRow,e),deleteRow:a.bindActionCreators(u.deleteRow,e),moveDownRow:a.bindActionCreators(u.moveDownRow,e),toggleSelectedRowGutter:a.bindActionCreators(c.toggleSelectedRowGutterAction,e),setSelectedRowGutters:a.bindActionCreators(c.setSelectedRowGuttersAction,e)}})(h)},function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),s=n(1),a=n(3),l=n(230),c=n(2),u=n(78),d=n(11),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onHandleClickBind=function(e){return t.onHandleClick(e)},t}return r(t,e),t.prototype.componentDidMount=function(){window.addEventListener("click",this.onHandleClickBind)},t.prototype.componentWillUnmount=function(){window.removeEventListener("click",this.onHandleClickBind)},t.prototype.onHandleClick=function(e){this.props.setSelectedRowGutters([])},t.prototype.render=function(){for(var e=this,t=[],n=0;n<this.props.rowCount;n++){var o=!1,r=null;void 0!==this.props.rowAttrs[n]&&null!==this.props.rowAttrs[n]&&(!0===this.props.rowAttrs[n].row100vh&&(o=!0),null!==this.props.rowAttrs[n].bgcolor&&void 0!==this.props.rowAttrs[n].bgcolor&&""!==this.props.rowAttrs[n].bgcolor&&(r=this.props.rowAttrs[n].bgcolor));var s=0,a=0;n>0&&(s=d.getMeasureInPx(d.MeasureUnitEnum.ROW_GUTTER,this.props.rowGutters[n-1],this.props.contentWrapperWidth,this.props.currentLayout)),n<this.props.rowGutters.length&&(a=d.getMeasureInPx(d.MeasureUnitEnum.ROW_GUTTER,this.props.rowGutters[n],this.props.contentWrapperWidth,this.props.currentLayout));var c=null;this.props.rowAttrs.length>n&&this.props.rowAttrs[n].hasOwnProperty("bgimage")&&(c=this.props.rowAttrs[n].bgimage);var u=null;this.props.rowAttrs.length>n&&this.props.rowAttrs[n].hasOwnProperty("bgvideo")&&(u=this.props.rowAttrs[n].bgvideo),t.push(i.createElement(l.default,{key:n,row:n,last:n===this.props.rowGutters.length,is100vh:o,bgColor:r,showContextMenuRow:this.props.showContextMenuRow,bgimage:c,bgvideo:u,rowGutterAfterInPx:a,rowGutterBeforeInPx:s,rowHeight:this.props.rowsHeight[n]}))}var p={marginBottom:this.props.bottomFrameMargin+d.getMuOf(d.MeasureUnitEnum.BOTTOM_FRAME,this.props.currentLayout)},h={padding:this.props.topFrameMargin+d.getMuOf(d.MeasureUnitEnum.TOP_FRAME,this.props.currentLayout)+" 0 "+this.props.bottomFrameMargin+d.getMuOf(d.MeasureUnitEnum.BOTTOM_FRAME,this.props.currentLayout),marginTop:this.props.headerHeight};return i.createElement("div",{id:"rows-wrap",style:h,onDragOver:function(e){return e.preventDefault()}},i.createElement("div",{className:"rows"},t),i.createElement("button",{type:"button",className:"btn btn-default btn-xs add-last-row",title:"Add Row",style:p,onClick:function(){return e.props.insertRow(e.props.rowCount)}},i.createElement("span",{className:"icon-plus"})))},t}(i.Component);t.default=s.connect(function(e,t){return{topFrameMargin:e.json_field.topFrameMargin,bottomFrameMargin:e.json_field.bottomFrameMargin,rowAttrs:e.json_field.rowAttrs,rowGutters:e.json_field.rowGutters,rowsHeight:e.rowsHeight,rowCount:e.rowCount,contentWrapperWidth:e.contentWrapperWidth,headerHeight:e.headerHeight,currentLayout:e.currentLayout}},function(e){return{insertRow:a.bindActionCreators(u.insertRow,e),setSelectedRowGutters:a.bindActionCreators(c.setSelectedRowGuttersAction,e)}})(p)},function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),s=n(1),a=n(3),l=n(11),c=n(231),u=n(228),d=n(217),p=n(216),h=n(215),f=n(2),m=n(10),g=n(15),y=function(e){function t(t){var n=e.call(this,t)||this;return n.onKeydownHandleBind=function(e){return n.onKeydownHandle(e)},n.state={row:-1,relid:-1,posX:0,posY:0},n}return r(t,e),t.prototype.componentDidMount=function(){window.addEventListener("keydown",this.onKeydownHandleBind),this.props.initRowAttrs(),this.props.updateRowsHeight()},t.prototype.componentWillUnmount=function(){window.removeEventListener("keydown",this.onKeydownHandleBind)},t.prototype.showContextMenuRow=function(e,t,n){var o=this;setTimeout(function(){o.setState({relid:-1,row:e,posX:t,posY:n})},0)},t.prototype.hideContextMenuRow=function(){-1!==this.state.row&&this.setState({row:-1})},t.prototype.showContextMenuElement=function(e,t,n){var o=this;setTimeout(function(){o.setState({row:-1,relid:e,posX:t,posY:n})},0)},t.prototype.hideContextMenuElement=function(){-1!==this.state.relid&&this.setState({relid:-1})},t.prototype.onKeydownHandle=function(e){8!==e.keyCode&&46!==e.keyCode||0!==this.props.selectedElementsId.length&&-1===this.state.relid&&-1===this.state.row&&(this.props.deleteElements(this.props.selectedElementsId),this.props.setSelectedElementsId([]))},t.prototype.render=function(){var e="guides";!1===this.props.guidesVisibility&&(e="preview"),"desktop"!==this.props.currentLayout&&(e+=" show-phone-version");var t={paddingBottom:this.props.topFrameMargin+l.getMuOf(l.MeasureUnitEnum.TOP_FRAME,this.props.currentLayout),top:this.props.headerHeight+"px"},n={width:this.props.frameMargin+l.getMuOf(l.MeasureUnitEnum.FRAME,this.props.currentLayout)},o={paddingBottom:this.props.bottomFrameMargin+l.getMuOf(l.MeasureUnitEnum.BOTTOM_FRAME,this.props.currentLayout)},r={};return null!==this.props.bgColor&&(r.backgroundColor=this.props.bgColor),i.createElement("div",{id:"gridder-wrap",style:r,className:e},i.createElement("div",{className:"button-background"}),i.createElement("div",{className:"left-frame",style:n}),i.createElement("div",{className:"right-frame",style:n}),i.createElement("div",{className:"top-frame",style:t}),i.createElement("div",{className:"bottom-frame",style:o}),i.createElement(c.default,{showContextMenuRow:this.showContextMenuRow.bind(this)}),i.createElement(u.default,{showContextMenuElement:this.showContextMenuElement.bind(this),hideContextMenuElement:this.hideContextMenuElement.bind(this)}),i.createElement(d.default,{row:this.state.row,posX:this.state.posX,posY:this.state.posY,hideContextMenuRow:this.hideContextMenuRow.bind(this)}),-1!==this.state.relid&&i.createElement(p.default,{relid:this.state.relid,posX:this.state.posX,posY:this.state.posY,hideContextMenuElement:this.hideContextMenuElement.bind(this)}),null!==this.props.addElements&&i.createElement(h.default,null))},t}(i.Component);t.default=s.connect(function(e,t){return{frameMargin:e.json_field.frameMargin,topFrameMargin:e.json_field.topFrameMargin,bottomFrameMargin:e.json_field.bottomFrameMargin,guidesVisibility:e.guidesVisibility,currentLayout:e.currentLayout,headerHeight:e.headerHeight,bgColor:e.json_field.bgColor,addElements:e.addElements,notice:e.notice,selectedElementsId:e.selectedElementsId}},function(e){return{deleteElements:a.bindActionCreators(m.deleteElements,e),setSelectedElementsId:a.bindActionCreators(f.setSelectedElementsIdAction,e),initRowAttrs:a.bindActionCreators(f.initRowAttrsAction,e),updateRowsHeight:a.bindActionCreators(g.updateRowsHeight,e)}})(y)},function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),s=n(1),a=n(3),l=n(2),c=n(5),u=n(6),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.changeGridderBind=function(){return t.changeGridder()},t.changePhoneGridderBind=function(){return t.changePhoneGridder()},t.gridderJsonField=document.getElementById("gridder_json_field"),t.phoneGridderJsonField=document.getElementById("phone_gridder_json_field"),t.fieldChanged=!1,t}return r(t,e),t.prototype.componentDidMount=function(){document.getElementById("gridder_json_field").addEventListener("input",this.changeGridderBind),document.getElementById("phone_gridder_json_field").addEventListener("input",this.changePhoneGridderBind)},t.prototype.componentDidUpdate=function(){this.fieldChanged||(this.fieldChanged=!0,"post"===u.default.screenBase&&jQuery(window).off("beforeunload.edit-post").on("beforeunload.edit-post",function(){return"Leave the page?"}))},t.prototype.componentWillUnmount=function(){document.getElementById("gridder_json_field").removeEventListener("input",this.changeGridderBind),document.getElementById("phone_gridder_json_field").removeEventListener("input",this.changePhoneGridderBind)},t.prototype.changeGridder=function(){try{var e=document.getElementById("gridder_json_field").value;if(""!==e){var t=c.castJsonFieldType(JSON.parse(e));this.props.setGridderJsonField(t)}}catch(e){}},t.prototype.changePhoneGridder=function(){try{var e=document.getElementById("phone_gridder_json_field").value;if(""!==e){var t=c.castJsonFieldType(JSON.parse(e));this.props.setPhoneGridderJsonField(t)}}catch(e){}},t.prototype.shouldComponentUpdate=function(e,t){var n=e.gridder_json_field,o=e.phone_gridder_json_field;"desktop"===e.currentLayout?n=e.json_field:o=e.json_field;var r,i="";return r=JSON.stringify(n,void 0,2),null!==o&&(i=JSON.stringify(o,void 0,2)),this.gridderJsonField.value!==r||this.phoneGridderJsonField.value!==i},t.prototype.render=function(){var e=this.props.gridder_json_field,t=this.props.phone_gridder_json_field;"desktop"===this.props.currentLayout?e=this.props.json_field:t=this.props.json_field,this.gridderJsonField.value=JSON.stringify(e,void 0,2);var n="";return null!==t&&(n=JSON.stringify(t,void 0,2)),this.phoneGridderJsonField.value=n,null},t}(i.Component);t.default=s.connect(function(e,t){return{json_field:e.json_field,gridder_json_field:e.gridder_json_field,phone_gridder_json_field:e.phone_gridder_json_field,currentLayout:e.currentLayout}},function(e){return{setGridderJsonField:a.bindActionCreators(l.setGridderJsonFieldAction,e),setPhoneGridderJsonField:a.bindActionCreators(l.setPhoneGridderJsonFieldAction,e)}})(d)},function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),s=n(1),a=n(3),l=n(16),c=n(7),u=n(2),d=function(e){function t(t){var n=e.call(this,t)||this;return n.timeoutShowId=-1,n.timeoutAnimateId=-1,null===t.notice?n.state={text:"",show:!1}:(n.state={text:n.getText(t.notice),show:!0},n.timeoutShowId=window.setTimeout(n.animateOff.bind(n),c.default.noticeShowTimeout)),n}return r(t,e),t.prototype.clearTimeoutShow=function(){-1!==this.timeoutShowId&&(clearTimeout(this.timeoutShowId),this.timeoutShowId=-1)},t.prototype.clearTimeoutAnimate=function(){-1!==this.timeoutAnimateId&&(clearTimeout(this.timeoutAnimateId),this.timeoutAnimateId=-1)},t.prototype.componentWillReceiveProps=function(e){if(this.clearTimeoutAnimate(),this.clearTimeoutShow(),null===e.notice)this.setState({text:"",show:!1});else{this.timeoutShowId=window.setTimeout(this.animateOff.bind(this),c.default.noticeShowTimeout);var t=this.getText(e.notice);""===this.state.text||this.state.text.includes(t)||(t=this.state.text+"<br />"+t),this.setState({text:t,show:!0})}},t.prototype.componentWillUnmount=function(){this.clearTimeoutAnimate(),this.clearTimeoutShow()},t.prototype.animateOff=function(){this.clearTimeoutShow(),this.clearTimeoutAnimate(),this.timeoutAnimateId=window.setTimeout(this.close.bind(this),c.default.noticeAnimateTimeout),this.setState({show:!1})},t.prototype.close=function(){this.props.unsetNotice()},t.prototype.getText=function(e){var t=l.noticeTexts[e];return void 0!==t&&null!==t?t:"undefined notice"},t.prototype.render=function(){var e="alert alert-warning gridder-notice";return this.state.show&&(e+=" show"),i.createElement("div",{className:e,role:"alert",style:{top:this.props.headerHeight+1},dangerouslySetInnerHTML:{__html:this.state.text}})},t}(i.Component);t.default=s.connect(function(e,t){return{notice:e.notice,headerHeight:e.headerHeight}},function(e){return{unsetNotice:a.bindActionCreators(u.unsetNoticeAction,e)}})(d)},function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),s=n(1),a=n(3),l=n(2),c=n(6),u=n(9),d=function(e){function t(t){var n=e.call(this,t)||this;return n.handleClickBind=function(e){return n.handleClick(e)},n.handleClearClick=n.handleClearClick.bind(n),n}return r(t,e),t.prototype.handleClick=function(e){this.props.hidden||e.target===this.domElement||this.domElement.contains(e.target)||this.props.hideColorpickerDropDown()},t.prototype.handleClearClick=function(){this.props.setBackgroundColor(null),u.default(".background-colorpicker-input").val(""),this.props.hideColorpickerDropDown()},t.prototype.componentDidMount=function(){var e=this;window.document.addEventListener("click",this.handleClickBind),u.default(".background-colorpicker-input").iris({hide:!1,palettes:c.default.bgColorPalette,change:function(t,n){e.props.setBackgroundColor(n.color.toString())},target:".background-colorpicker"})},t.prototype.componentDidUpdate=function(){null!=this.props.bgColor&&u.default(".background-colorpicker-input").iris("color",this.props.bgColor)},t.prototype.componentWillUnmount=function(){window.document.removeEventListener("click",this.handleClickBind)},t.prototype.render=function(){var e=this,t={};return t=this.props.hidden?{display:"none"}:{left:this.props.posX,top:this.props.posY},i.createElement("div",{className:"lay-dropdown-wrap set-background-color-dropdown",style:t,ref:function(t){e.domElement=t}},i.createElement("div",{className:"background-colorpicker",ref:function(t){e.colorpickerElement=t}}),i.createElement("div",{className:"background-color-input-and-clear-wrap"},i.createElement("input",{type:"text",className:"background-colorpicker-input"}),i.createElement("button",{onClick:this.handleClearClick,type:"button",className:"btn btn-default btn-sm background-color-clear-color"},"Clear")))},t}(i.Component);t.default=s.connect(function(e,t){return{bgColor:e.json_field.bgColor}},function(e){return{openModalAddAction:a.bindActionCreators(l.openModalAddAction,e),setBackgroundColor:a.bindActionCreators(l.setBackgroundColorAction,e)}})(d)},function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),s=n(1),a=n(3),l=n(2),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClickBind=function(e){return t.handleClick(e)},t}return r(t,e),t.prototype.handleClick=function(e){this.props.hidden||e.target===this.domElement||this.domElement.contains(e.target)||this.props.hideDeletePhoneLayoutDropDown()},t.prototype.componentDidMount=function(){window.document.addEventListener("click",this.handleClickBind)},t.prototype.componentWillUnmount=function(){window.document.removeEventListener("click",this.handleClickBind)},t.prototype.handleClickDeletePhoneLayout=function(){this.props.openModalAddAction("deletePhoneLayout"),this.props.hideDeletePhoneLayoutDropDown()},t.prototype.render=function(){var e=this,t={};return t=this.props.hidden?{display:"none"}:{left:this.props.posX,top:this.props.posY},i.createElement("div",{className:"lay-breakpoints-options-buttons-wrap lay-dropdown-wrap",style:t,ref:function(t){e.domElement=t},role:"group"},i.createElement("div",{className:"btn-group-vertical btn-group-sm"},i.createElement("button",{type:"button",className:"btn btn-default",onClick:function(){return e.handleClickDeletePhoneLayout()}},i.createElement("span",{className:"glyphicon glyphicon-trash"})," Delete phone layout")))},t}(i.Component);t.default=s.connect(function(e,t){return{}},function(e){return{openModalAddAction:a.bindActionCreators(l.openModalAddAction,e)}})(c)},function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),s=n(1),a=n(3),l=n(11),c=n(4),u=n(19),d=n(6),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClickBind=function(e){return t.handleClick(e)},t}return r(t,e),t.prototype.handleClick=function(e){this.props.hidden||e.target===this.domElement||this.domElement.contains(e.target)||this.props.hideSetFrameDropDown()},t.prototype.componentDidMount=function(){window.document.addEventListener("click",this.handleClickBind)},t.prototype.componentWillUnmount=function(){window.document.removeEventListener("click",this.handleClickBind)},t.prototype.handleTopChange=function(e){this.props.changeTopFrameMargin(Number(e.target.value)),e.target.value=this.props.topFrameMargin},t.prototype.handleBottomChange=function(e){this.props.changeBottomFrameMargin(Number(e.target.value)),e.target.value=this.props.topFrameMargin},t.prototype.handleChange=function(e){this.props.changeFrameMargin(Number(e.target.value)),e.target.value=this.props.topFrameMargin},t.prototype.render=function(){var e=this,t={};t=this.props.hidden?{display:"none"}:{left:this.props.posX,top:this.props.posY};var n=.1,o=c.precisionRound(this.props.topFrameMargin,1);l.isMuInPx(l.MeasureUnitEnum.TOP_FRAME,this.props.currentLayout)&&(n=1,o=c.precisionRound(this.props.topFrameMargin,0));var r=.1,s=c.precisionRound(this.props.frameMargin,1);l.isMuInPx(l.MeasureUnitEnum.FRAME,this.props.currentLayout)&&(r=1,s=c.precisionRound(this.props.frameMargin,0));var a=.1,u=c.precisionRound(this.props.bottomFrameMargin,1);return l.isMuInPx(l.MeasureUnitEnum.BOTTOM_FRAME,this.props.currentLayout)&&(a=1,u=c.precisionRound(this.props.bottomFrameMargin,0)),i.createElement("div",{className:"frame-settings-wrap lay-dropdown-wrap",style:t,ref:function(t){e.domElement=t}},i.createElement("div",{className:"group-frame"},i.createElement("span",{className:"prefix"},"Top Frame"),i.createElement("input",{onChange:function(t){return e.handleTopChange(t)},value:o,type:"number",min:"0",max:"999",step:n,id:"top-frame",className:"top-frame-input top-frame-input-js",disabled:"1"===d.default.disableInputs}),i.createElement("span",{className:"postfix"},l.getMuOf(l.MeasureUnitEnum.TOP_FRAME,this.props.currentLayout))),i.createElement("div",{className:"group-frame"},i.createElement("span",{className:"prefix"},"Left, Right Frame"),i.createElement("input",{onChange:function(t){return e.handleChange(t)},value:s,type:"number",min:"0",max:"999",step:r,id:"frame",className:"frame-input frame-input-js",disabled:"1"===d.default.disableInputs}),i.createElement("span",{className:"postfix"},l.getMuOf(l.MeasureUnitEnum.FRAME,this.props.currentLayout))),i.createElement("div",{className:"group-frame"},i.createElement("span",{className:"prefix"},"Bottom Frame"),i.createElement("input",{onChange:function(t){return e.handleBottomChange(t)},value:u,type:"number",min:"0",max:"999",step:a,id:"bottom-frame",className:"bottom-frame-input bottom-frame-input-js",disabled:"1"===d.default.disableInputs}),i.createElement("span",{className:"postfix"},l.getMuOf(l.MeasureUnitEnum.BOTTOM_FRAME,this.props.currentLayout))))},t}(i.Component);t.default=s.connect(function(e,t){return{frameMargin:e.json_field.frameMargin,topFrameMargin:e.json_field.topFrameMargin,bottomFrameMargin:e.json_field.bottomFrameMargin,currentLayout:e.currentLayout}},function(e){return{changeFrameMargin:a.bindActionCreators(u.changeFrameMargin,e),changeTopFrameMargin:a.bindActionCreators(u.changeTopFrameMargin,e),changeBottomFrameMargin:a.bindActionCreators(u.changeBottomFrameMargin,e)}})(p)},function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),s=n(1),a=n(3),l=n(5),c=n(2),u=n(6),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClickBind=function(e){return t.handleClick(e)},t}return r(t,e),t.prototype.handleClick=function(e){this.props.hidden||e.target===this.domElement||this.domElement.contains(e.target)||this.props.hideAddMoreDropDown()},t.prototype.componentDidMount=function(){window.document.addEventListener("click",this.handleClickBind)},t.prototype.componentWillUnmount=function(){window.document.removeEventListener("click",this.handleClickBind)},t.prototype.handleClickOpenModalAdd=function(e){this.props.openModalAdd(e),this.props.hideAddMoreDropDown()},t.prototype.handleClickStack=function(){this.props.setAddElements([{type:l.ElementTypeEnum.STACK,cont:[]}]),this.props.hideAddMoreDropDown()},t.prototype.handleClickHr=function(){this.props.setAddElements([{type:l.ElementTypeEnum.HORIZONTAL_LINE}]),this.props.hideAddMoreDropDown()},t.prototype.render=function(){var e=this,t={};t=this.props.hidden?{display:"none"}:{left:this.props.posX,top:this.props.posY};var n=[];return u.default.plugins.carousel&&n.push(i.createElement("button",{type:"button",className:"btn btn-default",onClick:function(){return e.handleClickOpenModalAdd(l.ElementTypeEnum.CAROUSEL)}},i.createElement("span",{className:"lay-icon lay-icon-plus"})," Carousel")),n.push(i.createElement("button",{type:"button",className:"btn btn-default",onClick:function(){return e.handleClickOpenModalAdd(l.ElementTypeEnum.THUMBNAIL_GRID)}},i.createElement("span",{className:"lay-icon lay-icon-plus"})," Thumbnail Grid")),n.push(i.createElement("button",{type:"button",className:"btn btn-default",onClick:function(){return e.handleClickOpenModalAdd(l.ElementTypeEnum.ELEMENT_GRID)}},i.createElement("span",{className:"lay-icon lay-icon-plus"})," Element Grid")),n.push(i.createElement("button",{type:"button",className:"btn btn-default",onClick:function(){return e.handleClickStack()}},i.createElement("span",{className:"lay-icon lay-icon-plus"})," Stack")),n.push(i.createElement("button",{type:"button",className:"btn btn-default",onClick:function(){return e.handleClickHr()}},i.createElement("span",{className:"lay-icon lay-icon-plus"})," Horizontal Line")),n.push(i.createElement("button",{type:"button",className:"btn btn-default",onClick:function(){return e.handleClickOpenModalAdd(l.ElementTypeEnum.EMBED)}},i.createElement("span",{className:"lay-icon lay-icon-plus"})," Embed")),n.push(i.createElement("button",{type:"button",className:"btn btn-default",onClick:function(){return e.handleClickOpenModalAdd(l.ElementTypeEnum.HTML)}},i.createElement("span",{className:"lay-icon lay-icon-plus"})," HTML")),n.push(i.createElement("button",{type:"button",className:"btn btn-default",onClick:function(){return e.handleClickOpenModalAdd(l.ElementTypeEnum.SHORTCODE)}},i.createElement("span",{className:"lay-icon lay-icon-plus"})," Shortcode")),i.createElement("div",{className:"btn-group-vertical btn-group-sm lay-more-buttons-wrap lay-dropdown-wrap",role:"group",style:t,ref:function(t){e.domElement=t}},n)},t}(i.Component);t.default=s.connect(function(e,t){return{}},function(e){return{setAddElements:a.bindActionCreators(c.setAddElementsAction,e),openModalAdd:a.bindActionCreators(c.openModalAddAction,e)}})(d)},function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),s=n(1),a=n(3),l=n(2),c=n(5),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClickBind=function(e){return t.handleClick(e)},t}return r(t,e),t.prototype.handleClick=function(e){this.props.hidden||e.target===this.domElement||this.domElement.contains(e.target)||this.props.hideAddVideoDropDown()},t.prototype.componentDidMount=function(){window.document.addEventListener("click",this.handleClickBind)},t.prototype.componentWillUnmount=function(){window.document.removeEventListener("click",this.handleClickBind)},t.prototype.handleClickOpenModalAdd=function(e){this.props.openModalAdd(e),this.props.hideAddVideoDropDown()},t.prototype.render=function(){var e=this,t={};t=this.props.hidden?{display:"none"}:{left:this.props.posX,top:this.props.posY};var n=[];return n.push(i.createElement("button",{type:"button",className:"btn btn-default",onClick:function(){return e.handleClickOpenModalAdd(c.ElementTypeEnum.YOUTUBE_VIMEO_VIDEO)}},i.createElement("span",{className:"lay-icon lay-icon-plus"})," YouTube/Vimeo")),n.push(i.createElement("button",{type:"button",className:"btn btn-default",onClick:function(){return e.handleClickOpenModalAdd(c.ElementTypeEnum.HTML5VIDEO)}},i.createElement("span",{className:"lay-icon lay-icon-plus"})," HTML5 Video")),i.createElement("div",{className:"btn-group-vertical btn-group-sm video-buttons-wrap lay-dropdown-wrap",role:"group",style:t,ref:function(t){e.domElement=t}},n)},t}(i.Component);t.default=s.connect(function(e,t){return{}},function(e){return{openModalAdd:a.bindActionCreators(l.openModalAddAction,e)}})(u)},function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),s=n(1),a=n(3),l=n(2),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.handleClick=function(e){this.props.changeGuidesVisibility(Boolean(e.target.checked)),e.target.value=this.props.guidesVisibility},t.prototype.render=function(){var e=this;return i.createElement("div",{className:"input-group input-group-sm group-guides"},i.createElement("input",{type:"checkbox",id:"showguides",className:"showguides",onChange:function(t){return e.handleClick(t)},checked:this.props.guidesVisibility}),i.createElement("span",{className:"input-group-addon"},i.createElement("label",{htmlFor:"showguides"},"Show Guides")))},t}(i.Component);t.default=s.connect(function(e,t){return{guidesVisibility:e.guidesVisibility}},function(e){return{changeGuidesVisibility:a.bindActionCreators(l.changeGuidesVisibilityAction,e)}})(c)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),r=n(16);t.setNoticeElementsDeletedFromOtherLayoutToo=function(){return function(e,t){"desktop"===t().currentLayout?e(o.setNoticeAction(r.default.elementsDeletedFromPhoneLayoutToo)):e(o.setNoticeAction(r.default.elementsDeletedFromDesktopLayoutToo))}}},function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),s=n(1),a=n(3),l=n(10),c=n(2),u=n(5),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.handleEdit=function(){this.props.openModalEdit(this.props.selectedElementsId[0])},t.prototype.handleEditCaption=function(){this.props.openModalEdit(this.props.selectedElementsId[0],u.ElementAttributeTargetEnum.CAPTION)},t.prototype.handleDelete=function(){this.props.deleteElements(this.props.selectedElementsId)},t.prototype.render=function(){var e=this,t=!0,n=!0,o=!0;if(1===this.props.selectedElementsId.length){t=!1,o=!1;for(var r=!1,s=0,a=this.props.cont;s<a.length;s++){var l=a[s];if(-1!==this.props.selectedElementsId.indexOf(l.relid)){switch(l.type){case u.ElementTypeEnum.POST_THUMBNAIL:case u.ElementTypeEnum.THUMBNAIL_GRID:case u.ElementTypeEnum.TEXT:case u.ElementTypeEnum.HORIZONTAL_LINE:case u.ElementTypeEnum.STACK:o=!0}r=!0}else if(l.type===u.ElementTypeEnum.STACK)for(var c=0,d=l.cont;c<d.length;c++){var p=d[c];if(-1!==this.props.selectedElementsId.indexOf(p.relid)){switch(p.type){case u.ElementTypeEnum.POST_THUMBNAIL:case u.ElementTypeEnum.THUMBNAIL_GRID:case u.ElementTypeEnum.TEXT:case u.ElementTypeEnum.HORIZONTAL_LINE:case u.ElementTypeEnum.STACK:o=!0}r=!0}}if(r)break}}return 0!==this.props.selectedElementsId.length&&(n=!1),i.createElement("div",{className:"btn-group btn-group-sm"},i.createElement("button",{type:"button",className:"btn btn-default btn-sm",disabled:t,onClick:function(){return e.handleEdit()}},"Edit"),i.createElement("button",{type:"button",className:"btn btn-default btn-sm",disabled:o,onClick:function(){return e.handleEditCaption()}},"Edit Caption"),i.createElement("button",{type:"button",className:"btn btn-default btn-sm",disabled:n,onClick:function(){return e.handleDelete()}},"Delete"))},t}(i.Component);t.default=s.connect(function(e,t){return{selectedElementsId:e.selectedElementsId,cont:e.json_field.cont}},function(e){return{deleteElements:a.bindActionCreators(l.deleteElements,e),openModalEdit:a.bindActionCreators(c.openModalEditAction,e)}})(d)},function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),s=n(1),a=n(3),l=n(6),c=n(2),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.handleClick=function(e,t){e.stopPropagation(),this.props.changeAlignOfSelectedElements(t)},t.prototype.render=function(){var e=this,t=0===this.props.selectedElementsId.length,n="btn btn-default",o="btn btn-default",r="btn btn-default",s=!0;if(!t){for(var a=null,c=0,u=this.props.cont;c<u.length;c++){var d=u[c];if(this.props.selectedElementsId.includes(d.relid))if(s=!1,null===a)a=d.align;else if(a!==d.align){a=!1;break}}if(s)t=!0;else switch(a){case"top":n+=" active";break;case"middle":o+=" active";break;case"bottom":r+=" active"}}return i.createElement("div",{className:"btn-group btn-group-sm"},i.createElement("button",{type:"button",onClick:function(t){return e.handleClick(t,"top")},disabled:t,className:n},i.createElement("img",{className:"align-top-svg",src:l.default.templateURI+"/gridder/assets/img/aligntop.svg",title:"Align Top",alt:"Align Top"})),i.createElement("button",{type:"button",onClick:function(t){return e.handleClick(t,"middle")},disabled:t,className:o},i.createElement("img",{className:"align-middle-svg",src:l.default.templateURI+"/gridder/assets/img/alignmiddle.svg",title:"Align Middle",alt:"Align Middle"})),i.createElement("button",{type:"button",onClick:function(t){return e.handleClick(t,"bottom")},disabled:t,className:r},i.createElement("img",{className:"align-bottom-svg",src:l.default.templateURI+"/gridder/assets/img/alignbottom.svg",title:"Align Bottom",alt:"Align Bottom"})))},t}(i.Component);t.default=s.connect(function(e,t){return{selectedElementsId:e.selectedElementsId,cont:e.json_field.cont}},function(e){return{changeAlignOfSelectedElements:a.bindActionCreators(c.changeAlignOfSelectedElementsAction,e)}})(u)},function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),s=n(1),a=n(3),l=n(5),c=n(2),u=n(7),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.showAddVideoDropDown=function(){if("addVideo"!==this.props.dropDownShown){var e=this.domElementAddVideo.offsetLeft,t=(this.domElementAddVideo.offsetTop,this.domElementAddVideo.offsetHeight);e+=this.domElement.offsetLeft,t=this.domElement.offsetTop+this.domElement.offsetHeight,this.props.showAddVideoDropDown(e,t)}else this.props.hideAddVideoDropDown()},t.prototype.showAddMoreDropDown=function(){if("addMore"!==this.props.dropDownShown){var e=this.domElementAddMore.offsetLeft,t=(this.domElementAddMore.offsetTop,this.domElementAddMore.offsetHeight);e+=this.domElement.offsetLeft,t=this.domElement.offsetTop+this.domElement.offsetHeight,this.props.showAddMoreDropDown(e,t)}else this.props.hideAddMoreDropDown()},t.prototype.handleClickOpenModalAdd=function(e){this.props.openModalAdd(e)},t.prototype.render=function(){var e=this,t=[];t.push(i.createElement("label",{className:"btn btn-default",onClick:function(){return e.handleClickOpenModalAdd(l.ElementTypeEnum.IMAGE)}},i.createElement("span",{className:"lay-icon lay-icon-plus"})," Image"));var n="lay-dropdown-btn btn btn-default add-video-btn";"addVideo"===this.props.dropDownShown&&(n+=" expanded"),t.push(i.createElement("button",{ref:function(t){e.domElementAddVideo=t},onClick:function(){return e.showAddVideoDropDown()},id:"add-video-drop",type:"button",className:n},i.createElement("span",{className:"lay-icon lay-icon-plus"})," ",i.createElement("span",null,"Video"),i.createElement("span",{className:"expand-arrow"}))),t.push(i.createElement("label",{className:"btn btn-default",onClick:function(){return e.handleClickOpenModalAdd(l.ElementTypeEnum.TEXT)}},i.createElement("span",{className:"lay-icon lay-icon-plus"})," Text")),t.push(i.createElement("label",{className:"btn btn-default",onClick:function(){return e.handleClickOpenModalAdd(l.ElementTypeEnum.POST_THUMBNAIL)}},i.createElement("span",{className:"lay-icon lay-icon-plus"})," ",u.default.postName," Thumbnail"));var o="lay-dropdown-btn btn btn-default lay-more-btn";return"addMore"===this.props.dropDownShown&&(o+=" expanded"),t.push(i.createElement("button",{ref:function(t){e.domElementAddMore=t},onClick:function(){return e.showAddMoreDropDown()},id:"lay-more-drop",type:"button",className:o},i.createElement("span",{className:"lay-icon lay-icon-plus"})," ",i.createElement("span",null,"More"),i.createElement("span",{className:"expand-arrow"}))),i.createElement("div",{ref:function(t){e.domElement=t},className:"btn-group btn-group-sm",role:"group"},t)},t}(i.Component);t.default=s.connect(function(e,t){return{currentLayout:e.currentLayout}},function(e){return{setAddElements:a.bindActionCreators(c.setAddElementsAction,e),openModalAdd:a.bindActionCreators(c.openModalAddAction,e)}})(d)},function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),s=n(1),a=n(3),l=n(19),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.changeToDesktop=function(){"desktop"!==this.props.currentLayout&&this.props.changeBreakpoint()},t.prototype.changeToPhone=function(){"desktop"===this.props.currentLayout&&this.props.changeBreakpoint()},t.prototype.showDeletePhoneLayoutDropDown=function(){if(this.props.dropDownShown)this.props.hideDeletePhoneLayoutDropDown();else{var e=this.domElementOptions.offsetLeft,t=(this.domElementOptions.offsetTop,this.domElementOptions.offsetHeight);e+=this.domElement.offsetLeft-this.domElement.offsetWidth-7,t=this.domElement.offsetTop+this.domElement.offsetHeight,this.props.showDeletePhoneLayoutDropDown(e,t)}},t.prototype.render=function(){var e=this;return i.createElement("div",{className:"btn-group btn-group-sm gridder-breakpoints-switch",ref:function(t){e.domElement=t}},i.createElement("button",{onClick:function(){return e.changeToDesktop()},type:"button",disabled:"desktop"===this.props.currentLayout,className:"btn btn-default btn-switch-to-desktop"+("desktop"===this.props.currentLayout?" active":""),title:"Switch to desktop layout"},i.createElement("span",{className:"dashicons dashicons-desktop"})),i.createElement("button",{onClick:function(){return e.changeToPhone()},type:"button",disabled:"desktop"!==this.props.currentLayout,className:"btn btn-default btn-switch-to-phone"+("desktop"!==this.props.currentLayout?" active":""),title:"Switch to phone layout"},i.createElement("span",{className:"dashicons dashicons-smartphone"})),i.createElement("button",{type:"button",ref:function(t){e.domElementOptions=t},onClick:function(){return e.showDeletePhoneLayoutDropDown()},className:"btn btn-default btn-breakpoints-options",disabled:null===this.props.phone_gridder_json_field},i.createElement("span",{className:"glyphicon glyphicon-option-horizontal"})))},t}(i.Component);t.default=s.connect(function(e,t){return{currentLayout:e.currentLayout,phone_gridder_json_field:e.phone_gridder_json_field}},function(e){return{changeBreakpoint:a.bindActionCreators(l.changeBreakpoint,e)}})(c)},function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.onButtonClick=function(){if(this.props.dropDownShown)this.props.hideColorpickerDropDown();else{var e=this.domElement.offsetLeft,t=this.domElement.offsetTop+this.domElement.offsetHeight;this.props.showColorpickerDropDown(e,t)}},t.prototype.render=function(){var e=this,t="lay-colorpicker-btn btn btn-default btn-sm lay-dropdown-btn";return this.props.dropDownShown&&(t+=" expanded"),i.createElement("button",{onClick:function(){return e.onButtonClick()},ref:function(t){e.domElement=t},type:"button",className:t},i.createElement("span",null,"Set Background Color"),i.createElement("span",{className:"expand-arrow"}))},t}(i.Component);t.default=s},function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),s=n(6),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.showSetFrameDropDown=function(){if(this.props.dropDownShown)this.props.hideSetFrameDropDown();else{var e=this.domElement.offsetLeft,t=this.domElement.offsetTop+this.domElement.offsetHeight;this.props.showSetFrameDropDown(e,t)}},t.prototype.render=function(){var e=this,t="lay-dropdown-btn btn btn-default btn-sm set-frame-btn";this.props.dropDownShown&&(t+=" expanded");var n="1"===s.default.disableInputs,o="1"===s.default.disableInputs?{display:"none"}:{};return i.createElement("button",{disabled:n,type:"button",onClick:function(){return e.showSetFrameDropDown()},ref:function(t){e.domElement=t},className:t,style:o},i.createElement("span",null,"Set Frame"),i.createElement("span",{className:"expand-arrow"}))},t}(i.Component);t.default=a},function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),s=n(1),a=n(3),l=n(19),c=n(6),u=n(11),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.handleChange=function(e){this.props.changeRowGutters(Number(e.target.value)),e.target.value=this.getRowGutterValue()},t.prototype.getRowGutterValue=function(){if(0===this.props.rowGutters.length)return u.getMeasure(u.MeasureUnitEnum.ROW_GUTTER,this.props.currentLayout);if(0===this.props.selectedRowGutters.length){for(var e=this.props.rowGutters[0],t=0,n=this.props.rowGutters;t<n.length;t++){if(e!==n[t])return""}return e}var o=this.props.rowGutters[this.props.selectedRowGutters[0]];for(var r in this.props.rowGutters)if(this.props.selectedRowGutters.indexOf(Number(r))>=0&&o!==this.props.rowGutters[r])return"";return o},t.prototype.onClickHandle=function(e){e.stopPropagation()},t.prototype.render=function(){var e=this,t=this.getRowGutterValue(),n=.1,o="%";"desktop"===this.props.currentLayout&&"px"===c.default.gridderDefaults.rowGutterMu&&(n=1,o="px");var r="1"===c.default.disableInputs,s="1"===c.default.disableInputs?{display:"none"}:{};return i.createElement("div",{className:"input-group input-group-sm group-row-gutter",onClick:function(t){return e.onClickHandle(t)},style:s},i.createElement("span",{className:"input-group-addon prefix"},"Row Gutter"),i.createElement("input",{disabled:r,onChange:function(t){return e.handleChange(t)},value:t,type:"number",min:"0",max:"999",step:n,id:"row-margin",className:"row-input form-control"}),i.createElement("span",{className:"input-group-addon postfix"},o))},t}(i.Component);t.default=s.connect(function(e,t){return{rowGutters:e.json_field.rowGutters,selectedRowGutters:e.selectedRowGutters,currentLayout:e.currentLayout}},function(e){return{changeRowGutters:a.bindActionCreators(l.changeRowGutters,e)}})(d)},function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),s=n(1),a=n(3),l=n(19),c=n(6),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.handleChange=function(e){this.props.changeColumnGutter(Number(e.target.value)),e.target.value=this.props.colGutter},t.prototype.render=function(){var e=this,t="1"===c.default.disableInputs,n="1"===c.default.disableInputs?{display:"none"}:{};return i.createElement("div",{className:"input-group input-group-sm group-column-gutter",style:n},i.createElement("span",{className:"input-group-addon prefix"},"Column Gutter"),i.createElement("input",{disabled:t,onChange:function(t){return e.handleChange(t)},value:this.props.colGutter,type:"number",min:"0",max:"100",step:"0.1",id:"column-margin",className:"column-input form-control"}),i.createElement("span",{className:"input-group-addon postfix"},"%"))},t}(i.Component);t.default=s.connect(function(e,t){return{colGutter:e.json_field.colGutter}},function(e){return{changeColumnGutter:a.bindActionCreators(l.changeColumnGutter,e)}})(u)},function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),s=n(1),a=n(3),l=n(19),c=n(6),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.handleChange=function(e){this.props.changeColumnCount(Number(e.target.value)),e.target.value=this.props.colCount},t.prototype.render=function(){for(var e=this,t=[],n=1;n<32;n++)t.push(i.createElement("option",{key:n,value:n},n));var o="1"===c.default.disableInputs,r="1"===c.default.disableInputs?{display:"none"}:{};return i.createElement("div",{className:"input-group input-group-sm group-columns",style:r},i.createElement("span",{className:"input-group-addon"},"Column Count"),i.createElement("select",{disabled:o,id:"columns",value:this.props.colCount,onChange:function(t){return e.handleChange(t)},className:"column-input form-control"},t))},t}(i.Component);t.default=s.connect(function(e,t){return{colCount:e.json_field.colCount}},function(e){return{changeColumnCount:a.bindActionCreators(l.changeColumnCount,e)}})(u)},function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),s=n(1),a=n(3),l=n(18),c=n(2),u=n(250),d=n(249),p=n(248),h=n(247),f=n(246),m=n(245),g=n(244),y=n(243),E=n(242),b=n(240),_=n(239),v=n(238),w=n(237),O=n(236),C=n(235),A=n(234),T=n(7),S=n(4),N=n(6),k=function(e){function t(t){var n=e.call(this,t)||this;return n.onResizeThrottle=l.throttle(n.onResize.bind(n),T.default.throttleResize),n.onScrollThrottle=l.throttle(n.onScroll.bind(n),T.default.throttleScroll),n.state={dropDown:"",posX:0,posY:0,fixed:!1,width:0},n}return r(t,e),t.prototype.showSetFrameDropDown=function(e,t){var n=this;setTimeout(function(){n.setState({dropDown:"setFrame",posX:e,posY:t})},0)},t.prototype.hideSetFrameDropDown=function(){"setFrame"===this.state.dropDown&&this.setState({dropDown:""})},t.prototype.showColorpickerDropDown=function(e,t){var n=this;setTimeout(function(){n.setState({dropDown:"setBackgroundColor",posX:e,posY:t})},0)},t.prototype.hideColorpickerDropDown=function(){"setBackgroundColor"===this.state.dropDown&&this.setState({dropDown:""})},t.prototype.showAddVideoDropDown=function(e,t){var n=this;setTimeout(function(){n.setState({dropDown:"addVideo",posX:e,posY:t})},0)},t.prototype.hideAddVideoDropDown=function(){"addVideo"===this.state.dropDown&&this.setState({dropDown:""})},t.prototype.showAddMoreDropDown=function(e,t){var n=this;setTimeout(function(){n.setState({dropDown:"addMore",posX:e,posY:t})},0)},t.prototype.hideAddMoreDropDown=function(){"addMore"===this.state.dropDown&&this.setState({dropDown:""})},t.prototype.showDeletePhoneLayoutDropDown=function(e,t){var n=this;setTimeout(function(){n.setState({dropDown:"deletePhoneLayout",posX:e,posY:t})},0)},t.prototype.hideDeletePhoneLayoutDropDown=function(){"deletePhoneLayout"===this.state.dropDown&&this.setState({dropDown:""})},t.prototype.componentDidMount=function(){window.addEventListener("resize",this.onResizeThrottle),window.addEventListener("scroll",this.onScrollThrottle),this.onResizeThrottle(),this.onResizeThrottle()},t.prototype.componentDidUpdate=function(){this.onResizeThrottle()},t.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.onResizeThrottle),window.removeEventListener("scroll",this.onScrollThrottle)},t.prototype.onResize=function(){this.props.setHeaderHeight(this.domElement.offsetHeight-1),this.state.width!==document.getElementById("gridder-root").offsetWidth&&this.setState({width:document.getElementById("gridder-root").offsetWidth})},t.prototype.onScroll=function(e){var t=0>document.getElementById("gridder-root").getBoundingClientRect().top-document.getElementById("wpadminbar").offsetHeight;t!==this.state.fixed&&this.setState({fixed:t})},t.prototype.onKeydownHandle=function(e){e.stopPropagation(),S.preventEnter(e)},t.prototype.render=function(){var e=this,t="",n={};this.state.fixed&&(t="fixed",n.width=this.state.width);var o=null,r=[];return N.default.phoneLayoutActive&&(r.push(i.createElement(m.default,{dropDownShown:"deletePhoneLayout"===this.state.dropDown,showDeletePhoneLayoutDropDown:this.showDeletePhoneLayoutDropDown.bind(this),hideDeletePhoneLayoutDropDown:this.hideDeletePhoneLayoutDropDown.bind(this)})),o=i.createElement(O.default,{hidden:"deletePhoneLayout"!==this.state.dropDown,posX:this.state.posX,posY:this.state.posY,hideDeletePhoneLayoutDropDown:this.hideDeletePhoneLayoutDropDown.bind(this)})),r.push(i.createElement(u.default,null)),r.push(i.createElement(d.default,null)),r.push(i.createElement(p.default,null)),r.push(i.createElement(h.default,{dropDownShown:"setFrame"===this.state.dropDown,showSetFrameDropDown:this.showSetFrameDropDown.bind(this),hideSetFrameDropDown:this.hideSetFrameDropDown.bind(this)})),r.push(i.createElement(f.default,{dropDownShown:"setBackgroundColor"===this.state.dropDown,showColorpickerDropDown:this.showColorpickerDropDown.bind(this),hideColorpickerDropDown:this.hideColorpickerDropDown.bind(this)})),r.push(i.createElement("br",{className:"gridder-header-linebreak"})),r.push(i.createElement(g.default,{dropDownShown:this.state.dropDown,showAddVideoDropDown:this.showAddVideoDropDown.bind(this),hideAddVideoDropDown:this.hideAddVideoDropDown.bind(this),showAddMoreDropDown:this.showAddMoreDropDown.bind(this),hideAddMoreDropDown:this.hideAddMoreDropDown.bind(this)})),r.push(i.createElement(y.default,null)),r.push(i.createElement(E.default,null)),r.push(i.createElement(b.default,null)),r.push(i.createElement(_.default,{hidden:"addVideo"!==this.state.dropDown,posX:this.state.posX,posY:this.state.posY,hideAddVideoDropDown:this.hideAddVideoDropDown.bind(this)})),r.push(i.createElement(v.default,{hidden:"addMore"!==this.state.dropDown,posX:this.state.posX,posY:this.state.posY,hideAddMoreDropDown:this.hideAddMoreDropDown.bind(this)})),r.push(i.createElement(w.default,{hidden:"setFrame"!==this.state.dropDown,posX:this.state.posX,posY:this.state.posY,hideSetFrameDropDown:this.hideSetFrameDropDown.bind(this)})),r.push(i.createElement(C.default,{hidden:"setBackgroundColor"!==this.state.dropDown,posX:this.state.posX,posY:this.state.posY,hideColorpickerDropDown:this.hideColorpickerDropDown.bind(this)})),i.createElement("header",{className:t,style:n,ref:function(t){return e.domElement=t}},i.createElement("div",{className:"gridder-header",onKeyDown:function(t){return e.onKeydownHandle(t)}},r,o,i.createElement(A.default,null)))},t}(i.Component);t.default=s.connect(function(e,t){return{notice:e.notice}},function(e){return{setHeaderHeight:a.bindActionCreators(c.setHeaderHeightAction,e),openModalAdd:a.bindActionCreators(c.openModalAddAction,e)}})(k)},function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),s=n(1),a=n(9),l=n(251),c=n(233),u=n(232),d=n(214);a.default("body").on("click",'input[name="screen_columns"], #collapse-menu',function(){window.dispatchEvent(new Event("resize"))});var p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){var e="show-desktop-version";return"desktop"!==this.props.currentLayout&&(e="show-phone-version"),i.createElement("div",{id:"gridder-root",className:e},i.createElement(c.default,null),i.createElement(l.default,null),i.createElement(u.default,null),i.createElement(d.default,null))},t}(i.Component);t.default=s.connect(function(e,t){return{currentLayout:e.currentLayout}})(p)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(8),r=n(5),i=n(6),s=n(4);t.default=function(e,t){switch(t.type){case o.CREATE_STACKED_PHONE_LAYOUT:for(var n=s.getPhoneGridderJsonDefault(),a=0,l=0,c=e.json_field.cont;l<c.length;l++){var u=c[l];if(u.type===r.ElementTypeEnum.STACK)for(var d=0,p=u.cont;d<p.length;d++){var h=p[d],f=Object.assign({},JSON.parse(JSON.stringify(h)),{align:"bottom",col:0,push:0,spaceabove:0,spacebelow:0,offsetx:0,offsety:0,row:a++,colspan:n.colCount});n.cont.push(f)}else f=Object.assign({},JSON.parse(JSON.stringify(u)),{align:"bottom",col:0,push:0,spaceabove:0,spacebelow:0,offsetx:0,offsety:0,row:a++,colspan:n.colCount}),n.cont.push(f)}for(var m in n.cont)0!==Number(m)&&(n.rowGutters.push(Number(i.default.gridderDefaults.phoneRowGutter)),n.rowAttrs.push({}));return Object.assign({},e,{phone_gridder_json_field:n,modal:null});case o.CREATE_EMPTY_PHONE_LAYOUT:return n=s.getPhoneGridderJsonDefault(),Object.assign({},e,{phone_gridder_json_field:n,modal:null});case o.CREATE_COPIED_PHONE_LAYOUT:for(var m in(n=JSON.parse(JSON.stringify(e.json_field))).rowGutters)n.rowGutters[m]=Number(i.default.gridderDefaults.phoneRowGutter);return n.frameMargin=Number(i.default.gridderDefaults.phoneFrame),n.topFrameMargin=Number(i.default.gridderDefaults.phoneTopFrame),n.bottomFrameMargin=Number(i.default.gridderDefaults.phoneBottomFrame),Object.assign({},e,{phone_gridder_json_field:n,modal:null});case o.DELETE_PHONE_LAYOUT:var g=void 0;for(var m in(g="desktop"===e.currentLayout?Object.assign({},e.json_field):Object.assign({},e.gridder_json_field)).cont=Object.assign([],g.cont),g.cont)if(g.cont[m]=Object.assign({},g.cont[m]),delete g.cont[m].dosync,g.cont[m].type===r.ElementTypeEnum.STACK)for(var y in g.cont[m].cont=Object.assign([],g.cont[m].cont),g.cont[m].cont)g.cont[m].cont[y]=Object.assign({},g.cont[m].cont[y]),delete g.cont[m].cont[y].dosync;return"desktop"===e.currentLayout?Object.assign({},e,{json_field:g,phone_gridder_json_field:null,modal:null}):Object.assign({},e,{gridder_json_field:g,phone_gridder_json_field:null,modal:null})}return e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(8);t.default=function(e,t){switch(t.type){case o.UPDATE_THUMBNAILS_OF_CATEGORY:var n=Object.assign([],e.thumbnailGridPosts);return n[t.catId]=t.posts,Object.assign({},e,{thumbnailGridPosts:n})}return e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(8);t.default=function(e,t){switch(t.type){case o.SET_GRIDDER_JSON_FIELD:return"desktop"===e.currentLayout?Object.assign({},e,{json_field:t.jsonField}):Object.assign({},e,{gridder_json_field:t.jsonField});case o.SET_PHONE_GRIDDER_JSON_FIELD:return"desktop"===e.currentLayout?Object.assign({},e,{phone_gridder_json_field:t.jsonField}):Object.assign({},e,{json_field:t.jsonField})}return e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(8);t.default=function(e,t){switch(t.type){case o.SET_NOTICE:return Object.assign({},e,{notice:t.reason});case o.UNSET_NOTICE:return Object.assign({},e,{notice:null})}return e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(8),r=n(5),i=n(4),s=n(4),a=["caption","html_id","classes","imagelink"];t.default=function(e,t){switch(t.type){case o.SET_ADD_ELEMENTS:return Object.assign({},e,{addElements:t.cont,modal:null});case o.SET_ELEMENT_CONTENT:var n=Object.assign([],e.json_field.cont);for(var l in n){if(n[l].relid===t.relid){n[l]=Object.assign({},n[l],t.cont);for(var c=0,u=a;c<u.length;c++){var d=u[c];!n[l].hasOwnProperty(d)||null!==Reflect.get(n[l],d)&&""!==Reflect.get(n[l],d)||Reflect.deleteProperty(n[l],d)}break}if(n[l].type===r.ElementTypeEnum.STACK){var p=Object.assign([],n[l].cont),h=!1;for(var f in p)if(p[f].relid===t.relid){p[f]=Object.assign({},p[f],t.cont);for(var m=0,g=a;m<g.length;m++)d=g[m],!p[f].hasOwnProperty(d)||null!==Reflect.get(p[f],d)&&""!==Reflect.get(p[f],d)||Reflect.deleteProperty(p[f],d);h=!0;break}h&&(n[l]=Object.assign({},n[l],{cont:p}))}}var y=Object.assign({},e.json_field,{cont:n});return Object.assign({},e,{modal:null,json_field:y});case o.MAYBE_SYNC_ELEMENT:if(null!==e.phone_gridder_json_field){for(var E=!1,b=null,_=0,v=e.json_field.cont;_<v.length;_++)if((Y=v[_]).type===r.ElementTypeEnum.STACK){if(Y.relid===t.relid){b=Y;break}for(var w=0,O=Y.cont;w<O.length;w++){var C=O[w];if(C.relid===t.relid){E=void 0===(ue=C.dosync)||ue,b=C;break}}if(null!==b)break}else if(Y.relid===t.relid){E=void 0===(de=Y.dosync)||de,b=Y;break}if(E){var A=[];for(var l in A="desktop"===e.currentLayout?Object.assign([],e.phone_gridder_json_field.cont):Object.assign([],e.gridder_json_field.cont)){if(A[l].relid===t.relid){var T=A[l],S=T.align,N=T.row,k=T.col,j=T.colspan,M=T.offsetx,x=T.offsety,P=T.spaceabove,D=T.spacebelow,R=T.push,I=T.yvel,L=T.lightbox_caption,H=T.lightboxoff;A[l]=Object.assign({},A[l],b,{align:S,row:N,col:k,colspan:j,offsetx:M,offsety:x,spaceabove:P,spacebelow:D,push:R,yvel:I,lightbox_caption:L,lightboxoff:H});break}if(A[l].type===r.ElementTypeEnum.STACK){p=Object.assign([],A[l].cont);var G=!1;for(var f in p)if(p[f].relid===t.relid){var B=p[f];S=B.align,N=B.row,k=B.col,j=B.colspan,M=B.offsetx,x=B.offsety,P=B.spaceabove,D=B.spacebelow,R=B.push,I=B.yvel,L=B.lightbox_caption,H=B.lightboxoff,p[f]=Object.assign({},p[f],b,{align:S,row:N,col:k,colspan:j,offsetx:M,offsety:x,spaceabove:P,spacebelow:D,push:R,yvel:I,lightbox_caption:L,lightboxoff:H}),G=!0;break}if(G){A[l]=Object.assign({},A[l],{cont:p});break}}}var F=void 0;return"desktop"===e.currentLayout?(F=Object.assign({},e.phone_gridder_json_field,{cont:A}),Object.assign({},e,{phone_gridder_json_field:F})):(F=Object.assign({},e.gridder_json_field,{cont:A}),Object.assign({},e,{gridder_json_field:F}))}return e}case o.SET_ELEMENT_DO_SYNC:if(null!==e.phone_gridder_json_field){for(var l in n=Object.assign([],e.json_field.cont))if(n[l].type===r.ElementTypeEnum.STACK){if(n[l].relid===t.relid)break;for(var f in p=Object.assign([],n[l].cont),G=!1,p)if(p[f].relid===t.relid){p[f]=Object.assign({},p[f]),delete p[f].dosync,G=!0;break}if(G){n[l]=Object.assign({},n[l],{cont:p});break}}else if(n[l].relid===t.relid){n[l]=Object.assign({},n[l]),delete n[l].dosync;break}for(var l in y=Object.assign({},e.json_field,{cont:n}),A=[],A="desktop"===e.currentLayout?Object.assign([],e.phone_gridder_json_field.cont):Object.assign([],e.gridder_json_field.cont)){if(A[l].relid===t.relid){A[l]=Object.assign({},A[l]),delete A[l].dosync;break}if(A[l].type===r.ElementTypeEnum.STACK){for(var f in p=Object.assign([],A[l].cont),G=!1,p)if(p[f].relid===t.relid){p[f]=Object.assign({},p[f]),delete p[f].dosync,G=!0;break}if(G){A[l]=Object.assign({},A[l],{cont:p});break}}}return F=void 0,"desktop"===e.currentLayout?(F=Object.assign({},e.phone_gridder_json_field,{cont:A}),Object.assign({},e,{json_field:y,phone_gridder_json_field:F})):(F=Object.assign({},e.gridder_json_field,{cont:A}),Object.assign({},e,{json_field:y,gridder_json_field:F}))}case o.SET_ELEMENT_DO_NOT_SYNC:for(var l in n=Object.assign([],e.json_field.cont))if(n[l].type===r.ElementTypeEnum.STACK){if(n[l].relid===t.relid)break;for(var f in p=Object.assign([],n[l].cont),G=!1,p)if(p[f].relid===t.relid){p[f]=Object.assign({},p[f]),null===e.phone_gridder_json_field?delete p[f].dosync:p[f].dosync=!1,G=!0;break}if(G){n[l]=Object.assign({},n[l],{cont:p});break}}else if(n[l].relid===t.relid){n[l]=Object.assign({},n[l]),null===e.phone_gridder_json_field?delete n[l].dosync:n[l].dosync=!1;break}if(y=Object.assign({},e.json_field,{cont:n}),null!==e.phone_gridder_json_field){for(var l in A=[],A="desktop"===e.currentLayout?Object.assign([],e.phone_gridder_json_field.cont):Object.assign([],e.gridder_json_field.cont)){if(A[l].relid===t.relid){A[l]=Object.assign({},A[l],{dosync:!1});break}if(A[l].type===r.ElementTypeEnum.STACK){for(var f in p=Object.assign([],A[l].cont),G=!1,p)if(p[f].relid===t.relid){p[f]=Object.assign({},p[f],{dosync:!1}),G=!0;break}if(G){A[l]=Object.assign({},A[l],{cont:p});break}}}return F=void 0,"desktop"===e.currentLayout?(F=Object.assign({},e.phone_gridder_json_field,{cont:A}),Object.assign({},e,{modal:null,json_field:y,phone_gridder_json_field:F})):(F=Object.assign({},e.gridder_json_field,{cont:A}),Object.assign({},e,{modal:null,json_field:y,gridder_json_field:F}))}return Object.assign({},e,{modal:null,json_field:y});case o.DELETE_ADD_ELEMENTS:return Object.assign({},e,{addElements:null,addElementPosition:null,modal:null});case o.CHANGE_ADD_ELEMENT_POSITION:if(-1===t.row||-1===t.col||null===e.addElements||0===e.addElements.length)return Object.assign({},e,{addElementPosition:null});var W=!0,U=null;if(t.colspan+t.col>e.json_field.colCount&&(W=!1),W)for(var z=0,V=e.json_field.cont;z<V.length;z++){var Y=V[z];if(t.row===Y.row)if(Y.type===r.ElementTypeEnum.STACK&&e.addElements[0].type!==r.ElementTypeEnum.STACK)if(t.col>=Y.col&&t.col<=Y.col+Y.colspan&&t.colspan>Y.colspan)U=Y.relid;else{if(t.col<Y.col&&t.col+t.colspan>Y.col||t.col<Y.col+Y.colspan&&t.col+t.colspan>Y.col+Y.colspan){W=!1;break}U=Y.relid}else if(t.colspan+t.col>Y.col&&Y.colspan+Y.col>t.col){var K=!1;null!==e.json_field.rowAttrs[t.row]&&void 0!==e.json_field.rowAttrs[t.row]&&!0===e.json_field.rowAttrs[t.row].row100vh&&(K=!0);var X=[r.ElementTypeEnum.TEXT];if(-1===X.indexOf(e.addElements[0].type)&&-1===X.indexOf(Y.type)||!K){W=!1;break}}}var J={row:t.row,col:t.col,colspan:t.colspan,align:t.align,rowOffset:t.rowOffset,droppable:W,inStack:U};return Object.assign({},e,{addElementPosition:J});case o.ADD_ELEMENT_TO_CONT:if(null!==e.addElementPosition&&e.addElementPosition.droppable){var Z="desktop"===e.currentLayout?e.phone_gridder_json_field:e.gridder_json_field,q=i.getRelids(e.json_field,Z),$=-1===t.cont.relid?i.createUniqueId(q):t.cont.relid,Q=(n=Object.assign([],e.json_field.cont),!1);for(var l in n)if(n[l].type===r.ElementTypeEnum.STACK&&t.cont.type!==r.ElementTypeEnum.STACK&&n[l].row===e.addElementPosition.row&&n[l].col<=e.addElementPosition.col&&(n[l].col+n[l].colspan>=e.addElementPosition.col+e.addElementPosition.colspan||n[l].colspan<e.addElementPosition.colspan&&n[l].col+n[l].colspan>e.addElementPosition.col)){var ee=Object.assign({},n[l]);ee.cont=Object.assign([],n[l].cont),k=e.addElementPosition.col-ee.col,j=e.addElementPosition.colspan,n[l].colspan<e.addElementPosition.colspan&&(k=0,j=n[l].colspan);var te=Object.assign({},t.cont,{relid:$,col:k,colspan:j,row:-1,push:k}),ne=0;if(e.elementsHeight[n[l].relid]<e.rowsHeight[n[l].row])switch(ne=e.rowsHeight[n[l].row]-e.elementsHeight[n[l].relid],n[l].align){case"top":ne=0;break;case"middle":ne/=2}for(f=0;f<=ee.cont.length;f++){if(ee.cont.length===f||e.addElementPosition.rowOffset<ne+e.elementsHeight[ee.cont[f].relid]/2){ee.cont.splice(f,0,te);break}ne+=e.elementsHeight[ee.cont[f].relid]}n[l]=ee,Q=!0;break}Q||(te=Object.assign({},t.cont,{relid:$,col:e.addElementPosition.col,colspan:e.addElementPosition.colspan,row:e.addElementPosition.row}),n.push(te),n.sort(s.sortElementFunc)),s.calcPushes(n,e.json_field.rowAttrs),y=Object.assign({},e.json_field,{cont:n});var oe=Object.assign([],e.addElements);return oe.splice(0,1),0===oe.length&&(oe=null),Object.assign({},e,{addElementPosition:null,addElements:oe,json_field:y})}return e;case o.DELETE_ELEMENTS:n=Object.assign([],e.json_field.cont);for(var re=[],ie=0;ie<n.length;){var se=-1!==t.relids.indexOf(n[ie].relid);if(n[ie].type===r.ElementTypeEnum.STACK){p=Object.assign([],n[ie].cont);var ae=!1;for(f=0;f<p.length;)se||-1!==t.relids.indexOf(p[f].relid)?((void 0===p[f].dosync||p[f].dosync)&&re.push(p[f].relid),p.splice(Number(f),1),ae=!0):f++;ae&&(n[ie]=Object.assign({},n[ie],{cont:p}))}se?((void 0===n[ie].dosync||n[ie].dosync)&&re.push(n[ie].relid),n.splice(Number(ie),1)):ie++}s.calcPushes(n,e.json_field.rowAttrs),y=Object.assign({},e.json_field,{cont:n}),A=[];var le=[];for("desktop"===e.currentLayout?null!==e.phone_gridder_json_field&&(A=Object.assign([],e.phone_gridder_json_field.cont),le=Object.assign([],e.phone_gridder_json_field.rowAttrs)):(A=Object.assign([],e.gridder_json_field.cont),le=Object.assign([],e.gridder_json_field.rowAttrs)),ie=0;ie<A.length;)if(-1===re.indexOf(A[ie].relid)){if(A[ie].type===r.ElementTypeEnum.STACK){var ce=Object.assign([],A[ie].cont);for(ae=!1,f=0;f<ce.length;)-1===re.indexOf(ce[f].relid)?f++:(ce.splice(f,1),ae=!0);ae&&(A[ie]=Object.assign({},A[ie],{cont:ce}))}ie++}else A.splice(ie,1);return s.calcPushes(A,le),F=void 0,"desktop"===e.currentLayout?null!==e.phone_gridder_json_field?(F=Object.assign({},e.phone_gridder_json_field,{cont:A}),Object.assign({},e,{json_field:y,phone_gridder_json_field:F})):Object.assign({},e,{json_field:y}):(F=Object.assign({},e.gridder_json_field,{cont:A}),Object.assign({},e,{json_field:y,gridder_json_field:F}));case o.OPEN_MODAL_ADD:return Object.assign({},e,{modal:{type:t.elementType,cont:null}});case o.OPEN_MODAL_EDIT:for(var l in Y=null,e.json_field.cont){if(t.relid===e.json_field.cont[l].relid)Y=JSON.parse(JSON.stringify(e.json_field.cont[l]));else if(e.json_field.cont[l].type===r.ElementTypeEnum.STACK)for(var f in e.json_field.cont[l].cont)if(t.relid===e.json_field.cont[l].cont[f].relid){Y=JSON.parse(JSON.stringify(e.json_field.cont[l].cont[f]));break}if(null!==Y)break}switch(Y.type){case r.ElementTypeEnum.POST_THUMBNAIL:case r.ElementTypeEnum.THUMBNAIL_GRID:case r.ElementTypeEnum.TEXT:if(t.target!==r.ElementAttributeTargetEnum.CAPTION)break;case r.ElementTypeEnum.HORIZONTAL_LINE:case r.ElementTypeEnum.STACK:return e}return t.target===r.ElementAttributeTargetEnum.CAPTION?Object.assign({},e,{modal:{type:"text",cont:Y,target:r.ElementAttributeTargetEnum.CAPTION}}):t.target===r.ElementAttributeTargetEnum.LIGHTBOX_CAPTION?Y.type!==r.ElementTypeEnum.IMAGE?e:Object.assign({},e,{modal:{type:"text",cont:Y,target:r.ElementAttributeTargetEnum.LIGHTBOX_CAPTION}}):Object.assign({},e,{modal:{type:Y.type,cont:Y}});case o.OPEN_MODAL_EDIT_ELEMENT_CLASSES_HTML_ID:for(var l in Y=null,e.json_field.cont){if(t.relid===e.json_field.cont[l].relid)Y=Object.assign({},e.json_field.cont[l]);else if(e.json_field.cont[l].type===r.ElementTypeEnum.STACK)for(var f in e.json_field.cont[l].cont)if(t.relid===e.json_field.cont[l].cont[f].relid){Y=Object.assign({},e.json_field.cont[l].cont[f]);break}if(null!==Y)break}return Object.assign({},e,{modal:{type:"classesHtmlIdElement",cont:Y}});case o.OPEN_MODAL_EDIT_ELEMENT_LINK_IMAGE:for(var l in Y=null,e.json_field.cont){if(t.relid===e.json_field.cont[l].relid)Y=Object.assign({},e.json_field.cont[l]);else if(e.json_field.cont[l].type===r.ElementTypeEnum.STACK)for(var f in e.json_field.cont[l].cont)if(t.relid===e.json_field.cont[l].cont[f].relid){Y=Object.assign({},e.json_field.cont[l].cont[f]);break}if(null!==Y)break}return Object.assign({},e,{modal:{type:"linkImage",cont:Y}});case o.CLOSE_MODAL:return Object.assign({},e,{modal:null})}return e;var ue,de}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(8),r=n(5),i=n(4);t.default=function(e,t){switch(t.type){case o.SET_ROW_ATTR_100vh:null===(l=Object.assign([],e.json_field.rowAttrs))[t.row]?!0===t.row100vh&&(l[t.row]={},l[t.row].row100vh=!0):!0===t.row100vh?l[t.row]=Object.assign({},l[t.row],{row100vh:!0}):(l[t.row]=Object.assign({},l[t.row]),delete l[t.row].row100vh,l[t.row]==={}&&(l[t.row]=null));var n=Object.assign([],e.json_field.cont);i.calcPushes(n,l);var r=Object.assign({},e.json_field,{rowAttrs:l,cont:n});return Object.assign({},e,{json_field:r});case o.SET_ROW_ATTR_BGCOLOR:var l;return null===(l=Object.assign([],e.json_field.rowAttrs))[t.row]?null!==t.bgcolor&&(l[t.row]={},l[t.row].bgcolor=t.bgcolor):null!==t.bgcolor?l[t.row]=Object.assign({},l[t.row],{bgcolor:t.bgcolor}):(l[t.row]=Object.assign({},l[t.row]),delete l[t.row].bgcolor,l[t.row]==={}&&(l[t.row]=null)),r=Object.assign({},e.json_field,{rowAttrs:l}),Object.assign({},e,{json_field:r});case o.CHANGE_ELEMENT_SPACE_ABOVE:if(!1!==(n=s(e.json_field.cont,t,"spaceabove")))return r=Object.assign({},e.json_field,{cont:n}),Object.assign({},e,{json_field:r});case o.CHANGE_ELEMENT_SPACE_BELOW:if(!1!==(n=s(e.json_field.cont,t,"spacebelow")))return r=Object.assign({},e.json_field,{cont:n}),Object.assign({},e,{json_field:r});case o.CHANGE_ELEMENT_OFFSET_X:if(!1!==(n=s(e.json_field.cont,t,"offsetx")))return r=Object.assign({},e.json_field,{cont:n}),Object.assign({},e,{json_field:r});case o.CHANGE_ELEMENT_OFFSET_Y:if(!1!==(n=s(e.json_field.cont,t,"offsety")))return r=Object.assign({},e.json_field,{cont:n}),Object.assign({},e,{json_field:r});case o.CHANGE_ELEMENT_YVEL:if(!1!==(n=s(e.json_field.cont,t,"yvel")))return r=Object.assign({},e.json_field,{cont:n}),Object.assign({},e,{json_field:r});case o.CHANGE_IS_SCROLL_TO_TOP:if(n=void 0,!1!==(n=t.isscrolltotop?s(e.json_field.cont,t,"isscrolltotop"):a(e.json_field.cont,t,"isscrolltotop")))return r=Object.assign({},e.json_field,{cont:n}),Object.assign({},e,{json_field:r});case o.CHANGE_LB_OFF:if(n=void 0,!1!==(n=t.lightboxoff?s(e.json_field.cont,t,"lightboxoff"):a(e.json_field.cont,t,"lightboxoff")))return r=Object.assign({},e.json_field,{cont:n}),Object.assign({},e,{json_field:r})}return e};var s=function(e,t,n){var o={};o[n]=t[n];var i=Object.assign([],e);for(var s in i){if(t.relid===i[s].relid)return i[s]=Object.assign({},i[s],o),i;if(i[s].type===r.ElementTypeEnum.STACK)for(var a in i[s].cont)if(t.relid===i[s].cont[a].relid){var l=Object.assign([],i[s].cont);return l[a]=Object.assign({},l[a],o),i[s]=Object.assign({},i[s],{cont:l}),i}}return!1},a=function(e,t,n){var o=Object.assign([],e);for(var i in o){if(t.relid===o[i].relid)return o[i]=Object.assign({},o[i]),delete o[i][n],o;if(o[i].type===r.ElementTypeEnum.STACK)for(var s in o[i].cont)if(t.relid===o[i].cont[s].relid){var a=Object.assign([],o[i].cont);return a[s]=Object.assign({},a[s]),delete a[s][n],o[i]=Object.assign({},o[i],{cont:a}),o}}return!1}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(8),r=n(4),i=n(11);t.default=function(e,t){switch(t.type){case o.INSERT_ROW:var n=e.rowCount+1,s=Object.assign([],e.json_field.rowGutters),a=i.getMeasure(i.MeasureUnitEnum.ROW_GUTTER,e.currentLayout);if(n>1){var l=a;n>2&&s[0];for(var c=0,u=s;c<u.length;c++)if(u[c]!==l){l=a;break}s.splice(t.rowIndex,0,l)}(E=Object.assign([],e.json_field.rowAttrs)).splice(t.rowIndex,0,{});var d=Object.assign([],e.json_field.cont);for(var p in d)d[p].row>=t.rowIndex&&(d[p]=Object.assign({},d[p],{row:d[p].row+1}));var h=Object.assign({},e.json_field,{cont:d,rowGutters:s,rowAttrs:E});return Object.assign({},e,{json_field:h,rowCount:n});case o.MOVE_DOWN_ROW:t.rowIndex++;case o.MOVE_UP_ROW:if(t.rowIndex>0&&e.rowCount>t.rowIndex){for(var p in void 0!==(s=Object.assign([],e.json_field.rowGutters))[t.rowIndex]?(s[t.rowIndex]=e.json_field.rowGutters[t.rowIndex-1],s[t.rowIndex-1]=e.json_field.rowGutters[t.rowIndex]):s[t.rowIndex-1]=i.getMeasure(i.MeasureUnitEnum.ROW_GUTTER,e.currentLayout),void 0!==(E=Object.assign([],e.json_field.rowAttrs))[t.rowIndex]?(E[t.rowIndex]=e.json_field.rowAttrs[t.rowIndex-1],E[t.rowIndex-1]=e.json_field.rowAttrs[t.rowIndex]):(E[t.rowIndex]=e.json_field.rowAttrs[t.rowIndex-1],E[t.rowIndex-1]=null),d=Object.assign([],e.json_field.cont))d[p].row===t.rowIndex?d[p]=Object.assign({},d[p],{row:d[p].row-1}):d[p].row===t.rowIndex-1&&(d[p]=Object.assign({},d[p],{row:d[p].row+1}));return d.sort(r.sortElementFunc),r.calcPushes(d,e.json_field.rowAttrs),h=Object.assign({},e.json_field,{cont:d,rowGutters:s,rowAttrs:E}),Object.assign({},e,{json_field:h})}return e;case o.DELETE_ROW:n=e.rowCount-1,s=Object.assign([],e.json_field.rowGutters),0!==t.rowIndex&&t.rowIndex===s.length?s.splice(t.rowIndex-1,1):s.splice(t.rowIndex,1),(E=Object.assign([],e.json_field.rowAttrs)).splice(t.rowIndex,1);for(var f=0,m=d=Object.assign([],e.json_field.cont);f<m.length;f++){var g=m[f];g.row>t.rowIndex&&(g.row=g.row-1)}return h=Object.assign({},e.json_field,{cont:d,rowGutters:s,rowAttrs:E}),Object.assign({},e,{json_field:h,rowCount:n});case o.OPEN_MODAL_EDIT_ROW_CLASSES_HTML_ID:var y={};return e.json_field.rowAttrs.length>t.row&&(y=Object.assign({},e.json_field.rowAttrs[t.row])),y.row=t.row,Object.assign({},e,{modal:{type:"classesHtmlIdRow",cont:y}});case o.OPEN_MODAL_EDIT_ROW_BG_LINK:return y={},e.json_field.rowAttrs.length>t.row&&(y=Object.assign({},e.json_field.rowAttrs[t.row])),y.row=t.row,Object.assign({},e,{modal:{type:"linkRowBg",cont:y}});case o.INIT_ROW_ATTRS:n=r.calcRowCount(e.json_field);var E=Object.assign([],e.json_field.rowAttrs);for(p=0;p<n;p++)E[p]instanceof Object||(E[p]={});if(h=Object.assign({},e.json_field,{rowAttrs:E}),null!==e.phone_gridder_json_field){var b=void 0;b="desktop"===e.currentLayout?Object.assign({},e.phone_gridder_json_field):Object.assign({},e.gridder_json_field),n=r.calcRowCount(b);var _=Object.assign([],b.rowAttrs);for(p=0;p<n;p++)_[p]instanceof Object||(_[p]={});return b.rowAttrs=_,"desktop"===e.currentLayout?Object.assign({},e,{json_field:h,phone_gridder_json_field:b}):Object.assign({},e,{json_field:h,gridder_json_field:b})}return Object.assign({},e,{json_field:h});case o.SET_ROW_ATTRS:for(E=Object.assign([],e.json_field.rowAttrs),p=0;;p++){if(p===t.row){for(var v in E[p]=Object.assign({},E[p],t.cont),E[p])null!==E[p][v]&&""!==E[p][v]||delete E[p][v];break}E.length<=p&&(E[p]={})}return h=Object.assign({},e.json_field,{rowAttrs:E}),Object.assign({},e,{json_field:h,modal:null});case o.OPEN_MODAL_EDIT_ROW_BG_VIDEO:return y={},e.json_field.rowAttrs.length>t.row&&(y=Object.assign({},e.json_field.rowAttrs[t.row])),y.row=t.row,Object.assign({},e,{modal:{type:"bgVideo",cont:y}});case o.OPEN_MODAL_EDIT_ROW_BG_IMAGE:return y={},e.json_field.rowAttrs.length>t.row&&(y=Object.assign({},e.json_field.rowAttrs[t.row])),y.row=t.row,Object.assign({},e,{modal:{type:"bgImage",cont:y}})}return e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(8);t.default=function(e,t){switch(t.type){case o.UPDATE_ELEMENTS_HEIGHT:return Object.assign({},e,{elementsHeight:t.elementsHeight});case o.UPDATE_ROWS_HEIGHT:return Object.assign({},e,{rowsHeight:t.rowsHeight});case o.UPDATE_ROWS_TOP:return Object.assign({},e,{rowsTop:t.rowsTop});case o.SET_CONTENT_WRAPPER_WIDTH:return Object.assign({},e,{contentWrapperWidth:t.width})}return e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(8),r=n(5),i=n(4);t.default=function(e,t){switch(t.type){case o.START_RESIZE:for(var n=-1,s=-1,a=-1,l=-1,c="",u="",d=0,p=e.json_field.cont;d<p.length;d++){if((E=p[d]).relid===t.relid)n=E.col,s=E.row,l=E.colspan,u=E.frameOverflow,c=E.type;else if(E.type===r.ElementTypeEnum.STACK)for(var h=0,f=E.cont;h<f.length;h++)if((O=f[h]).relid===t.relid){n=O.col+E.col,s=O.row,a=E.row,l=O.colspan,c=O.type;break}if(-1!==n)break}var m={relid:t.relid,type:c,mouseStartX:t.event.clientX,diffX:0,directionIsLeft:t.directionIsLeft,altKeyPressed:t.altKeyPressed,row:s,rowOfStack:a,col:n,colspan:l,frameOverflow:u,width:-1,left:-1,resizable:!0};return Object.assign({},e,{resize:m});case o.MOVE_RESIZE:if((m=Object.assign({},e.resize)).col=t.col,m.colspan=t.colspan,m.frameOverflow=t.frameOverflow,m.width=t.width,m.left=t.left,m.resizable=!0,m.diffX=t.diffX,m.colspan+m.col>e.json_field.colCount&&(m.resizable=!1),m.resizable)for(var g=0,y=e.json_field.cont;g<y.length;g++){var E=y[g];if(m.relid!==E.relid&&m.row===E.row){if(m.colspan+m.col>E.col&&E.colspan+E.col>m.col){var b=!1;null!==e.json_field.rowAttrs[E.row]&&void 0!==e.json_field.rowAttrs[E.row]&&!0===e.json_field.rowAttrs[E.row].row100vh&&(b=!0);var _=[r.ElementTypeEnum.TEXT];if(-1===_.indexOf(m.type)&&-1===_.indexOf(E.type)||!b){m.resizable=!1;break}if(!m.resizable)break}}else if(m.relid===E.relid&&m.type===r.ElementTypeEnum.STACK)for(var v=0,w=E.cont;v<w.length;v++){var O=w[v];(m.col>O.col+E.col||m.col+m.colspan<O.col+O.colspan+E.col)&&(m.resizable=!1)}else if(E.type===r.ElementTypeEnum.STACK){for(var C=!1,A=0,T=E.cont;A<T.length;A++)if(O=T[A],m.relid===O.relid){C=!0;break}C&&(m.col<E.col||m.col+m.colspan>E.col+E.colspan)&&(m.resizable=!1)}}return Object.assign({},e,{resize:m});case o.END_RESIZE:if(e.resize.resizable){var S=Object.assign([],e.json_field.cont),N=!1;for(var k in S){if(e.resize.relid===S[k].relid){var j=S[k].col-e.resize.col;if(S[k]=Object.assign({},S[k],{col:e.resize.col,colspan:e.resize.colspan,frameOverflow:e.resize.frameOverflow}),S[k].type===r.ElementTypeEnum.STACK)for(var M in S[k].cont=Object.assign([],S[k].cont),S[k].cont)S[k].cont[M]=Object.assign({},S[k].cont[M],{col:S[k].cont[M].col+j});S.sort(i.sortElementFunc),N=!0}else if(S[k].type===r.ElementTypeEnum.STACK)for(var M in S[k].cont)if(e.resize.relid===S[k].cont[M].relid){S[k]=Object.assign({},S[k]),S[k].cont=Object.assign([],S[k].cont),S[k].cont[M]=Object.assign({},S[k].cont[M],{col:e.resize.col-S[k].col,colspan:e.resize.colspan}),N=!0;break}if(N)break}i.calcPushes(S,e.json_field.rowAttrs);var x=Object.assign({},e.json_field,{cont:S});return Object.assign({},e,{json_field:x,resize:null})}return Object.assign({},e,{resize:null})}return e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(8),r=n(5),i=n(4);t.default=function(e,t){switch(t.type){case o.START_DND:for(var n=-1,s=-1,a=-1,l="",c=null,u=0,d=0,p=e.json_field.cont;d<p.length;d++){if((b=p[d]).relid===t.relid)n=b.col,s=b.row,a=b.colspan,l=b.type,u=0;else if(b.type===r.ElementTypeEnum.STACK){u=0;for(var h=0,f=b.cont;h<f.length;h++){var m=f[h];if(m.relid===t.relid){n=b.col+m.col,s=b.row,a=m.colspan,l=m.type,c=b.relid;break}u+=e.elementsHeight[m.relid]}}if(-1!==n)break}var g={relid:t.relid,type:l,mouseStartX:t.event.clientX,mouseStartY:t.event.clientY,row:s,col:n,colspan:a,insertable:!0,inStack:c,offsetInRow:u};return Object.assign({},e,{dnd:g});case o.MOVE_DND:if((g=Object.assign({},e.dnd)).row=t.row,g.col=t.col,g.insertable=!0,g.inStack=null,g.offsetInRow=t.offsetInRow,g.colspan+g.col>e.json_field.colCount&&(g.insertable=!1),g.insertable)for(var y=0,E=e.json_field.cont;y<E.length;y++){var b=E[y];if(g.relid!==b.relid&&g.row===b.row){if(b.type===r.ElementTypeEnum.STACK&&g.type!==r.ElementTypeEnum.STACK&&b.col<=g.col&&b.col+b.colspan>=g.col+g.colspan){g.inStack=b.relid;continue}if(g.colspan+g.col>b.col&&b.colspan+b.col>g.col){var _=!1;null!==e.json_field.rowAttrs[b.row]&&void 0!==e.json_field.rowAttrs[b.row]&&!0===e.json_field.rowAttrs[b.row].row100vh&&(_=!0);var v=[r.ElementTypeEnum.TEXT];if(-1===v.indexOf(b.type)&&-1===v.indexOf(g.type)||!_){g.insertable=!1;break}}}}return Object.assign({},e,{dnd:g});case o.END_DND:if(null!==e.dnd&&e.dnd.insertable){for(var w=Object.assign([],e.json_field.cont),O=(b=null,0);O<w.length;O++){if(e.dnd.relid===w[O].relid)b=Object.assign({},w[O],{row:e.dnd.row,col:e.dnd.col}),w.splice(O,1);else if(w[O].type===r.ElementTypeEnum.STACK)for(var C=0;C<w[O].cont.length;C++)if(e.dnd.relid===w[O].cont[C].relid){w[O]=Object.assign({},w[O]),w[O].cont=Object.assign([],w[O].cont),b=Object.assign({},w[O].cont[C],{row:e.dnd.row,col:e.dnd.col}),w[O].cont.splice(C,1);break}if(null!==b)break}if(null===e.dnd.inStack)b.align="bottom",e.dnd.offsetInRow<=e.rowsHeight[b.row]/3?b.align="top":e.dnd.offsetInRow<2*e.rowsHeight[b.row]/3&&(b.align="middle"),0!==b.col&&i.isFrameOverflowLeft(b.frameOverflow)&&(b.frameOverflow=i.mergeFrameOverflowLeft(b.frameOverflow,!1)),b.col+b.colspan!==e.json_field.colCount&&i.isFrameOverflowRight(b.frameOverflow)&&(b.frameOverflow=i.mergeFrameOverflowRight(b.frameOverflow,!1)),""===b.frameOverflow&&delete b.frameOverflow,w.push(b),w.sort(i.sortElementFunc);else for(delete b.frameOverflow,O=0;O<w.length;O++)if(e.dnd.inStack===w[O].relid){w[O]=Object.assign({},w[O]),b.row=-1,b.col=b.col-w[O].col,w[O]=Object.assign({},w[O]),w[O].cont=Object.assign([],w[O].cont);var A=0,T=0;if(e.elementsHeight[e.json_field.cont[O].relid]<e.rowsHeight[e.json_field.cont[O].row])switch(T=e.rowsHeight[e.json_field.cont[O].row]-e.elementsHeight[e.json_field.cont[O].relid],e.json_field.cont[O].align){case"top":T=0;break;case"middle":T/=2}for(0!==e.json_field.cont[O].cont.length&&(T+=e.elementsHeight[e.json_field.cont[O].cont[0].relid]/2),C=0;C<e.json_field.cont[O].cont.length&&!(e.dnd.offsetInRow<T);C++)e.json_field.cont[O].cont[C].relid!==e.dnd.relid&&A++,e.json_field.cont[O].cont.length>C+1&&(T+=(e.elementsHeight[e.json_field.cont[O].cont[C].relid]+e.elementsHeight[e.json_field.cont[O].cont[C+1].relid])/2);w[O].cont.splice(A,0,b);break}i.calcPushes(w,e.json_field.rowAttrs);var S=Object.assign({},e.json_field,{cont:w});return Object.assign({},e,{json_field:S,dnd:null})}return Object.assign({},e,{dnd:null})}return e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(8);t.default=function(e,t){switch(t.type){case o.TOGGLE_SELECTED_ELEMENT:return(n=(s=Object.assign([],e.selectedElementsId)).indexOf(t.selectedElementId))>=0?s.splice(n,1):s.push(t.selectedElementId),Object.assign({},e,{selectedElementsId:s,selectedRowGutters:[]});case o.SET_SELECTED_ELEMENTS:return Object.assign({},e,{selectedElementsId:t.selectedElementsId,selectedRowGutters:[]});case o.TOGGLE_SELECTED_ROW_GUTTER:var n,r=Object.assign([],e.selectedRowGutters);return(n=r.indexOf(t.selectedRowGutter))>=0?r.splice(n,1):r.push(t.selectedRowGutter),Object.assign({},e,{selectedRowGutters:r,selectedElementsId:[]});case o.SET_SELECTED_ROW_GUTTERS:return Object.assign({},e,{selectedRowGutters:t.selectedRowGutters,selectedElementsId:[]});case o.SHIFT_SELECTED_ELEMENTS:if(0===e.selectedElementsId.length)return Object.assign({},e,{selectedElementsId:[t.shiftElementId],selectedRowGutters:[]});var i=Object.assign(Array(),e.selectedElementsId);i.push(t.shiftElementId);for(var s=[],a=!1,l=0,c=e.json_field.cont;l<c.length;l++){var u=c[l],d=i.indexOf(u.relid);if(a||-1===d||(a=!0),a&&(s.push(u.relid),-1!==d&&i.splice(d,1),0===i.length))break}return Object.assign({},e,{selectedElementsId:s,selectedRowGutters:[]})}return e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(8),r=n(4);t.default=function(e,t){switch(t.type){case o.CHANGE_BREAKPOINT:return"desktop"===e.currentLayout?Object.assign({},e,{json_field:e.phone_gridder_json_field,gridder_json_field:e.json_field,currentLayout:"phone",selectedElementsId:[],rowCount:r.calcRowCount(e.phone_gridder_json_field)}):Object.assign({},e,{json_field:e.gridder_json_field,phone_gridder_json_field:e.json_field,currentLayout:"desktop",selectedElementsId:[],rowCount:r.calcRowCount(e.gridder_json_field)});case o.CHANGE_GUIDES_VISIBILITY:return Object.assign({},e,{guidesVisibility:t.guidesVisibility});case o.SET_BACKGROUND_COLOR:var n=Object.assign({},e.json_field,{bgColor:t.bgColor});return Object.assign({},e,{json_field:n});case o.CHANGE_COLUMN_COUNT:return n=Object.assign({},e.json_field,{colCount:t.colCount}),Object.assign({},e,{json_field:n});case o.CHANGE_FRAME_MARGIN:return n=Object.assign({},e.json_field,{frameMargin:t.frameMargin}),Object.assign({},e,{json_field:n});case o.CHANGE_TOP_FRAME_MARGIN:return n=Object.assign({},e.json_field,{topFrameMargin:t.topFrameMargin}),Object.assign({},e,{json_field:n});case o.CHANGE_BOTTOM_FRAME_MARGIN:return n=Object.assign({},e.json_field,{bottomFrameMargin:t.bottomFrameMargin}),Object.assign({},e,{json_field:n});case o.SET_HEADER_HEIGHT:return e.headerHeight!==t.headerHeight?Object.assign({},e,{headerHeight:t.headerHeight}):e;case o.CHANGE_COLUMN_GUTTER:return n=Object.assign({},e.json_field,{colGutter:t.colGutter}),Object.assign({},e,{json_field:n});case o.CHANGE_ROW_GUTTERS:var i=e.json_field.rowGutters.map(function(n,o){return 0===e.selectedRowGutters.length?t.rowGutter:n===t.rowGutter||-1===e.selectedRowGutters.indexOf(o)?n:t.rowGutter});return n=Object.assign({},e.json_field,{rowGutters:i}),Object.assign({},e,{json_field:n});case o.CHANGE_ALIGN_OF_SELECTED_ELEMENTS:var s=Object.assign([],e.json_field.cont);for(var a in s)-1!==e.selectedElementsId.indexOf(s[a].relid)&&(s[a]=Object.assign({},s[a],{align:t.align}));return n=Object.assign({},e.json_field,{cont:s}),Object.assign({},e,{json_field:n})}return e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e,n){for(var o=arguments.length,r=Array(o>2?o-2:0),i=2;i<o;i++)r[i-2]=arguments[i];return t.reduce(function(e,t){return t.apply(void 0,[e,n].concat(r))},e)}},e.exports=t.default},function(e,t){e.exports=ReduxThunk},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),r=n(266),i=n(265),s=n(264),a=n(263),l=n(262),c=n(261),u=n(260),d=n(259),p=n(258),h=n(257),f=n(256),m=n(255),g=n(254),y=n(253),E=o.applyMiddleware(r.default);t.default=function(e){return o.createStore(i(s.default,a.default,l.default,c.default,u.default,d.default,h.default,p.default,y.default,f.default,g.default,m.default),e,E)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),r=n(36),i=n(1),s=n(267),a=n(9),l=n(20),c=n(252),u=n(5),d=n(4),p=n(6),h=function(){if(null===document.getElementById("gridder"))setTimeout(function(){h()},200);else if(p.default.plugins&&p.default.plugins.qTranslateX&&void 0===l.default.qTranslateConfig.activeLanguage)setTimeout(function(){h()},200);else{var e,t=null,n=null,a=document.getElementById("gridder_json_field").value;try{t=""===a?d.getDesktopGridderJsonDefault():u.castJsonFieldType(JSON.parse(a))}catch(e){d.showJsonInvalidError(a,"Desktop"),t=d.getDesktopGridderJsonDefault(),document.getElementById("gridder-json-metabox")&&(document.getElementById("gridder-json-metabox").style.display="block"),document.getElementById("gridder_json_field").style.display="inline-block",document.getElementById("gridder_json_field").style.width="100%",document.getElementById("gridder_json_field").style.minHeight="300px"}e=d.calcRowCount(t);var f=document.getElementById("phone_gridder_json_field").value;try{""!==f&&(n=JSON.parse(f))}catch(e){d.showJsonInvalidError(a,"Phone"),document.getElementById("gridder-phone-json-metabox")&&(document.getElementById("gridder-phone-json-metabox").style.display="block"),document.getElementById("phone_gridder_json_field").style.display="inline-block",document.getElementById("phone_gridder_json_field").style.width="100%",document.getElementById("phone_gridder_json_field").style.minHeight="300px"}d.initRelids(t,n);var m={gridder_json_field:t,phone_gridder_json_field:n,json_field:t,currentLayout:"desktop",error:{},guidesVisibility:!0,selectedElementsId:[],selectedRowGutters:[],elementsHeight:[],rowsHeight:[],rowsTop:[],rowCount:e,contentWrapperWidth:0,headerHeight:0,dnd:null,resize:null,addElements:null,addElementPosition:null,modal:null,notice:null,thumbnailGridPosts:[]},g=s.default(m);r.render(o.createElement(i.Provider,{store:g},o.createElement(c.default,null)),document.getElementById("gridder")),document.addEventListener("dragover",function(e){l.default.polyFillClientX=e.clientX,l.default.polyFillClientY=e.clientY})}};a.default(document).ready(function(){h()})},function(e,t,n){e.exports=n(268)}]);