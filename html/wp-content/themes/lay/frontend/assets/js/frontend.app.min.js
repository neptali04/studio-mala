!function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=6)}([function(e,t,n){"use strict";n.r(t),n.d(t,"utility_controller",function(){return a}),n.d(t,"Utility",function(){return r});var i=n(1),o=Backbone.Radio.channel("events"),a={initModule:function(){P(),l(),k(),z(),S(),D(),C(),T(),O(),$(),M(),g(),s()},map:function(e,t,n,i,o){return x(e,t,n,i,o)},filterURL:function(e){return p(e)},isInternUrl:function(e){return f(e)},stringStartsWith:function(e,t){return h(e,t)},fixBody:function(){N()},unfixBody:function(){H()},stringifyCatIds:function(e){return u(e)},parseCatIds:function(e){return c(e)},fadeInImageOnLoadViaParent:function(e){d(e)},setSrcAndSrcSetViaParent:function(e){w(e)},setBodyClasses:function(e){Q(e)},setImageSizesAttribute:function(e){m(e)}},r={orientation:window.innerWidth>window.innerHeight?"landscape":"portrait",previousOrientation:window.innerWidth>window.innerHeight?"landscape":"portrait",isPhoneSize:null,isDesktopSize:null,isTabletSize:null,isNotPhoneSize:null,screenSize:null,breakpoint:parseInt(frontendPassedData.breakpoint,10),tabletBreakpoint:parseInt(frontendPassedData.tabletbreakpoint,10),phoneBreakpoint:parseInt(frontendPassedData.breakpoint,10),isTouchDevice:!1,supportsPlaysInline:!1,showOriginalImages:"on"==frontendPassedData.misc_options_showoriginalimages,imageSizes:["265","512","768","1024","1280","1920","2560","3200","3840","4096"]},s=function(){jQuery(window).on("fpAfterRender",function(){setTimeout(function(){j(),lazySizes.autoSizer.checkElems()},0)})},d=function(e){void 0===e&&(e=jQuery(".lay-content")),e.find("img.setsizes, img.lay-gif, img.lay-image-original").each(function(){var e=this;e.complete?e.classList.add("loaded"):e.addEventListener("load",function(){e.classList.add("loaded")})})},l=function(){jQuery(window).on("scroll",function(){o.trigger("scroll")})},u=function(e){if(""==e||void 0===e||null==e)return"[]";if("string"==typeof e)return e;for(var t=0;t<e.length;t++)e[t]=parseInt(e[t],10);return JSON.stringify(e)},c=function(e){if(""==e||void 0===e||null==e)return[];if(Array.isArray(e))return e;e=JSON.parse(e);for(var t=0;t<e.length;t++)e[t]=parseInt(e[t],10);return e},h=function(e,t){return e.slice(0,t.length).toLowerCase()==t.toLowerCase()},f=function(e){var t=frontendPassedData.siteUrl;t.startsWith("http://")?t=t.substr(7):t.startsWith("https://")&&(t=t.substr(8)),t.startsWith("www.")&&(t=t.substr(4));var n=e;if(n.startsWith("http://")?n=n.substr(7):n.startsWith("https://")&&(n=n.substr(8)),n.startsWith("www.")&&(n=n.substr(4)),n.startsWith(t))return!0},p=function(e){if(null!==e&&""!=e&&void 0!==e){var t=(e=y(e)).substring(0,5);if("http:"==t&&1==frontendPassedData.is_ssl)e="https:"+e.substring(5);else if("https"==t&&(0==frontendPassedData.is_ssl||""==frontendPassedData.is_ssl)){e="http"+e.substring(5)}if(1==frontendPassedData.has_www){if(1==frontendPassedData.is_ssl){if("https://www."!=e.substring(0,12))e="https://www."+e.substring(8)}else if("http://www."!=e.substring(0,11))e="http://www."+e.substring(7)}else if(1==frontendPassedData.is_ssl){if("https://www."==e.substring(0,12))e="https://"+e.substring(12)}else if("http://www."==e.substring(0,11))e="http://"+e.substring(11)}return e},y=function(e){return e.startsWith("mailto:")||e.startsWith("#")||e.startsWith("tel:")?e:"/"==e.substr(0,1)?frontendPassedData.siteUrl+e:e},g=function(){window.laytheme.on("newpageshown",function(e,t,n){setTimeout(function(){void 0!==window.instgrm&&window.instgrm.Embeds.process()},0),m(),v()}),window.laytheme.on("searchresultshown",function(){var e=jQuery("#search-region");w(e),m(e),d(e),v()})},w=function(e){e.find("img.setsizes").each(function(){var e=jQuery(this).attr("data-srcset"),t=jQuery(this).attr("data-src");jQuery(this).attr({src:t,srcset:e})}),e.find("img.lay-gif, img.lay-image-original").each(function(){var e=jQuery(this).attr("data-src");jQuery(this).attr("src",e)})},v=function(){window.respimage&&window.respimage()},m=function(e){void 0===e&&(e=jQuery("body")),e.find("img.setsizes:not(img.setsizes-objectfit-cover)").each(function(){var e=this.clientWidth;if(0==e){var t=jQuery(this).attr("data-ar");e=this.clientHeight/t}e=b(e),jQuery(this).attr("sizes",e+"px")}),j()},b=function(e){for(var t=[265,512,768,1024,1280,1920,2560,3200,3840,4096],n=e,i=0;i<t.length;i++)if(t[i]>=e){n=t[i];break}return n},j=function(e){void 0===e&&(e=jQuery("body")),e.find(".background-image img.setsizes.setsizes-objectfit-cover").each(function(){var e=this.parentNode.getBoundingClientRect(),t=parseInt(jQuery(this).attr("data-w"),10),n=parseInt(jQuery(this).attr("data-h"),10),i=0;t/n<e.width/e.height?i=e.width:i=n/t*e.height;i=b(i),jQuery(this).attr("sizes",parseInt(i,10)+"px")})},Q=function(e){var t="type-"+e.type+" id-"+e.id+" slug-"+e.slug;if(void 0!==e.catid)for(var n=0;n<e.catid.length;n++)t+=" category-"+e.catid[n]+" ";!function(e,t,n){if(-1===t.indexOf("*"))return e.removeClass(t),n?e.addClass(n):e;var i=new RegExp("\\s"+t.replace(/\*/g,"[A-Za-z0-9-_]+").split(" ").join("\\s|\\s")+"\\s","g");e.each(function(e,t){for(var n=" "+t.className+" ";i.test(n);)n=n.replace(i," ");t.className=jQuery.trim(n)}),n&&e.addClass(n)}(jQuery("body"),"type-* id-* slug-* category-*",t),jQuery("body").attr({"data-type":e.type,"data-id":e.id,"data-slug":e.slug,"data-catid":u(e.catid)})},x=function(e,t,n,i,o){return i+(e-t)/(n-t)*(o-i)},C=function(){r.isTouchDevice=navigator.userAgent.match(/(iPhone|iPod|iPad|Android|playbook|silk|BlackBerry|BB10|Windows Phone|Tizen|Bada|webOS|IEMobile|Opera Mini)/),null==r.isTouchDevice&&(r.isTouchDevice=!1)},P=function(){var e=window.innerWidth;jQuery(window).on("resize",function(){e!=window.innerWidth&&jQuery(window).trigger("window_width_changed"),e=window.innerWidth})},k=function(){jQuery(window).on("orientationchange window_width_changed",function(){S(),D()}),jQuery(window).on("window_width_changed",_.debounce(function(){m()},300))},D=function(){r.orientation=window.innerWidth>window.innerHeight?"landscape":"portrait",r.orientation!=r.previousOrientation&&window.laytheme.trigger("orientationchanged",r.orientation),r.previousOrientation=r.orientation},z=function(){window.innerWidth<=r.phoneBreakpoint?r.screenSize="phone":window.innerWidth<=r.tabletBreakpoint?r.screenSize="tablet":r.screenSize="desktop"},S=function(){var e=r.screenSize;switch(window.innerWidth<=r.phoneBreakpoint?r.screenSize="phone":window.innerWidth<=r.tabletBreakpoint?r.screenSize="tablet":r.screenSize="desktop",r.screenSize){case"desktop":jQuery("html").addClass("desktop-size").removeClass("tablet-size phone-size"),r.isPhoneSize=!1,r.isTabletSize=!1,r.isDesktopSize=!0,r.isDesktopOrTabletSize=!0;break;case"tablet":jQuery("html").addClass("tablet-size").removeClass("desktop-size phone-size"),r.isPhoneSize=!1,r.isTabletSize=!0,r.isDesktopSize=!1,r.isDesktopOrTabletSize=!0;break;case"phone":jQuery("html").addClass("phone-size").removeClass("desktop-size tablet-size"),r.isPhoneSize=!0,r.isTabletSize=!1,r.isDesktopSize=!1,r.isDesktopOrTabletSize=!1}e!=r.screenSize&&i.a.triggerSizeChanged(r.screenSize)},$=function(){"instant_load"==frontendPassedData.image_loading&&window.laytheme.on("newpageshown",function(){jQuery(".img img.lazyload, .thumb img.lazyload, .background-image img.lazyload").get().forEach(lazySizes.loader.unveil),setTimeout(function(){jQuery(".lay-carousel-slide.is-selected img").get().forEach(lazySizes.loader.unveil)},200)})},M=function(){Modernizr.objectfit||(window.laytheme.on("newpageshown",L),jQuery(window).on("resize orientationchange",L))},L=function(){setTimeout(function(){jQuery(".background-image img").each(function(){var e=jQuery(this).attr("data-ar"),t=this.parentNode.getBoundingClientRect(),n=t.height/t.width;void 0!==e?e>n?jQuery(this).addClass("bgw100").removeClass("bgh100"):jQuery(this).addClass("bgh100").removeClass("bgw100"):jQuery(this).addClass("bgw100").removeClass("bgh100")}),j(),jQuery(".background-video video").each(function(){var e=jQuery(this).attr("data-ar"),t=this.parentNode.getBoundingClientRect(),n=t.height/t.width;void 0!==e?e>n?jQuery(this).addClass("w100").removeClass("h100"):jQuery(this).addClass("h100").removeClass("w100"):jQuery(this).addClass("w100").removeClass("h100")})},0)},O=function(){var e=[265,512,768,1024,1280,1920,2560,3200,3840,4096];document.addEventListener("lazybeforesizes",function(t){var n;for(n=0;n<e.length;n++)if(e[n]>=t.detail.width){t.detail.width=e[n];break}})},T=function(){if(r.supportsPlaysInline=!1,r.isTouchDevice){var e=new MobileDetect(window.navigator.userAgent);if("iOS"==e.os()&&"Safari"==e.userAgent()&&e.version("Safari")>=10)return void(r.supportsPlaysInline=!0);if("AndroidOS"==e.os()&&"Chrome"==e.userAgent()&&e.version("Chrome")>=53)return void(r.supportsPlaysInline=!0);r.supportsPlaysInline=!0}},I=!1,A=0,N=function(){I||(I=!0,A=window.pageYOffset||document.documentElement.scrollTop,jQuery("body").css({top:-A+"px"}),setTimeout(function(){jQuery("body").css("position","fixed")},0))},H=function(){I&&(I=!1,jQuery("body").css("position",""),jQuery(document).scrollTop(A))}},function(e,t,n){"use strict";var i={triggerNewProjectPageLayoutObj:function(e){window.laytheme.trigger("newprojectpagelayoutobj",e),window.Frontend.GlobalEvents.trigger("newprojectpagelayoutobj",e)},triggerProjectPageShown:function(){window.laytheme.trigger("projectpageshown"),window.Frontend.GlobalEvents.trigger("projectpageshown")},triggerNewPage:function(e,t,n){window.laytheme.trigger("newpage",e,t,n),window.Frontend.GlobalEvents.trigger("newpage",e,t,n)},triggerNewPageShown:function(e,t,n){window.laytheme.trigger("newpageshown",e,t,n),window.Frontend.GlobalEvents.trigger("newpageshown",e,t,n)},triggerSwitchedDesktopLayoutToCustomPhoneLayout:function(){window.laytheme.trigger("switched_desktoplayout_to_customphonelayout")},triggerSwitchedCustomPhoneLayoutToDesktopLayout:function(){window.laytheme.trigger("switched_customphonelayout_to_desktoplayout")},triggerGridShown:function(e,t,n,i){window.laytheme.trigger("gridshown",e,t,n,i)},triggerSizeChanged:function(e){window.laytheme.trigger("sizechanged",e)},triggerPushState:function(){window.laytheme.trigger("pushstate")}};t.a=i},function(e,t,n){"use strict";n.r(t);var i=n(0),o=[],a=function(e){this.identifier=e,this.$nav_el=jQuery("nav."+e),this.suffix="primary"==e?"":"_"+e,this.nav_hide=frontendPassedData.nav_customizer_properties["nav_hide"+this.suffix],this.nav_hidewhenscrollingdown=frontendPassedData.nav_customizer_properties["nav_hidewhenscrollingdown"+this.suffix],this.nav_hidewhenscrolling_show_on_mouseover=frontendPassedData.nav_customizer_properties["nav_hidewhenscrolling_show_on_mouseover"+this.suffix],this.nav_position=frontendPassedData.nav_customizer_properties["nav_position"+this.suffix],this.rect=null,this.height_and_space_around=null,this.set_height_and_space_around()};a.prototype.setRect=function(){this.rect=this.$nav_el[0].getBoundingClientRect()},a.prototype.set_height_and_space_around=function(){this.setRect(),this.height_and_space_around=this.$nav_el.outerHeight(),-1!=this.nav_position.indexOf("top")?this.height_and_space_around+=this.rect.top:this.height_and_space_around+=window.innerHeight-this.rect.bottom,this.height_and_space_around+=20},a.prototype.show_on_mouseover=function(e){this.nav_hidewhenscrolling_show_on_mouseover&&-1!=this.nav_position.indexOf(e)&&this.show()},a.prototype.show=function(){this.nav_hidewhenscrollingdown&&!this.nav_hide&&(0!=window.lay_lightbox_opened&&void 0!==window.lay_lightbox_opened||this.$nav_el.hasClass("hidden")&&this.$nav_el.removeClass("hidden").css({top:"",bottom:""}))},a.prototype.hide=function(){if(this.nav_hidewhenscrollingdown&&i.Utility.isDesktopOrTabletSize&&!this.nav_hide&&(this.setRect(),!this.$nav_el.hasClass("hidden"))){if(-1!=this.nav_position.indexOf("top")){var e=this.rect.top-this.height_and_space_around;this.$nav_el.css("top",e+"px")}else{e=window.innerHeight-this.rect.bottom-this.height_and_space_around;this.$nav_el.css("bottom",e+"px")}this.$nav_el.addClass("hidden")}};jQuery(document).ready(function(){!function(){switch(parseInt(frontendPassedData.nav_amount,10)){case 1:var e=new a("primary");o=[e];break;case 2:e=new a("primary");var t=new a("second_menu");o=[e,t];break;case 3:e=new a("primary"),t=new a("second_menu");var n=new a("third_menu");o=[e,t,n];break;case 4:e=new a("primary"),t=new a("second_menu"),n=new a("third_menu");var i=new a("fourth_menu");o=[e,t,n,i]}}()});var r=function(){return o},s=Backbone.Radio.channel("events"),d={initModule:function(){Q()},showAll:function(){C()},hideAll:function(){x()},setJqueryMap:function(){v()},hideSt:function(){y()},showSt:function(){p()},getStPos:function(){return f()}},l=(t.default=d,20),u=50,c={oldScrollY:0,stheight:0,st_pos:"top",st_hidewhenscrollingdown:!1,st_exists:!0,navbar_exists:!0,navbar_hidewhenscrollingdown:!1,mouseover_target_area_bottom:0,mouseover_target_area_top:0},h={$navbar:null,$st:null},f=function(){return c.st_pos},p=function(){c.st_hidewhenscrollingdown&&c.st_exists&&(0!=window.lay_lightbox_opened&&void 0!==window.lay_lightbox_opened||h.$st.hasClass("hidden")&&h.$st.removeClass("hidden").css({top:"",bottom:""}))},y=function(){if(c.st_hidewhenscrollingdown&&i.Utility.isDesktopOrTabletSize&&c.st_exists&&!h.$st.hasClass("hidden")){var e=h.$st[0].getBoundingClientRect();if("top"==c.st_pos||"center"==c.st_pos){var t=e.top-c.stheight;h.$st.css("top",t+"px")}else if("bottom"==c.st_pos){t=window.innerHeight-e.bottom-c.stheight;h.$st.css("bottom",t+"px")}h.$st.addClass("hidden")}},g=function(){for(var e=r(),t=0;t<e.length;t++)e[t].hide()},w=function(){for(var e=r(),t=0;t<e.length;t++)e[t].show()},v=function(){c.navbar_exists&&(h.$navbar=jQuery(".navbar")),c.st_hidewhenscrollingdown&&c.st_exists&&(h.$st=jQuery(".sitetitle"))},m=function(){if(c.navbar_exists&&c.navbar_hidewhenscrollingdown&&i.Utility.isDesktopOrTabletSize&&!h.$navbar.hasClass("hidden")){var e=h.$navbar[0].getBoundingClientRect();"top"==frontendPassedData.navbar_position?h.$navbar.css("top",-e.height+"px"):"bottom"==frontendPassedData.navbar_position&&h.$navbar.css("bottom",-e.height+"px"),h.$navbar.addClass("hidden")}},b=function(){c.navbar_exists&&c.navbar_hidewhenscrollingdown&&(0!=window.lay_lightbox_opened&&void 0!==window.lay_lightbox_opened||h.$navbar.removeClass("hidden").css({top:"",bottom:""}))},j=function(){if(c.stheight=0,c.st_exists&&c.st_hidewhenscrollingdown){var e=h.$st.outerHeight();"top"==c.st_pos||"center"==c.st_pos?e+=h.$st[0].getBoundingClientRect().top:"bottom"==c.st_pos&&(e+=window.innerHeight-h.$st[0].getBoundingClientRect().bottom),e+=l,c.stheight=e}},Q=function(){if(-1!=frontendPassedData.st_position.indexOf("top")?c.st_pos="top":-1!=frontendPassedData.st_position.indexOf("bottom")?c.st_pos="bottom":c.st_pos="center",1==frontendPassedData.st_hidewhenscrollingdown?c.st_hidewhenscrollingdown=!0:c.st_hidewhenscrollingdown=!1,1==frontendPassedData.st_hide?c.st_exists=!1:c.st_exists=!0,1==frontendPassedData.navbar_hide?c.navbar_exists=!1:c.navbar_exists=!0,1==frontendPassedData.navbar_hidewhenscrollingdown?c.navbar_hidewhenscrollingdown=!0:c.navbar_hidewhenscrollingdown=!1,v(),j(),s.on("scroll",function(){var e=window.pageYOffset||document.documentElement.scrollTop;e>0&&e<jQuery(document).outerHeight()-window.innerHeight&&i.Utility.isDesktopOrTabletSize&&(e>c.oldScrollY&&e>u&&(c.startedScrollingUpY=e,g(),y(),m()),e<c.oldScrollY&&e<c.startedScrollingUpY-u/2&&(w(),p(),b()),e<u&&(w(),p(),b()),c.oldScrollY=e)}),jQuery(window).on("resize",_.debounce(function(){j();for(var e=r(),t=0;t<e.length;t++)e[t].set_height_and_space_around()},300)),jQuery(window).on("mousemove",_.throttle(function(e){if(i.Utility.isDesktopOrTabletSize){var t=r();if(e.clientY<=c.mouseover_target_area_top){for(var n=0;n<t.length;n++)t[n].show_on_mouseover("top");"top"==c.st_pos&&p(),"top"==frontendPassedData.navbar_position&&b()}if(e.clientY>=window.innerHeight-c.mouseover_target_area_bottom){for(n=0;n<t.length;n++)t[n].show_on_mouseover("bottom");"bottom"==c.st_pos&&p(),"bottom"==frontendPassedData.navbar_position&&b()}}},100)),function(){var e=0;"top"==c.st_pos&&(e=c.stheight);for(var t=r(),n=0;n<t.length;n++)if(-1!=t[n].nav_position.indexOf("top")){var i=t[n].height_and_space_around;i>e&&(e=i)}if("top"==frontendPassedData.navbar_position&&c.navbar_exists){var o=h.$navbar.height();e=e<o?o:e}c.mouseover_target_area_top=e}(),function(){var e=0;"bottom"==c.st_pos&&(e=c.stheight);for(var t=r(),n=0;n<t.length;n++)if(-1!=t[n].nav_position.indexOf("bottom")){var i=t[n].height_and_space_around;i>e&&(e=i)}if("bottom"==frontendPassedData.navbar_position&&c.navbar_exists){var o=h.$navbar.height();e=e<o?o:e}c.mouseover_target_area_bottom=e}(),jQuery(".sitetitle").hasClass("img")){var e=jQuery(".sitetitle img")[0];e.complete?j():e.onload=function(){j()}}window.laytheme.on("newpageshown",function(){C()})},x=function(){g(),y(),hideNavBar()},C=function(){w(),p(),b()}},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";n.r(t),n.d(t,"load_visible_images_then_rest_controller",function(){return s});var i=n(0),o=function(e){if(e.hasClass("setsizes")){var t=e.attr("data-srcset"),n=e.attr("data-src");e.attr({src:n,srcset:t})}else if(e.hasClass("lay-gif")||e.hasClass("lay-image-original")){n=e.attr("data-src");e.attr("src",n)}},a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=e.getBoundingClientRect();return n.top<=window.innerHeight&&n.height>0+t},r=function(e,t,n){return 1==e};var s={initLoadImages:function(e){i.Utility.isTouchDevice?e.find("img.setsizes, img.lay-gif, img.lay-image-original").each(function(){o(jQuery(this))}):new function(e){var t=e,n=[],i=[],s=[],d=function(){for(var e=0;e<s.length;e++){var t=jQuery(s[e]);o(t)}};return{loadImages:function(){t.find("img.setsizes, img.lay-gif, img.lay-image-original").each(function(){a(this)?(n.push(this),i.push(!1)):s.push(this)});for(var e=0;e<n.length;e++)!function(e){var t=jQuery(n[e]);o(t),t[0].complete?i[e]=!0:t[0].addEventListener("load",function(){i[e]=!0})}(e);if(n.length>0)var l=setInterval(function(){i.every(r)&&(d(),clearInterval(l))},30);else d()}}}(e).loadImages()},loadImage:o}},function(e,t,n){"use strict";n.r(t);var i={isIOS:!1,isTouchDevice:!1},o={initModule:function(){r()}};t.default=o;var a=function(){jQuery(".html5video video").each(function(){var e=this,t=jQuery(this.parentNode).find(".html5video-customplayicon"),n=jQuery(this.parentNode).find(".html5-video-placeholder-image");t.on("click",function(){jQuery(e).addClass("userinteractedwith-playing"),jQuery(e).removeClass("userinteractedwith-paused"),jQuery(e).show(),jQuery(e)[0].play(),jQuery(this).hide(),n.hide()})}),jQuery(".html5video .html5-video-placeholder-image.playpauseonclick").each(function(){var e=jQuery(this.parentNode).find("video"),t=jQuery(this.parentNode).find(".html5video-customplayicon");jQuery(this).on("click",function(){jQuery(e).addClass("userinteractedwith-playing"),jQuery(e).removeClass("userinteractedwith-paused"),jQuery(e).show(),jQuery(e)[0].play(),jQuery(this).hide(),t.hide()})});var e=".html5video video.playpauseonclick";i.isTouchDevice&&(e=".html5video video"),jQuery(e).on("click",function(){this.paused?(this.play(),jQuery(this.parentNode).find(".html5video-customplayicon").hide(),jQuery(this).addClass("userinteractedwith-playing"),jQuery(this).removeClass("userinteractedwith-paused")):(this.pause(),jQuery(this.parentNode).find(".html5video-customplayicon").show(),jQuery(this).removeClass("userinteractedwith-playing"),jQuery(this).addClass("userinteractedwith-paused"))})},r=function(){i.isIOS=/iPad|iPhone|iPod/.test(navigator.platform),i.isTouchDevice=navigator.userAgent.match(/(iPhone|iPod|iPad|Android|playbook|silk|BlackBerry|BB10|Windows Phone|Tizen|Bada|webOS|IEMobile|Opera Mini)/),window.laytheme.on("newpageshown",a),i.isTouchDevice||"play_on_mouseover"==frontendPassedData.video_thumbnail_mouseover_behaviour&&(jQuery("body").on("mouseenter",".thumb-rel",function(){var e=jQuery(this).find("video");e.length>0&&e[0].play()}),jQuery("body").on("mouseleave",".thumb-rel",function(){var e=jQuery(this).find("video");e.length>0&&e[0].pause()}))}},function(e,t,n){"use strict";n.r(t);var i=n(0),o=Backbone.Radio.channel("events"),a={initModule:function(){d()}},r={$cover:null},s={doDarken:!1,doParallax:!1,enabled:!1},d=function(){"on"==frontendPassedData.misc_options_cover&&(s.enabled=!0,"on"==frontendPassedData.cover_darken_when_scrolling&&(s.doDarken=!0),"on"==frontendPassedData.cover_parallaxmove_when_scrolling&&(s.doParallax=!0),window.laytheme.on("newpage",function(e,t,n){y()}),window.laytheme.on("newpageshown",function(){y(),r.$cover=jQuery(".cover-region"),r.$cover.length>0&&(c(),i.Utility.isPhoneSize&&1==frontendPassedData.cover_disable_for_phone?s.enabled=!1:s.enabled=!0,v(),f(),u(),g())}))},l=function(e){switch(e){case"desktop":case"tablet":1==frontendPassedData.cover_disable_for_phone&&0==s.enabled&&(s.enabled=!0,g());break;case"phone":1==frontendPassedData.cover_disable_for_phone&&(s.enabled=!1,r.$cover.attr("style",""),jQuery(".cover-region").removeClass("clickable-cover"),jQuery(".cover-region").on("click"),y())}},u=function(){jQuery(window).off("window_width_changed",h),jQuery(window).on("window_width_changed",h)},c=function(){window.laytheme.off("sizechanged",l),window.laytheme.on("sizechanged",l)},h=function(){p()},f=function(){jQuery(".cover-region").css({top:"",height:"","min-height":""}),jQuery(".cover-region-placeholder, .cover-region .row, .cover-region .row-inner, .cover-region .column-wrap, .cover-inner").css({height:"","min-height":""})},p=function(){if(r.$cover.is(":visible")&&s.enabled&&i.Utility.isPhoneSize){var e=jQuery(".navbar").height();jQuery(".navbar").is(":visible")||(e=0),jQuery(".cover-region").css({top:e+"px",height:window.innerHeight-e+"px","min-height":window.innerHeight-e+"px"}),jQuery(".cover-region-placeholder, .cover-region .row, .cover-region .row-inner, .cover-region .column-wrap, .cover-inner").css({height:window.innerHeight-e+"px","min-height":window.innerHeight-e+"px"})}else f()},y=function(){o.off("scroll",w)},g=function(){o.off("scroll",w),o.on("scroll",w)},w=function(){var e=window.pageYOffset||document.documentElement.scrollTop;if(e<=window.innerHeight&&r.$cover.is(":visible")&&s.enabled){if(s.doDarken){var t=i.utility_controller.map(e,0,window.innerHeight,1,.2);t>1&&(t=1),r.$cover.css({filter:"brightness("+t+")","-webkit-filter":"brightness("+t+")"})}if(s.doParallax){var n=i.utility_controller.map(e,0,window.innerHeight,0,window.innerHeight/3);r.$cover.css({transform:"translateY(-"+n+"px)","-webkit-transform":"translateY(-"+n+"px)"})}}},v=function(){"on"==frontendPassedData.cover_scrolldown_on_click&&s.enabled&&(jQuery(".cover-region").addClass("clickable-cover"),jQuery(".cover-region").on("click",function(){var e=jQuery("html, body"),t=window.innerHeight;e.animate({scrollTop:t},400,"easeOutSine",function(){e.off("scroll mousedown wheel DOMMouseScroll mousewheel keyup touchmove",m)}),e.on("scroll mousedown wheel DOMMouseScroll mousewheel keyup touchmove",e,m)}))},m=function(e){e.data.stop()},b=n(1),j=function(){"on"==frontendPassedData.phone_layout_active&&(window.laytheme.on("newpageshown",x),C())},Q={mainHasCustomPhoneGrid:!1,footerHasCustomPhoneGrid:!1},x=function(){Q.mainHasCustomPhoneGrid=1==jQuery("#custom-phone-grid").length,Q.footerHasCustomPhoneGrid=1==jQuery("#footer-custom-phone-grid").length},C=function(){var e=i.Utility.screenSize;jQuery(window).on("window_width_changed orientationchange",function(){!("phone"==i.Utility.screenSize&&"tablet"==e||"phone"==i.Utility.screenSize&&"desktop"==e)||0==Q.mainHasCustomPhoneGrid&&0==Q.footerHasCustomPhoneGrid?!("tablet"==i.Utility.screenSize&&"phone"==e||"desktop"==i.Utility.screenSize&&"phone"==e)||0==Q.mainHasCustomPhoneGrid&&0==Q.footerHasCustomPhoneGrid||b.a.triggerSwitchedCustomPhoneLayoutToDesktopLayout():b.a.triggerSwitchedDesktopLayoutToCustomPhoneLayout(),e=i.Utility.screenSize})};function P(){var e=jQuery(".password-form input").val();W.showLayout(e)}window.laytheme.on("newpageshown",function(){jQuery(".password-form").length>0&&(jQuery(".password-ok").on("click",function(){P()}),jQuery(".password-form input").on("keyup",function(e){13===e.keyCode&&P()}))});var k,D,z,S,$,M={animationTimer:null,animationInterval:null,animDur:300},L=function(){M.animDur=parseInt(frontendPassedData.navigation_transition_duration,10)/2},O=function(){M.animationTimer=0,clearInterval(M.animationInterval),M.animationInterval=setInterval(function(){M.animationTimer+=50,M.animationTimer>=M.animDur&&(window.laytheme.trigger("content_fadeout_transition_ended"),clearInterval(M.animationInterval))},50)},T=function(){return clearInterval(M.animationInterval),M.animationTimer>=M.animDur?0:M.animDur-M.animationTimer},I={showLayout:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";B(e)},initModule:function(){R()},hideRegions:function(){U()}},A={type:null,isFirstLoad:!0,gridObj:null},N={$body:null},H=null,B=function(e){var t=N.$body.attr("data-type"),n=N.$body.attr("data-id");A.type=t;var o={action:"get_laytheme_layout",id:n,type:t,password:e};H&&H.abort(),H=jQuery.ajax({url:frontendPassedData.ajax_url,data:o,type:"post",success:function(e){var t=window.JSON.parse(e);if("wrongpassword"==t.notification)jQuery(".password-form").addClass("wrong-password"),setTimeout(function(){jQuery(".password-form").removeClass("wrong-password")},300);else{clearTimeout(k);var n=T();k=setTimeout(function(){jQuery(".lay-content").replaceWith(t.markup),i.utility_controller.setBodyClasses(t.obj),b.a.triggerNewPageShown({},t.type,t.obj),setTimeout(function(){jQuery("body").removeClass("hide-content")},50)},n)}},error:function(e){console.log("error loading page"),console.log(e)}})},U=function(){jQuery("body").addClass("hide-content")},R=function(){N.$body=jQuery("body")},W=I,E={initModule:function(){J()}},Y=Backbone.Radio.channel("events"),G=E,q={cols:[],scrollY:0,parallaxActive:!1},F=function(e){return{"-webkit-transform":e,"-moz-transform":e,"-ms-transform":e,transform:e}},V=function(){q.scrollY=window.pageYOffset||document.documentElement.scrollTop;for(var e=0;e<q.cols.length;e++)if(0!=q.cols[e][1]){var t=(r=q.cols[e][0][0].getBoundingClientRect()).top+q.scrollY,n=t-window.innerHeight-q.cols[e][2];n<0&&(n=0);var o=t+r.height-q.cols[e][2],a=i.utility_controller.map(q.scrollY,n,o,0,100);if(!(a<0||a>100)){q.cols[e][2]=a*q.cols[e][1]*11.2;var r,s=q.cols[e][2]+window.innerWidth/100*q.cols[e][3];if(1==q.cols[e][5])s-=(r=q.cols[e][0][0].getBoundingClientRect()).height/2;var d=q.cols[e][4];q.cols[e][0].css(F("translate("+d+"vw, "+s+"px)"))}}},X=function(){var e;window.laytheme.on("newpageshown",function(){q.cols=[],jQuery(".col[data-yvel]").each(function(){var e=jQuery(this).attr("data-yvel");e<1&&(e=1),e=parseFloat(e),e=-(e-=1);var t=jQuery(this).attr("data-offsety");void 0===t&&(t=0);var n=jQuery(this).attr("data-offsetx");void 0===n&&(n=0);var i=!1;jQuery(this.parentNode.parentNode).hasClass("_100vh")&&jQuery(this).hasClass("align-middle")&&"text"==jQuery(this).attr("data-type")&&(i=!0);var o=[jQuery(this),e,0,t,n,i];q.cols.push(o)}),Y.off("scroll",V),q.scrollY=0,q.cols.length>0&&(i.Utility.isDesktopOrTabletSize||Q.mainHasCustomPhoneGrid)&&(Y.on("scroll",V),q.parallaxActive=!0)}),e=i.Utility.screenSize,jQuery(window).on("window_width_changed orientationchange",function(){"phone"==i.Utility.screenSize&&"tablet"==e&&0==Q.mainHasCustomPhoneGrid?1==q.parallaxActive&&(jQuery(".col").css(F("translate(0,0)")),Y.off("scroll",V),q.parallaxActive=!1):"tablet"==i.Utility.screenSize&&"phone"==e&&0==q.parallaxActive&&q.cols.length>0&&(Y.on("scroll",V),q.parallaxActive=!0),q.parallaxActive&&jQuery(window).trigger("scroll"),e=i.Utility.screenSize})},J=function(){"on"==frontendPassedData.simple_parallax&&X()},K=n(5),Z={getProjectLinkAttrs:function(e){return oe(e)},getCatId:function(e){return se(e)},getCatLength:function(e){return re(e)},showHideProjectArrows:function(e){ie(e)},maybeHideProjectArrowsOnInit:function(e){ne(e)},initModule:function(){le()}},ee={id:null,catid:null,type:null,projectsMeta:[]},te={$pa_next:null,$pa_prev:null,$body:null},ne=function(e){"project"==e.type&&"on"==frontendPassedData.show_arrows&&(re(e.catid)<=1&&jQuery(".project-arrow").addClass("hide"));"project"!=e.type&&jQuery(".project-arrow").addClass("hide")},ie=function(e){if("on"==frontendPassedData.show_arrows){if(null==e)return;var t=e.type;if("project"!=e.type&&jQuery(".project-arrow").addClass("hide"),"project"==e.type)re(e.catid)<=1?jQuery(".project-arrow").addClass("hide"):"project-thumbnails"!=frontendPassedData.pa_type&&jQuery(".project-arrow").removeClass("hide");"project"==t&&"project"==e.type&&"project-thumbnails"==frontendPassedData.pa_type&&jQuery(".project-arrow").addClass("hide")}},oe=function(e){if("undefined"!=typeof obj)return'href="'+obj.url+'" data-catid="'+obj.catid+'" data-id="'+obj.id+'" data-title="'+obj.title+'" data-type="project"'},ae=function(e){var t=function(e){switch(frontendPassedData.prevnext_navigate_through){case"same_category":var t=ee.id,n=ee.catid,i=de(n);if(void 0===ee.projectsMeta[i])return 0;var o=ee.projectsMeta[i].length;for(r=0;r<o;r++)if(t==ee.projectsMeta[i][r].id){a=r;break}return"next"==e?++a==o&&(a=0):"prev"==e&&--a<0&&(a=o-1),a;case"all_projects":var a,r;for(t=ee.id,o=ee.projectsMeta.length,r=0;r<o;r++)if(t==ee.projectsMeta[r].id){a=r;break}return"next"==e?++a==o&&(a=0):"prev"==e&&--a<0&&(a=o-1),a}}(e);if(jQuery.isNumeric(t))switch(frontendPassedData.prevnext_navigate_through){case"same_category":var n=ee.catid,i=de(n);if(void 0!==i)return{title:ee.projectsMeta[i][t].title,url:ee.projectsMeta[i][t].url,id:ee.projectsMeta[i][t].id,catid:ee.projectsMeta[i][t].catid,thumb:ee.projectsMeta[i][t].thumb,thumbar:ee.projectsMeta[i][t].thumbar};break;case"all_projects":return{title:ee.projectsMeta[t].title,url:ee.projectsMeta[t].url,id:ee.projectsMeta[t].id,catid:ee.projectsMeta[t].catid,thumb:ee.projectsMeta[t].thumb,thumbar:ee.projectsMeta[t].thumbar}}},re=function(e){if(void 0!==e&&""!=e){if("same_category"==frontendPassedData.prevnext_navigate_through){var t=de(e);return ee.projectsMeta[t].length}return ee.projectsMeta.length}},se=function(e){var t=[];switch(frontendPassedData.prevnext_navigate_through){case"same_category":for(var n in ee.projectsMeta)for(var i=0;i<ee.projectsMeta[n].length;i++)ee.projectsMeta[n][i].id==e&&t.push(n);break;case"all_projects":for(i=0;i<ee.projectsMeta.length;i++)e==ee.projectsMeta[i].id&&t.push(ee.projectsMeta[i].catid)}return t},de=function(e){return Array.isArray(e)?e[0]:e},le=function(){te.$pa_next=jQuery(".pa-next"),te.$pa_prev=jQuery(".pa-prev"),te.$body=jQuery("body"),ee.projectsMeta=JSON.parse(frontendPassedData.projectsMeta),window.laytheme.on("newpageshown",function(){ie(window.history.state),ee.catid=i.utility_controller.parseCatIds(te.$body.attr("data-catid")),ee.id=te.$body.attr("data-id"),ee.type=te.$body.attr("data-type"),function(){if("on"==frontendPassedData.show_arrows&&"project"==te.$body.attr("data-type")){var e=ae("next"),t=ae("prev");if(void 0!==e&&te.$pa_next.attr({"data-title":e.title,"data-catid":i.utility_controller.stringifyCatIds(e.catid),"data-id":e.id,href:e.url}),void 0!==t&&te.$pa_prev.attr({"data-title":t.title,"data-catid":i.utility_controller.stringifyCatIds(t.catid),"data-id":t.id,href:t.url}),"project-thumbnails"==frontendPassedData.pa_type){if(void 0!==e){new Backbone.Model({sizes:e.thumb,ar:e.thumbar});var n='<img class="lazyload" data-src="'+e.thumb._512+'" alt="">';te.$pa_next.html('<div class="pa-thumb-wrap" style="padding-bottom:'+100*e.thumbar+'%;">'+n+"</div>")}if(void 0!==t){new Backbone.Model({sizes:t.thumb,ar:t.thumbar});var o='<img class="lazyload" data-src="'+t.thumb._512+'" alt="">';te.$pa_prev.html('<div class="pa-thumb-wrap" style="padding-bottom:'+100*t.thumbar+'%;">'+o+"</div>")}"same_category"==frontendPassedData.prevnext_navigate_through?re(ee.catid)>1&&(te.$pa_next.removeClass("hide"),te.$pa_prev.removeClass("hide")):(te.$pa_next.removeClass("hide"),te.$pa_prev.removeClass("hide"))}}}(),"project"==jQuery("body").attr("data-type")&&(jQuery("a.laynextproject").each(function(){var e=ae("next");void 0!==e&&jQuery(this).attr({"data-type":"project",href:e.url,"data-catid":i.utility_controller.stringifyCatIds(e.catid),"data-id":e.id,"data-title":e.title})}),jQuery("a.layprevproject").each(function(){var e=ae("prev");void 0!==e&&jQuery(this).attr({"data-type":"project",href:e.url,"data-catid":i.utility_controller.stringifyCatIds(e.catid),"data-id":e.id,"data-title":e.title})}))})},ue={initModule:function(){ce.$htmlbody=jQuery("html, body"),window.laytheme.on("newpageshown",he)}},ce={$htmlbody:null},he=function(){jQuery(".scrolltotop").on("click",function(e){e.preventDefault(),e.stopPropagation(),jQuery("html").hasClass("fp-enabled")?jQuery.fn.fullpage.moveTo(1,0):(ce.$htmlbody.animate({scrollTop:0},600,"easeOutQuint",function(){ce.$htmlbody.off("scroll wheel DOMMouseScroll mousewheel touchmove")}),ce.$htmlbody.on("scroll wheel DOMMouseScroll mousewheel touchmove",function(){ce.$htmlbody.stop()}))})},fe=n(2),pe={initModule:function(){_e()}},ye=0,ge={$body:null,$nav:null,$st:null},we=function(){ye=parseInt(frontendPassedData.maxwidth,10),ge.$body=jQuery("body"),ge.$nav=jQuery("nav.primary"),ge.$nav2=jQuery("nav.second_menu"),ge.$nav3=jQuery("nav.third_menu"),ge.$nav4=jQuery("nav.fourth_menu"),ge.$st=jQuery(".sitetitle"),ve(),me()},ve=function(){jQuery(window).on("window_width_changed",me)},me=function(){var e=ge.$body.innerWidth(),t=frontendPassedData.nav_customizer_properties,n=parseFloat(frontendPassedData.frame_leftright),o=ye/100*n*2;if(e>ye&&i.Utility.isDesktopOrTabletSize){var a=(e-ye+o)/2;-1!=frontendPassedData.st_position.indexOf("left")?ge.$st.css("left",a+"px"):-1!=frontendPassedData.st_position.indexOf("right")&&ge.$st.css("right",a+"px"),-1!=t.nav_position.indexOf("left")?ge.$nav.css("left",a+"px"):-1!=t.nav_position.indexOf("right")&&ge.$nav.css("right",a+"px"),frontendPassedData.nav_amount>=2&&(-1!=t.nav_position_second_menu.indexOf("left")?ge.$nav2.css("left",a+"px"):-1!=t.nav_position_second_menu.indexOf("right")&&ge.$nav2.css("right",a+"px")),frontendPassedData.nav_amount>=3&&(-1!=t.nav_position_third_menu.indexOf("left")?ge.$nav3.css("left",a+"px"):-1!=t.nav_position_third_menu.indexOf("right")&&ge.$nav3.css("right",a+"px")),frontendPassedData.nav_amount>=4&&(-1!=t.nav_position_fourth_menu.indexOf("left")?ge.$nav4.css("left",a+"px"):-1!=t.nav_position_fourth_menu.indexOf("right")&&ge.$nav4.css("right",a+"px"))}else-1!=frontendPassedData.st_position.indexOf("left")?ge.$st.css("left",""):-1!=frontendPassedData.st_position.indexOf("right")&&ge.$st.css("right",""),-1!=t.nav_position.indexOf("left")?ge.$nav.css("left",""):-1!=t.nav_position.indexOf("right")&&ge.$nav.css("right",""),frontendPassedData.nav_amount>=2&&(-1!=t.nav_position_second_menu.indexOf("left")?ge.$nav2.css("left",""):-1!=t.nav_position_second_menu.indexOf("right")&&ge.$nav2.css("right","")),frontendPassedData.nav_amount>=3&&(-1!=t.nav_position_third_menu.indexOf("left")?ge.$nav3.css("left",""):-1!=t.nav_position_third_menu.indexOf("right")&&ge.$nav3.css("right","")),frontendPassedData.nav_amount>=4&&(-1!=t.nav_position_fourth_menu.indexOf("left")?ge.$nav4.css("left",""):-1!=t.nav_position_fourth_menu.indexOf("right")&&ge.$nav4.css("right",""))},_e=function(){"on"==frontendPassedData.misc_options_max_width_apply_to_logo_and_nav&&0!=frontendPassedData.maxwidth&&we()},be={initModule:function(){"style_desktop_menu"!=frontendPassedData.mobile_menu_style&&Se()},hideMenu:function(){"style_desktop_menu"!=frontendPassedData.mobile_menu_style&&De()},hideMobileMenu:function(){"style_desktop_menu"!=frontendPassedData.mobile_menu_style&&ze()}},je={wWidth:window.innerWidth,oldInnerWidth:window.innerWidth},Qe={$nav:null,$navul:null,$burger:null},xe=function(){switch(Qe.$nav.addClass("active"),jQuery("body").addClass("mobile-menu-open"),frontendPassedData.mobile_menu_style){case"style_1":var e=0;"1"!=frontendPassedData.mobile_hide_menubar&&(e=jQuery(".navbar").height()),Qe.$nav.css({transform:"translateY("+e+"px)","-webkit-transform":"translateY("+e+"px)",top:0});break;case"style_2":break;case"style_3":e=0;"1"!=frontendPassedData.mobile_hide_menubar&&(e=jQuery(".navbar").height()),Qe.$nav.css({height:window.innerHeight-e+"px",top:e+"px"})}},Ce=function(){if(Qe.$nav.hasClass("active"))De();else{switch(frontendPassedData.mobile_burger_type){case"new":case"default":case"default_thin":"style_2"!=frontendPassedData.mobile_menu_style&&Qe.$burger.addClass("active")}xe()}},Pe=function(){if(!i.Utility.isDesktopOrTabletSize)switch(frontendPassedData.mobile_menu_style){case"style_1":var e=jQuery(".navbar").outerHeight(),t=window.innerHeight-e;Qe.$nav.css("max-height",t+"px");break;case"style_2":t=window.innerHeight;Qe.$nav.css("max-height",t+"px")}},ke=function(){i.Utility.isDesktopOrTabletSize&&Qe.$nav.css("max-height","")},De=function(){i.Utility.isPhoneSize?ze():("style_2"!=frontendPassedData.mobile_menu_style&&Qe.$burger.removeClass("active"),jQuery("body").removeClass("mobile-menu-open"),Qe.$nav.removeClass("active").css({transform:"","-webkit-transform":""}))},ze=function(){if(i.Utility.isPhoneSize)switch(Qe.$nav.removeClass("active"),jQuery("body").removeClass("mobile-menu-open"),"style_2"!=frontendPassedData.mobile_menu_style&&Qe.$burger.removeClass("active"),frontendPassedData.mobile_menu_style){case"style_1":var e=Qe.$navul.outerHeight();e*=-1,e-=jQuery(".navbar").outerHeight(),Qe.$nav.css({transform:"translateY("+e+"px)","-webkit-transform":"translateY("+e+"px)"});break;case"style_2":break;case"style_3":Qe.$nav.css({height:""})}},Se=function(){jQuery("nav.mobile-nav a").on("dragstart",function(e){e.preventDefault()}),Qe.$nav=jQuery("nav.mobile-nav"),Qe.$navul=Qe.$nav.find("ul"),Qe.$burger=jQuery(".burger-default, .burger-new"),jQuery(window).on("resize orientationchange",function(){je.oldInnerWidth=je.wWidth,je.wWidth=window.innerWidth,i.Utility.isDesktopOrTabletSize?je.oldInnerWidth<=i.Utility.breakpoint&&(ke(),Qe.$nav.css({transform:"","-webkit-transform":""}),Qe.$nav.removeClass("active transition"),"style_2"!=frontendPassedData.mobile_menu_style&&Qe.$burger.removeClass("active"),jQuery("body").removeClass("mobile-menu-open")):(je.oldInnerWidth>i.Utility.breakpoint&&(Qe.$nav.hasClass("active")||De(),fe.default.showAll()),Pe())}),function(){switch(frontendPassedData.mobile_burger_type){case"default":case"default_thin":jQuery(".burger-wrap-default").on("click",Ce);break;case"new":jQuery(".burger-wrap-new").on("click",Ce);break;case"custom":jQuery(".burger-custom-wrap-close").on("click",function(){Qe.$nav.hasClass("active")&&De()}),jQuery(".burger-custom-wrap-open").on("click",function(){Qe.$nav.hasClass("active")||xe()})}}(),Pe(),WebFont.load({custom:{families:frontendPassedData.m_st_fontfamily},active:function(){ze()}}),jQuery(window).on("load",function(){ze(),setTimeout(function(){jQuery("body").addClass("mobile-menu-animation-possible")},0)}),window.laytheme.on("newpage",ze),window.laytheme.on("searchshown",ze)},$e={maybeReload:function(e){return Me(e)}},Me=function(e){var t=e;if(null==t)return!1;var n=t.id,i=t.type,o=!1;switch(i){case"project":var a=frontendPassedData.footer_active_in_projects;if("all"==a)o=frontendPassedData.projectsFooterId;else if("individual"==a&&""!=frontendPassedData.individual_project_footers){var r=JSON.parse(frontendPassedData.individual_project_footers);_.isObject(r)&&void 0!==r[n]&&(o=r[n])}break;case"page":var s=frontendPassedData.footer_active_in_pages;if("all"==s)o=frontendPassedData.pagesFooterId;else if("individual"==s&&""!=frontendPassedData.individual_page_footers){r=JSON.parse(frontendPassedData.individual_page_footers);_.isObject(r)&&void 0!==r[n]&&(o=r[n])}break;case"category":var d=frontendPassedData.footer_active_in_categories;if("all"==d)o=frontendPassedData.categoriesFooterId;else if("individual"==d&&""!=frontendPassedData.individual_category_footers){r=JSON.parse(frontendPassedData.individual_category_footers);_.isObject(r)&&void 0!==r[n]&&(o=r[n])}}var l=frontendPassedData.shortcodes;if(jQuery.isArray(l)&&0!=o)for(var u=0;u<l.length;u++){var c=l[u];if("post"==c.info.type&&c.info.id==o)return console.log("return true 1"),!0}if("project"!=i&&"page"!=i||(i="post"),jQuery.isArray(l))for(u=0;u<l.length;u++)if(l[u].info.type==i&&l[u].info.id==n)return console.log("return true 2"),!0;return!1},Le=function(){jQuery(".current-menu-parent").removeClass("current-menu-parent"),jQuery(".current-menu-item:not(.qtranxs-lang-menu-item)").removeClass("current-menu-item"),0!=(n=jQuery('nav a[data-id="'+window.history.state.id+'"][data-type="'+window.history.state.type+'"]')).length&&n.each(function(){jQuery(this.parentNode).addClass("current-menu-item"),jQuery(this.parentNode.parentNode).closest("li.menu-item").addClass("current-menu-parent")});var e=window.history.state.catid;Array.isArray(e)||(e=[e]);for(var t=0;t<e.length;t++){var n,i=e[t];0!=(n=jQuery('nav a[data-catid="'+i+'"][data-type="category"]')).length&&n.each(function(){jQuery(this.parentNode).addClass("current-menu-item"),jQuery(this.parentNode.parentNode).closest("li.menu-item").addClass("current-menu-parent")})}},Oe=0,Te=0,Ie={$body:null},Ae=function(e){return null!=window.history.state&&(window.history.state.id==e.id&&window.history.state.type==e.type)},Ne=function(e){O(),Te=Oe,Oe=window.scrollY;var t=$e.maybeReload(e);"on"==frontendPassedData.misc_options_disable_ajax&&(t=!0),t?window.location.reload(!1):(W.hideRegions(),jQuery("body").attr({"data-type":e.type,"data-id":e.id,"data-catid":i.utility_controller.stringifyCatIds(e.catid)}),Le(),W.showLayout(),window.laytheme.trigger("newpage"))},He=function(e){window.laytheme.on("newpageshown",Be)},Be=function(){-1==window.location.href.indexOf("#")&&window.scrollTo(0,Te),window.laytheme.off("newpageshown",He)},Ue=function(){window.laytheme.on("newpageshown",Re)},Re=function(){-1==window.location.href.indexOf("#")&&window.scrollTo(0,0),window.laytheme.off("newpageshown",Ue)},We={initModule:function(){Ie.$body=jQuery("body"),function(){"scrollRestoration"in window.history&&(window.history.scrollRestoration="manual");var e=window.location.href;"/"==e.slice(-1)&&(e=e.slice(0,-1));var t={scrollpos:window.scrollY,type:Ie.$body.attr("data-type"),id:Ie.$body.attr("data-id"),catid:i.utility_controller.parseCatIds(Ie.$body.attr("data-catid"))};window.history.replaceState(t,jQuery("title").text(),e),Le(),Z.maybeHideProjectArrowsOnInit(window.history.state)}(),function(){if(frontendPassedData.is_customize)return!1;jQuery(document).on("click",'a[data-type]:not([target="_blank"])',function(e){var t=jQuery(this),n=t.attr("href");if(n=i.utility_controller.filterURL(n),jQuery("body").attr("data-type")==jQuery(this).attr("data-type")&&jQuery("body").attr("data-id")==jQuery(this).attr("data-id"))e.preventDefault(),be.hideMobileMenu();else if("custom"!=jQuery(this).attr("data-type")&&!e.metaKey&&!e.ctrlKey){e.preventDefault();var o=passedDataHistory.title;void 0!==t.attr("data-title")&&(o=passedDataHistory.titleprefix+_.unescape(t.attr("data-title")));var a=i.utility_controller.parseCatIds(t.attr("data-catid"));We.pushState({type:t.attr("data-type"),id:t.attr("data-id"),catid:a},o,n)}})}(),window.addEventListener("popstate",function(e){if(null===e.state&&-1!=window.location.href.indexOf("#")){var t={scrollpos:window.scrollY,type:Ie.$body.attr("data-type"),id:Ie.$body.attr("data-id"),catid:i.utility_controller.parseCatIds(Ie.$body.attr("data-catid"))},n=window.location.href;"/"==n.slice(-1)&&(n=n.slice(0,-1)),window.history.replaceState(t,jQuery("title").text(),n)}else window.laytheme.trigger("popstate"),He(e.state),Ne(e.state)})},getState:function(){return window.history.state},pushState:function(e,t,n){Ae(e)||(Ue(),window.history.pushState(e,t,n),document.title=t,b.a.triggerPushState(),Ne(e))}},Ee={initModule:function(){i.Utility.isTouchDevice&&Ye()}},Ye=function(){if("mo_on_tap"==frontendPassedData.fi_mo_touchdevice_behaviour){jQuery(document).on("click","a.thumb[data-type]",function(e){e.stopPropagation(),e.preventDefault()});var e,t=!1;jQuery(document).on("touchstart","a.thumb[data-type]",function(n){clearTimeout(e),jQuery(this).hasClass("hover")||(t=!0,e=setTimeout(function(){t=!1},100),n.stopPropagation(),n.preventDefault(),jQuery("a.thumb").removeClass("hover"),jQuery(this).addClass("hover"))}),jQuery(document).on("tap","a.thumb[data-type]",function(e){e.stopPropagation(),e.preventDefault(),0==t&&jQuery(this).hasClass("hover")&&Ge(jQuery(this))})}},Ge=function(e){if(frontendPassedData.is_customize)return!1;var t=e.attr("href");if(t=i.utility_controller.filterURL(t),jQuery("body").attr("data-type")==jQuery(this).attr("data-type")&&jQuery("body").attr("data-id")==jQuery(this).attr("data-id"))event.preventDefault(),be.hideMobileMenu();else if("custom"!=jQuery(this).attr("data-type")&&!event.metaKey&&!event.ctrlKey){event.preventDefault();var n=passedDataHistory.title;void 0!==e.attr("data-title")&&(n=passedDataHistory.titleprefix+_.unescape(e.attr("data-title")));var o=i.utility_controller.parseCatIds(e.attr("data-catid"));We.pushState({type:e.attr("data-type"),id:e.attr("data-id"),catid:o},n,t)}},qe={polyfill_flexbox:function(){Fe()},initModule:function(){Ve(),Xe()}},Fe=function(){Modernizr.flexbox||(jQuery(".col.align-middle").each(function(){var e=!1,t=jQuery(this);if(i.Utility.isPhoneSize?(t.css("margin-top","0"),jQuery(t[0].parentNode.parentNode).hasClass("_100vh")&&1==jQuery(t[0].parentNode).find(".col").length&&(e=!0)):e=!0,e){var n=(jQuery(this.parentNode).height()-t.height())/2;t.css("margin-top",n+"px")}}),jQuery(".col.align-bottom").each(function(){var e=!1,t=jQuery(this);if(i.Utility.isPhoneSize?(t.css("margin-top","0"),jQuery(t[0].parentNode.parentNode).hasClass("_100vh")&&1==jQuery(t[0].parentNode).find(".col").length&&(e=!0)):jQuery(t[0].parentNode.parentNode).hasClass("_100vh")&&(e=!0),e){var n=jQuery(this.parentNode).height()-t.height();t.css("margin-top",n+"px")}}))},Ve=function(){Xe(),window.laytheme.on("newpageshown",function(){Fe()})},Xe=function(){jQuery(window).on("resize",function(){Fe()}),jQuery(window).on("orientationchange",function(){setTimeout(function(){Fe()},400)})},Je=Marionette.View.extend({tagName:"div",template:_.template('<div class="mediawrap <%= getSizingClassName() %> <%= getFollowMovementClassName() %>">\n            <%= getMedia() %>\n        </div>'),events:{click:"onHideClick"},onHideClick:function(){et.hide()},onRender:function(){setTimeout(function(){et.setReferences(),et.prepareBoundary()},0)},onAttach:function(){et.initHideAfter()},onResize:function(){var e=window.innerWidth/window.innerHeight>this.model.get("width")/this.model.get("height")?"w100":"h100";this.$el.find(".mediawrap").removeClass("w100 h100").addClass(e)},templateContext:function(){return{getFollowMovementClassName:function(){return 1==frontendPassedData.intro_movement?"followmovement":""},getMedia:function(){switch(this.type){case"video":return'<video class="media loaded" data-ar="'+this.getAr()+'" playsinline muted autoplay loop src="'+this.url+'"></video>';case"image":return'<img class="lazyload js-intro-image media" data-ar="'+this.getAr()+'" sizes="'+this.getSizes()+'" data-srcset="'+this.getSrcset()+'" src="" alt="">'}},getSizes:function(){var e=1.15*this.width*window.innerHeight/this.height/window.innerWidth;return(e=Math.round(100*Math.max(e,1.15)))+"vw"},getSizingClassName:function(){return window.innerWidth/window.innerHeight>this.width/this.height?"w100":"h100"},getSrcset:function(){var e=[];for(var t in i.Utility.imageSizes){var n=this.sizes["_"+i.Utility.imageSizes[t]];n=n+" "+i.Utility.imageSizes[t]+"w",e.push(n)}return e.join(", ")},getAr:function(){return this.width/this.height},getText:function(){return this.text}}}}),Ke=Marionette.View.extend({className:"intro",template:_.template('\n        <div class="intro-media-region"></div>\n        <div class="intro-svg-wrap"><%= getSVGOverlay() %></div>\n        <div class="intro_text '+frontendPassedData.intro_text_textformat+'"><%= getText() %></div>\n    '),regions:{mediaRegion:".intro-media-region"},templateContext:function(){return{getSVGOverlay:function(){if(1==frontendPassedData.intro_use_svg_overlay)return'<img class="intro-svg-overlay" src="'+frontendPassedData.intro_svg_url+'" alt="">'},getText:function(){if(1==frontendPassedData.intro_use_text_overlay)return frontendPassedData.intro_text}}}}),Ze={init:function(e){st(e)},hide:function(){mt()},destroy:function(){wt()},unbind:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){unbind()}),initHideAfter:function(){ut()},getBoundaries:function(){return{boundaryX:nt.boundaryX,boundaryY:nt.boundaryY}},setReferences:function(){dt()},prepareBoundary:function(){ht()},cancelLoading:function(){at()}},et=Ze,tt=null,nt={boundaryX:0,boundaryY:0,intro:null},it=115;window.laytheme.on("customizer_showintro",function(){wt(),st()}),window.laytheme.on("customizer_hideintro",function(){mt(),jQuery("body").removeClass("intro-loading")});var ot,at=function(){jQuery("body").removeClass("intro-loading")},rt=function(){var e=null;e="landscape"===i.Utility.orientation?new Backbone.Model(frontendPassedData.intro_landscape):new Backbone.Model(frontendPassedData.intro_portrait),z=new Je({model:e});var t=new Ke;(new(Marionette.Application.extend({region:"#intro-region",onStart:function(){this.showView(t),t.showChildView("mediaRegion",z),jQuery("body").removeClass("intro-loading")}}))).start()},st=function(){if(jQuery("#intro-region").removeClass("hide"),jQuery("body").removeClass("intro-loading"),frontendPassedData.is_frontpage&&frontendPassedData.intro_active){if("landscape"===i.Utility.orientation){if(jQuery.isEmptyObject(frontendPassedData.intro_landscape))return void wt()}else if(jQuery.isEmptyObject(frontendPassedData.intro_portrait))return void wt();S=jQuery("body"),tt=new Particle(0,0),rt(),window.laytheme.on("orientationchanged",rt),setTimeout(function(){1==frontendPassedData.intro_movement&&(ft(),gt())},0),jQuery(window).on("resize",vt),jQuery(document).on("scroll",lt)}},dt=function(){D=jQuery(".intro .mediawrap"),nt.intro=frontendPassedData.intro_landscape,"portrait"===i.Utility.orientation&&(nt.intro=frontendPassedData.intro_portrait)},lt=function e(){window.scrollY>10&&(mt(),jQuery(document).off("scroll",e))},ut=function(){var e=parseInt(frontendPassedData.intro_hide_after,10);if(0!=e)switch(z.model.get("type")){case"video":jQuery(".intro video").on("playing",function(){setTimeout(function(){mt()},e)});break;case"image":jQuery(document).on("lazyloaded",function(t){-1!=t.target.className.indexOf("js-intro-image")&&setTimeout(function(){mt()},e)})}},ct=function(e,t,n,i,o){return i+(o-i)*((Math.min(n,Math.max(t,e))-t)/(n-t))},ht=function(){var e=jQuery(".intro .mediawrap").height(),t=0,n=0;D.hasClass("h100")?t=(n=e*it/100)*nt.intro.width/nt.intro.height:n=(t=S.innerWidth()*it/100)*nt.intro.height/nt.intro.width,nt.boundaryX=(t-S.innerWidth())/2,nt.boundaryY=(n-e)/2,nt.boundaryX-=2,nt.boundaryY-=2},ft=function(){ht(),i.Utility.isTouchDevice?window.addEventListener("deviceorientation",yt):jQuery(window).on("mousemove",pt)},pt=function(e){var t=ct(e.clientX,0,S.innerWidth(),1,-1),n=ct(e.clientY,0,window.innerHeight,1,-1);tt.updateDestination(t,n)},yt=function(e){var t=e.gamma,n=e.beta;90==window.orientation?(t=ct(e.beta,-45,45,1,-1),n=ct(-e.gamma,-20,70,1,-1)):-90==window.orientation?(t=ct(-e.beta,-45,45,1,-1),n=ct(e.gamma,-20,70,1,-1)):180==window.orientation?(t=ct(-e.gamma,-45,45,1,-1),n=ct(-e.beta,-20,70,1,-1)):(t=ct(e.gamma,-45,45,1,-1),n=ct(e.beta,-20,70,1,-1)),tt.updateDestination(t,n)},gt=function e(){tt.update(),D.css({transform:"translate3d("+tt.x+"px, "+tt.y+"px, 0)","-webkit-transform":"translate3d("+tt.x+"px, "+tt.y+"px, 0)"}),$=requestAnimationFrame(e)},wt=function(){jQuery("#intro-region").html("").addClass("hide"),window.laytheme.off("orientationchanged",rt),cancelAnimationFrame($),window.removeEventListener("deviceorientation",yt),jQuery(window).off("mousemove",pt),jQuery(window).off("resize",vt),clearTimeout(ot)},vt=function(){z.triggerMethod("resize"),ht()},mt=function(e){ot=setTimeout(function(){jQuery(".intro").on("transitionend",function(){wt()}),jQuery(".intro").addClass("animatehide"),"function"==typeof e&&e()},0)};!function(){function e(e,t){this.x=e,this.y=t,this.virtualX=e,this.virtualY=t,this.destX=e,this.destY=t,this.xvelocity=0,this.yvelocity=0}e.prototype.update=function(){var e=Ze.getBoundaries();this.xvelocity=this.destX-this.virtualX,this.yvelocity=this.destY-this.virtualY,Math.abs(this.xvelocity)>.002&&(this.xvelocity*=.03),Math.abs(this.yvelocity)>.002&&(this.yvelocity*=.03),this.virtualX+=this.xvelocity,this.virtualY+=this.yvelocity,this.x=Math.min(1,Math.max(-1,this.virtualX))*e.boundaryX,this.y=Math.min(1,Math.max(-1,this.virtualY))*e.boundaryY},e.prototype.updateDestination=function(e,t){this.destX=e,this.destY=t},window.Particle=e}();var _t,bt,jt,Qt,xt,Ct,Pt,kt,Dt=Marionette.View.extend({className:function(){return"search-view "+this.getOption("hasNoResultsClass")},hasNoResultsClass:"search-has-no-results",hasResultsClass:"search-has-or-had-results",template:_.template('\n        <div class="search-header">\n            <div class="close-search close-search-desktop">\n                <svg height="25" width="25">\n                    <line x1="0" y1="0" x2="25" y2="25" stroke-width="2"></line>\n                    <line x1="25" y1="0" x2="0" y2="25" stroke-width="2"></line>\n                </svg>\n            </div>\n            <div class="close-search close-search-phone">\n                <svg height="15" width="15">\n                    <line x1="0" y1="0" x2="15" y2="15" stroke-width="2"></line>\n                    <line x1="15" y1="0" x2="0" y2="15" stroke-width="2"></line>\n                </svg>\n            </div>\n            <div class="search-inputs">\n                <svg class="search-icon" version="1.1" xmlns:cc="http://creativecommons.org/ns#" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape" xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" xmlns:svg="http://www.w3.org/2000/svg" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:dc="http://purl.org/dc/elements/1.1/"\n                    xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="-447 336 72 72"\n                    style="enable-background:new -447 336 72 72;" xml:space="preserve">\n                    <g transform="translate(0,-952.36218)">\n                    <path d="M-418,1288.4c-16,0-29,13-29,29s13,29,29,29c6.9,0,13.3-2.4,18.2-6.5l19.6,19.6c1.2,1.2,3.1,1.2,4.2,0c1.2-1.2,1.2-3,0-4.2\n                        l-19.6-19.6c4.1-5,6.5-11.4,6.5-18.3C-389,1301.4-402,1288.4-418,1288.4L-418,1288.4z M-418,1294.4c12.7,0,23,10.3,23,23\n                        c0,12.7-10.3,23-23,23s-23-10.3-23-23C-441,1304.6-430.7,1294.4-418,1294.4z"/>\n                    </g>\n                </svg>\n                <input id="search-query" type="search" class="search-query" placeholder="Search" autocomplete="off" spellcheck="false">\n                <div id="search-autosuggest-list"></div>\n            </div>\n        </div>\n        <div id="search-results-region"></div>\n    '),regions:{results:"#search-results-region",search_autosuggest_list:"#search-autosuggest-list"},events:{"input #search-query":"onInput","focus #search-query":"onFocus","blur #search-query":"onBlur","click .close-search":"onHide"},val:"",onAddClassForHasResults:function(){this.$el.removeClass(this.hasNoResultsClass),this.$el.addClass(this.hasResultsClass)},onAddClassForNoResults:function(){this.$el.addClass(this.hasNoResultsClass),this.$el.removeClass(this.hasResultsClass)},onFocus:function(){this.$el.find("#search-autosuggest-list").show(),this.$el.addClass("hide-search-icon"),this.$el.find("#search-query").removeAttr("placeholder")},onBlur:function(){var e=this;setTimeout(function(){e.$el.find("#search-autosuggest-list").hide(),""==e.val&&e.$el.removeClass("hide-search-icon"),e.$el.find("#search-query").attr("placeholder","Search")},100)},onInput:function(){this.val=this.$el.find("#search-query").val(),Ht.search()},onShow:function(){this.$el.addClass("show"),i.utility_controller.fixBody(),jQuery("#search-query").focus()},onHide:function(){this.$el.addClass("hide").removeClass("show"),i.utility_controller.unfixBody(),this.$el.find("#search-query").val(""),this.val="",this.triggerMethod("blur"),Ht.search(),this.triggerMethod("add:class:for:no:results")},onRender:function(){var e=this;window.laytheme.on("content_fadeout_transition_ended",function(){e.triggerMethod("hide")})}}),zt=Marionette.View.extend({className:"suggest-item",template:_.template('\n        <span class="suggest"><span class="suggest-prefix"><%= suggestPrefix() %></span><span class="suggest-suffix"><%= suggestSuffix() %></span></span>\n    '),events:{click:"clickSuggestItem"},clickSuggestItem:function(e){e.preventDefault(),e.stopPropagation(),Ht.clickSuggestItem(this.$el)},templateContext:function(){return{suggestSuffix:function(){var e=this.suggest,t=this.query;return i.utility_controller.stringStartsWith(e,t)?e.slice(t.length):e},query:jQuery("#search-query").val(),suggestPrefix:function(){var e=this.suggest,t=this.query;return i.utility_controller.stringStartsWith(e,t)?this.query:""}}}}),St=Marionette.CollectionView.extend({className:"suggest-collection",childView:zt,id:"suggest-results"}),$t=jQuery.Deferred(),Mt=!1,Lt={shouldSort:!0,includeScore:!1,threshold:.6,location:0,distance:100,maxPatternLength:32,minMatchCharLength:3,keys:["title"]},Ot=function(){"resolved"==$t.state()?Tt():jQuery.when($t).then(function(){Tt()})},Tt=_.debounce(function(){var e=jQuery("#search-query").val();if(jt=e.toLowerCase(),0==e.length)return jQuery("#search-autosuggest-list").html(""),void jQuery("#search-results-region").html("");(bt=_t.search(e)).length>0&&Qt.triggerMethod("add:class:for:has:results");var t=Nt(bt),n={action:"get_search_result",found_posts:t=JSON.stringify(t)};jQuery.ajax({url:frontendPassedData.ajax_url,data:n,type:"post",success:function(e){jQuery("#search-results-region").html(e),setTimeout(function(){window.laytheme.trigger("searchresultshown")},0)},error:function(e){console.log("search error"),console.log(e)}}),It()},200),It=function(){var e=[],t=!0,n=!1,i=void 0;try{for(var o,a=bt[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){if((c=o.value).title.toLowerCase().startsWith(jt)&&-1==e.indexOf(c.title)&&e.push(c.title),e.length>10)break}}catch(e){n=!0,i=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw i}}if(0!=e.length&&jt==e[0].toLowerCase()&&e.splice(0,1),0==e.length){var r=!0,s=!1,d=void 0;try{for(var l,u=bt[Symbol.iterator]();!(r=(l=u.next()).done);r=!0){var c;if(-1!==(c=l.value).title.toLowerCase().indexOf(jt)&&-1==e.indexOf(c.title)&&e.push(c.title),e.length>10)break}}catch(e){s=!0,d=e}finally{try{r||null==u.return||u.return()}finally{if(s)throw d}}}if(0!=e.length&&jt==e[0].toLowerCase()&&e.splice(0,1),0!=bt.length){var h=new St({collection:new Backbone.Collection(e.slice(0,10).map(function(e){return{suggest:e}}))});Qt.getRegion("search_autosuggest_list").show(h)}else Qt.getRegion("search_autosuggest_list").empty()},At=function(){jQuery('[href="#search"]').on("click",function(e){Mt||jQuery.ajax({url:frontendPassedData.wpapiroot+"laytheme/search/",success:function(e){_t=new Fuse(e,Lt),Mt=!0,$t.resolve()}}),e.preventDefault(),e.stopPropagation(),Qt.triggerMethod("show"),window.laytheme.trigger("searchshown")})},Nt=function(e){for(var t=[],n=0;n<e.length;n++){var i=e[n].postid;t.push(i)}return t},Ht={initModule:function(){At(),Qt=new Dt,(new(Marionette.Application.extend({region:"#search-region",onStart:function(){this.showView(Qt)}}))).start(),jQuery(document).keyup(function(e){27==e.which&&Qt.triggerMethod("hide")})},search:function(){Ot()},clickSuggestItem:function(e){!function(e){var t=e.find(".suggest").text();jQuery("#search-query").val(t),Qt.getRegion("search_autosuggest_list").empty(),Qt.triggerMethod("input")}(e)}},Bt=Backbone.Radio.channel("events"),Ut=!1,Rt=[],Wt=[],Et=function(){Ct=Pt.find("video.autoplay[playsinline][muted]"),Ut&&(xt=kt.find("video.autoplay[playsinline][muted]")),Yt(),Bt.off("scroll",Gt),Bt.on("scroll",Gt)},Yt=function(){Rt=[],Wt=[];for(var e=0;e<Ct.length;e++)Rt[e]={playing:!1,playPromise:null};if(Ut)for(e=0;e<xt.length;e++)Wt[e]={playing:!1,playPromise:null}};window.laytheme.on("content_ready",function(e){switch(e){case"desktop":Pt=jQuery("#grid"),kt=jQuery(".cover-region-desktop");break;case"phone":Pt=jQuery("#custom-phone-grid"),kt=jQuery(".cover-region-phone"),0==Pt.length&&(Pt=jQuery("#grid"),kt=jQuery(".cover-region-desktop"))}Ut=kt.length>0,Et(),Gt()});var Gt=_.throttle(function(){Ct.each(function(e){var t=this.getBoundingClientRect();t.top-200<=window.innerHeight&&t.bottom>=0?0!=Rt[e].playing||this.ended||jQuery(this).hasClass("userinteractedwith-paused")||(Rt[e].playPromise=this.play(),Rt[e].playPromise.then(function(){Rt[e].playing=!0})):1==Rt[e].playing&&(this.pause(),Rt[e].playing=!1)}),Ut&&xt.each(function(e){window.scrollY>window.innerHeight?1==Rt[e].playing&&(this.pause(),Wt[e].playing=!1):0!=Wt[e].playing||this.ended||jQuery(this).hasClass("userinteractedwith-paused")||(Wt[e].playPromise=this.play(),Wt[e].playPromise.then(function(){Wt[e].playing=!0}))})},60),qt=Backbone.Radio.channel("events");window.laytheme.on("pushstate",function(){Kt()}),window.laytheme.on("popstate",function(){Kt()}),window.laytheme.on("newpageshown",function(){setTimeout(function(){Jt()},50)});var Ft,Vt,Xt=!0,Jt=function(){Xt=!0},Kt=function(){Xt=!1},Zt=function(){if(Xt)for(var e=document.querySelectorAll('.col.no-parallax.no-offset, .col.no-parallax.no-offset[data-type="thumbnailgrid"] .thumbnail-wrap, .col.no-parallax.no-offset[data-type="elementgrid"] .element-wrap'),t=document.querySelectorAll(".below"),n=[].slice.call(t),i=0;i<e.length;i++){var o=e[i];if(!o.classList.contains("no-animation"))if(window.innerHeight+window.scrollY>=document.body.scrollHeight-90){if(o.classList.contains("below")){var a=n.indexOf(o);o.style.transitionDelay=100*a+"ms",o.classList.remove("below"),o.classList.add("in-view")}}else if(o.getBoundingClientRect().top<window.innerHeight-30){if(o.classList.contains("below")){var r=n.indexOf(o);o.style.transitionDelay=100*r+"ms",o.classList.remove("below"),o.classList.add("in-view")}}else o.classList.contains("below")||(o.classList.add("below"),o.classList.remove("in-view"))}},en={initModule:function(){"on"==window.frontendPassedData.element_transition_on_scroll&&(qt.on("scroll",Zt),window.laytheme.on("magnetic_slides_afterSlideLoads",Zt),window.laytheme.on("magnetic_slides_afterLoad",Zt))}},tn="",nn=function(){return jQuery(".vertical-fullpage").length>0?"vertical":jQuery(".horizontal-fullpage").length>0?"horizontal":"none"},on=function(e){var t=tn.find(e).closest(".row");return 0==t.length?(console.error("no row found"),0):tn.find(".row").index(t)},an=function(){jQuery(document).on("click",'.lay-content a[href*="#"]:not([href="#search"]):not([href="#laynextproject"]):not([href="#layprevproject"]):not(.scrolltotop), .laynav a[href*="#"]:not([href="#search"]):not([href="#laynextproject"]):not([href="#layprevproject"]):not(.scrolltotop)',function(e){if(jQuery(this).closest("#fp-nav").length>0||jQuery(this).closest(".fp-slidesNav").length>0)e.preventDefault();else if(function(e){var t=window.location.href,n=t.indexOf("#");if(-1!==n&&(t=t.substr(0,n)),"#"==e.attr("href").substr(0,1))return!0;if(e[0].hasAttribute("data-id")&&e[0].hasAttribute("data-type")&&e.attr("data-id")==jQuery("body").attr("data-id")&&e.attr("data-type")==jQuery("body").attr("data-type"))return!0;var i=e.attr("href"),o=i.indexOf("#"),a=i.substr(0,o);return a==t||a.substr(0,a.length-1)==t||a==t.substr(0,t.length-1)||a.substr(0,a.length-1)==t.substr(0,t.length-1)}(jQuery(this))){e.preventDefault(),be.hideMobileMenu();var t=jQuery(this).attr("href"),n=t.indexOf("#"),i=t.substr(n);switch(nn()){case"none":var o=tn.find(i).offset().top;o=rn(o),jQuery("html, body").animate({scrollTop:o},300,"swing",function(){window.location.hash=i,window.scroll(0,o)});break;case"vertical":var a=on(i)+1;jQuery(window).one("fpAfterLoad",function(){window.location.hash=i}),jQuery.fn.fullpage.moveTo(a,0);break;case"horizontal":var r=on(i);jQuery(window).one("fpAfterSlideLoad",function(){window.location.hash=i}),jQuery.fn.fullpage.moveTo(1,r)}}})},rn=function(e){switch(i.Utility.screenSize){case"desktop":case"tablet":jQuery(".navbar").is(":visible")&&(e-=parseInt(jQuery(".navbar").height(),10)),""!=frontendPassedData.anchorscroll_offset_desktop&&jQuery.isNumeric(parseInt(frontendPassedData.anchorscroll_offset_desktop,10))&&(e-=parseInt(frontendPassedData.anchorscroll_offset_desktop,10));break;case"phone":jQuery(".navbar").is(":visible")&&"1"==frontendPassedData.mobile_navbar_fixed&&(e-=parseInt(jQuery(".navbar").height(),10)),""!=frontendPassedData.anchorscroll_offset_phone&&jQuery.isNumeric(parseInt(frontendPassedData.anchorscroll_offset_phone,10))&&(e-=parseInt(frontendPassedData.anchorscroll_offset_phone,10))}return e},sn={initModule:function(){an(),window.laytheme.on("content_ready",function(e){switch(e){case"desktop":tn=jQuery("#grid, .cover-region-desktop, #footer");break;case"phone":var t=0!=jQuery("#footer-custom-phone-grid").length,n=0!=jQuery("#custom-phone-grid").length;t&&n?tn=jQuery("#custom-phone-grid, .cover-region-phone, #footer-custom-phone-grid"):!t&&n?tn=jQuery("#custom-phone-grid, .cover-region-phone, #footer"):t&&!n?tn=jQuery("#grid, .cover-region-desktop, #footer-custom-phone-grid"):t||n||(tn=jQuery("#grid, .cover-region-desktop, #footer"))}!function(){var e=window.location.hash,t=tn.find(e);if(t.length>0)switch(nn()){case"none":var n=t.offset().top;n=rn(n),window.scroll(0,n);break;case"vertical":var i=on(e)+1;jQuery.fn.fullpage.silentMoveTo(i,0);break;case"horizontal":var o=on(e);jQuery.fn.fullpage.silentMoveTo(1,o)}}()})}},dn=(n(11),function(){void 0!==Ft&&Ft.each(function(){var e=jQuery(this),t=e.data("config");ln(e,t)})}),ln=function(e,t){var n=i.Utility.screenSize,o=(100+t[n].colGutter)/t[n].colCount;switch(o-=t[n].colGutter,e.find(".thumbnail-wrap").css({width:o+"%","margin-bottom":t[n].rowGutter+"%"}),t.layoutType){case"masonry":e.find(".lay-thumbnailgrid-gutter-sizer").css("width",t[n].colGutter+"%"),e.find(".lay-thumbnailgrid-col-sizer").css("width",o+"%");var a=e.data("masonry");void 0!==a&&a.layout();break;default:e.find(".thumbnail-wrap").css("margin-right",t[n].colGutter+"%"),e.find(".thumbnail-wrap:nth-child("+t[n].colCount+"n)").css("margin-right",0)}},un=function(e,t){switch(t.layoutType){case"masonry":e.find(".thumb-collection").append('<div class="lay-thumbnailgrid-gutter-sizer"></div><div class="lay-thumbnailgrid-col-sizer"></div>');var n=e.find(".thumb-collection")[0],o=new Masonry(n,{itemSelector:".thumbnail-wrap",columnWidth:".lay-thumbnailgrid-col-sizer",gutter:".lay-thumbnailgrid-gutter-sizer",percentPosition:!0,transitionDuration:0});e.data("masonry",o);break;default:var a=e.find(".thumbnail-wrap"),r=e.find(".thumbnailgrid-row .thumbnail-wrap");r.length>0&&r.unwrap();for(var s=t[i.Utility.screenSize].colCount,d=0;d<a.length;d+=s)a.slice(d,d+s).wrapAll('<div class="thumbnailgrid-row '+t.layoutType+'"></div>')}},cn=function(){window.laytheme.on("content_ready",function(e){var t;switch(Ft=void 0,e){case"desktop":t=jQuery("#grid, .cover-region-desktop, #footer");break;case"phone":var n=0!=jQuery("#footer-custom-phone-grid").length,i=0!=jQuery("#custom-phone-grid").length;n&&i?t=jQuery("#custom-phone-grid, .cover-region-phone, #footer-custom-phone-grid"):!n&&i?t=jQuery("#custom-phone-grid, .cover-region-phone, #footer"):n&&!i?t=jQuery("#grid, .cover-region-desktop, #footer-custom-phone-grid"):n||i||(t=jQuery("#grid, .cover-region-desktop, #footer"))}(Ft=t.find(".thumbs-collection-region")).each(function(){var e=jQuery(this),t=e.data("config");un(e,t),ln(e,t)})})},hn=function(){window.laytheme.on("searchresultshown",function(){(Ft=jQuery(".thumbs-collection-region")).each(function(){if(!jQuery(this).hasClass("initialized")){var e=jQuery(this),t=e.data("config");un(e,t),ln(e,t),jQuery(this).addClass("initialized")}})})},fn={initModule:function(){hn(),jQuery(window).on("window_width_changed",dn),cn()}},pn=function(){void 0!==Vt&&Vt.each(function(){var e=jQuery(this),t=e.data("config");yn(e,t)})},yn=function(e,t){var n=i.Utility.screenSize,o=(100+t[n].colGutter)/t[n].colCount;switch(o-=t[n].colGutter,e.find(".element-wrap").css({width:o+"%","margin-bottom":t[n].rowGutter+"%"}),t.layoutType){case"masonry":e.find(".lay-elementgrid-gutter-sizer").css("width",t[n].colGutter+"%"),e.find(".lay-elementgrid-col-sizer").css("width",o+"%");var a=e.data("masonry");void 0!==a&&a.layout();break;default:e.find(".element-wrap").css("margin-right",t[n].colGutter+"%"),e.find(".element-wrap:nth-child("+t[n].colCount+"n)").css("margin-right",0)}},gn=function(){window.laytheme.on("content_ready",function(e){var t;switch(Vt=void 0,e){case"desktop":t=jQuery("#grid, .cover-region-desktop, #footer");break;case"phone":var n=0!=jQuery("#footer-custom-phone-grid").length,o=0!=jQuery("#custom-phone-grid").length;n&&o?t=jQuery("#custom-phone-grid, .cover-region-phone, #footer-custom-phone-grid"):!n&&o?t=jQuery("#custom-phone-grid, .cover-region-phone, #footer"):n&&!o?t=jQuery("#grid, .cover-region-desktop, #footer-custom-phone-grid"):n||o||(t=jQuery("#grid, .cover-region-desktop, #footer"))}(Vt=t.find(".elements-collection-region")).each(function(){var e=jQuery(this),t=e.data("config");!function(e,t){switch(t.layoutType){case"masonry":e.find(".element-collection").append('<div class="lay-elementgrid-gutter-sizer"></div><div class="lay-elementgrid-col-sizer"></div>');var n=e.find(".element-collection")[0],o=new Masonry(n,{itemSelector:".element-wrap",columnWidth:".lay-elementgrid-col-sizer",gutter:".lay-elementgrid-gutter-sizer",percentPosition:!0,transitionDuration:0});e.data("masonry",o);break;default:var a=e.find(".element-wrap"),r=e.find(".elementgrid-row .element-wrap");r.length>0&&r.unwrap();for(var s=t[i.Utility.screenSize].colCount,d=0;d<a.length;d+=s)a.slice(d,d+s).wrapAll('<div class="elementgrid-row '+t.layoutType+'"></div>')}}(e,t),yn(e,t)})})},wn={initModule:function(){jQuery(window).on("window_width_changed",pn),gn()}},vn={updateLanguageSwitcherUrls:function(){_n()},initModule:function(){mn()}},mn=function(){1==frontendPassedData.is_qtranslate_active&&window.laytheme.on("newpage",_n)},_n=function(){1==frontendPassedData.is_qtranslate_active&&jQuery.ajax({url:frontendPassedData.wpapiroot+"laytheme/v1/get_qtranslate_langswitcher_urls/",data:{url:window.location.href},method:"GET",success:function(e){for(var t=JSON.parse(e),n=0;n<t.length;n++)jQuery(".qtranxs-lang-menu-item-"+t[n][0]+" a").attr("href",t[n][1])}})},bn=vn,jn=n(4),Qn=function(e){var t=e.getBoundingClientRect();return t.top-200<=window.innerHeight&&t.bottom>=0},xn=function(e){e.hasAttribute("preload")&&"none"==jQuery(e).attr("preload")&&(jQuery(e).removeAttr("preload"),e.addEventListener("loadeddata",function(){jQuery(this).addClass("loaded")}),e.addEventListener("canplay",function(){jQuery(this).addClass("loaded")}),e.addEventListener("play",function(){jQuery(this).addClass("loaded")}),e.load(),e.hasAttribute("data-autoplay")&&(e.play(),e.setAttribute("autoplay",""),jQuery(e).removeAttr("data-autoplay"),e.addEventListener("canplay",Cn)))},Cn=function e(){this.play(),this.removeEventListener("canplay",e)};var Pn,kn=function(e){new function(e){e=e;var t=null,n=Backbone.Radio.channel("events"),i=_.throttle(function(){t.each(function(){Qn(this)&&xn(this)})},60);return{init:function(){n.off("scroll",i),e.find("video").length>0&&(t=e.find("video"),setTimeout(function(){i()},100),n.on("scroll",i),jQuery(window).on("fpAfterLoad",i))}}}(e).init()},Dn={loadVideosInstantly:function(e){!function(e){e.find("video").each(function(){xn(this)})}(e)},initLazyLoadVideosOnScroll:function(e){kn(e)}},zn={initModule:function(){Mn()}},Sn={desktopContentLoaded:!1,CplContentLoaded:!1},$n={desktopContentLoaded:!1,CplContentLoaded:!1},Mn=function(){Nn(),window.laytheme.on("newpageshown",Nn),window.laytheme.on("newpageshown",function(){setTimeout(function(){Ln()},0)}),window.laytheme.on("sizechanged",function(){Ln()})},Ln=function(){switch(i.Utility.screenSize){case"desktop":case"tablet":Tn();break;case"phone":In()}On(),setTimeout(function(){var e="desktop"==i.Utility.screenSize||"tablet"==i.Utility.screenSize?"desktop":"phone";window.laytheme.trigger("content_ready",e,Pn)},0)},On=function(){jQuery("video").each(function(){jQuery(this).is(":visible")||this.pause()})},Tn=function(){Sn.desktopContentLoaded||(Pn=jQuery("#grid, .cover-region-desktop"),An(Pn),Sn.desktopContentLoaded=!0),$n.desktopContentLoaded||((Pn=jQuery("#footer")).length>0&&An(Pn),$n.desktopContentLoaded=!0)},In=function(){jQuery("#custom-phone-grid").length>0?Sn.hasCPL=!0:Sn.hasCPL=!1,jQuery("#footer-custom-phone-grid").length>0?$n.hasCPL=!0:$n.hasCPL=!1,Sn.hasCPL?Sn.CplContentLoaded||(Pn=jQuery("#custom-phone-grid, .cover-region-phone"),An(Pn),Sn.CplContentLoaded=!0):Sn.desktopContentLoaded||(Pn=jQuery("#grid, .cover-region-desktop"),An(Pn),Sn.desktopContentLoaded=!0),$n.hasCPL?$n.CplContentLoaded||(Pn=jQuery("#footer-custom-phone-grid"),An(Pn),$n.CplContentLoaded=!0):$n.desktopContentLoaded||((Pn=jQuery("#footer")).length>0&&An(Pn),$n.desktopContentLoaded=!0)},An=function(e){switch(frontendPassedData.image_loading){case"instant_load":jn.load_visible_images_then_rest_controller.initLoadImages(e),i.utility_controller.fadeInImageOnLoadViaParent(e)}switch(frontendPassedData.image_loading){case"instant_load":Dn.loadVideosInstantly(e);break;case"lazy_load":i.Utility.isTouchDevice?Dn.loadVideosInstantly(e):Dn.initLazyLoadVideosOnScroll(e)}e.find("iframe[data-src]").each(function(){var e=jQuery(this).attr("data-src");jQuery(this).attr("src",e)}),e.find("[data-embed]").each(function(){var e=jQuery(this).attr("data-embed");jQuery(this).html(e)}),"undefined"!=typeof layCarousel&&void 0!==layCarousel.loadNotLazyloadingImagesIn&&layCarousel.loadNotLazyloadingImagesIn(e),"undefined"!=typeof layCarousel&&void 0!==layCarousel.fadeCarousel.loadFirstLazyImage&&layCarousel.fadeCarousel.loadFirstLazyImage(e)},Nn=function(){Sn.desktopContentLoaded=!1,Sn.CplContentLoaded=!1,$n.desktopContentLoaded=!1,$n.CplContentLoaded=!1};zn.initModule(),bn.initModule(),1!=frontendPassedData.is_customize?et.init():et.cancelLoading(),Z.initModule(),We.initModule(),i.utility_controller.initModule(),j(),W.initModule(),G.initModule(),K.default.initModule(),ue.initModule(),fe.default.initModule(),pe.initModule(),be.initModule(),Ee.initModule(),qe.initModule(),a.initModule(),Ht.initModule(),en.initModule(),sn.initModule(),fn.initModule(),wn.initModule(),L();var Hn=jQuery("body").attr("data-type"),Bn=jQuery("body").attr("data-id"),Un=jQuery("body").attr("data-slug"),Rn=jQuery("body").attr("data-catid");jQuery(document).ready(function(){setTimeout(function(){window.laytheme.trigger("newpage"),window.laytheme.trigger("newpageshown",{},Hn,{id:Bn,type:Hn,slug:Un,catid:Rn})},0)}),n(10),n(9),n(8),n(7)},function(e,t,n){(function(t){e.exports=t.lt_showhide_onscroll_controller=n(2)}).call(this,n(3))},function(e,t,n){(function(t){e.exports=t.lt_utility_controller=n(0)}).call(this,n(3))},function(e,t,n){(function(t){e.exports=t.lt_html5video_controller=n(5)}).call(this,n(3))},function(e,t,n){(function(t){e.exports=t.lt_load_visible_images_then_rest_controller=n(4)}).call(this,n(3))},function(e,t){var n=null!==navigator.userAgent.match(/(iPhone|iPod|iPad|Android|playbook|silk|BlackBerry|BB10|Windows Phone|Tizen|Bada|webOS|IEMobile|Opera Mini)/)?"is-touchdevice":"no-touchdevice";document.documentElement.classList.add(n);var i=/(iPad|iPhone|iPod)/g.test(navigator.userAgent),o=window.devicePixelRatio||1,a=window.screen.width*o,r=window.screen.height*o,s=navigator.userAgent.match(/(Macintosh)/),d=!!navigator.userAgent.match(/Version\/[\d\.]+.*Safari/),l=!1;s=null!==s;var u=!1,c=!1;2048==a&&2732==r&&(u=!0,c=!0),1668==a&&2388==r&&(u=!0,c=!0),2732==a&&2048==r&&(u=!0),1536==a&&2048==r&&(u=!0),1620==a&&2160==r&&(u=!0),1536==a&&2048==r&&(u=!0),1==s&&1==d&&u&&(l=!0),!0===i||l?document.documentElement.classList.add("is-ios"):document.documentElement.classList.add("no-ios"),!0===/(iPad)/g.test(navigator.userAgent)||l?c?document.documentElement.classList.add("is-ipad-without-homebutton"):document.documentElement.classList.add("is-ipad"):document.documentElement.classList.add("no-ipad");var h=/(iPhone)/g.test(navigator.userAgent);!0===i&&1125===a&&2436===r||!0===i&&828===a&&1792===r||!0===i&&1242===a&&2688===r?document.documentElement.classList.add("is-iphonex"):!0===h?document.documentElement.classList.add("is-iphone"):document.documentElement.classList.add("no-iphone");var f=window.chrome,p=window.navigator,y=p.vendor,g=void 0!==window.opr,w=p.userAgent.indexOf("Edge")>-1;p.userAgent.match("CriOS")?document.documentElement.classList.add("is-chrome"):null!==f&&void 0!==f&&"Google Inc."===y&&!1===g&&!1===w?document.documentElement.classList.add("is-chrome"):document.documentElement.classList.add("no-chrome"),!0===navigator.userAgent.toLowerCase().indexOf("android")>-1&&document.documentElement.classList.add("is-android"),!0===d&&document.documentElement.classList.add("is-safari")}]);